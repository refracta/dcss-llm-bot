{"title":"Source diving","url":"https://nethackwiki.com/wiki/Source_diving","type":"markdown","data":"**Source diving** is the action of examining the [source code](/wiki/Source_code \"Source code\") of [NetHack](/wiki/NetHack \"NetHack\"). A person who practices source diving is called a **source diver**. The source code is freely available for anyone, unlike in most commercial programs.\n\nSource diving is usually done when someone wants to know how something really works in the game. Source divers may also program their own [patches](/wiki/Patch \"Patch\") to the game. Some people may just want to look for easter eggs or interesting [comments](/wiki/Comments \"Comments\") in the source.\n\n[Grep](/wiki/Grep \"Grep\"), [awk](http://en.wikipedia.org/wiki/AWK \"wikipedia:AWK\"), and [Doxygen](http://en.wikipedia.org/wiki/Doxygen \"wikipedia:Doxygen\") are useful tools when source diving.\n\n[ ]\n\n## Contents\n\n- [1 Tips](#Tips)\n\n  - [1.1 Function definitions](#Function_definitions)\n  - [1.2 Message sources](#Message_sources)\n\n- [2 See also](#See_also)\n\n## Tips\n\n### Function definitions\n\nMost function declarations are in [extern.h](/wiki/Source:NetHack_3.6.1/include/extern.h \"Source:NetHack 3.6.1/include/extern.h\"), sorted by the .c file they're defined in. If you're looking for a function's definition, you can search for the function name in extern.h, then scroll up to the comment giving the file name. Note that some things that look like functions, such as `resists_fire(mon)`, are actually preprocessor macros; most of those are defined in other header files such as [youprop.h](/wiki/Source:NetHack_3.6.1/include/youprop.h \"Source:NetHack 3.6.1/include/youprop.h\") or [mondata.h](/wiki/Source:NetHack_3.6.1/include/mondata.h \"Source:NetHack 3.6.1/include/mondata.h\").\n\n### Message sources\n\nYou can look up printed messages in the code to get an idea of what governs certain output. However, many messages are constructed using macros and/or string substitution. For example, when trying to [mount](/wiki/Riding \"Riding\") your steed, you may get the message:\n\n- You are unable to swing your leg over.\n\nYou won't find this exact message anywhere in the source code, because the line that produces it reads: `You(\"are unable to swing your %s over.\", body_part(LEG))`. The macro `You()` prints a message beginning with the word \"You\"; there are similar macros for messages starting with \"Your\", \"You hear\", and \"You feel\". The \"%s\" in the message is replaced with the result of the next argument, `body_part(LEG)`, which resolves to a string describing the leg-analogue of your current [polyself](/wiki/Polyself \"Polyself\"), if any. In this case, one way to search for the message would be \"unable to swing your %s over\". In general, if any word or words in a message can vary, replace them with %s in a search; if a number varies, replace it with %ld. (Alternatively, trim to \"unable to swing your\", if your search mechanism may not cooperate with %s or %ld as part of a search.)\n\n## See also\n\n- [Beginner's guide to NetHack sources](/wiki/Beginner%27s_guide_to_NetHack_sources \"Beginner's guide to NetHack sources\") -- note that the .des level file format described here has been replaced with LUA in 3.7 development versions.\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Source diving - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Source_diving\",\"wgTitle\":\"Source diving\",\"wgCurRevisionId\":173136,\"wgRevisionId\":173136,\"wgArticleId\":1839,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Development\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Source_diving\",\"wgRelevantArticleId\":1839,\"wgRequestId\":\"2d32b5c5503009e11ed0e7a0\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"Most function declarations are in extern.h, sorted by the .c file they&#039;re defined in. If you&#039;re looking for a function&#039;s definition, you can search for the function name in extern.h, then scroll up to the comment giving the file name. Note that some things that look like functions, such as resists_fire(mon), are actually preprocessor macros; most of those are defined in other header files such as youprop.h or mondata.h.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Source_diving\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Source_diving rootpage-Source_diving skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Source diving</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><p><b>Source diving</b> is the action of examining the <a href=\"/wiki/Source_code\" title=\"Source code\">source code</a> of <a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a>. A person who practices source diving is called a <b>source diver</b>. The source code is freely available for anyone, unlike in most commercial programs.\n</p><p>Source diving is usually done when someone wants to know how something really works in the game. Source divers may also program their own <a href=\"/wiki/Patch\" title=\"Patch\">patches</a> to the game. Some people may just want to look for easter eggs or interesting <a href=\"/wiki/Comments\" title=\"Comments\">comments</a> in the source.\n</p><p><a href=\"/wiki/Grep\" title=\"Grep\">Grep</a>, <a href=\"http://en.wikipedia.org/wiki/AWK\" class=\"extiw\" title=\"wikipedia:AWK\">awk</a>, and <a href=\"http://en.wikipedia.org/wiki/Doxygen\" class=\"extiw\" title=\"wikipedia:Doxygen\">Doxygen</a> are useful tools when source diving.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Tips\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Tips</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#Function_definitions\"><span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Function definitions</span></a></li>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Message_sources\"><span class=\"tocnumber\">1.2</span> <span class=\"toctext\">Message sources</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#See_also\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">See also</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Tips\">Tips</span></h2>\n<h3><span class=\"mw-headline\" id=\"Function_definitions\">Function definitions</span></h3>\n<p>Most function declarations are in <a href=\"/wiki/Source:NetHack_3.6.1/include/extern.h\" title=\"Source:NetHack 3.6.1/include/extern.h\">extern.h</a>, sorted by the .c file they're defined in. If you're looking for a function's definition, you can search for the function name in extern.h, then scroll up to the comment giving the file name. Note that some things that look like functions, such as <code>resists_fire(mon)</code>, are actually preprocessor macros; most of those are defined in other header files such as <a href=\"/wiki/Source:NetHack_3.6.1/include/youprop.h\" title=\"Source:NetHack 3.6.1/include/youprop.h\">youprop.h</a> or <a href=\"/wiki/Source:NetHack_3.6.1/include/mondata.h\" title=\"Source:NetHack 3.6.1/include/mondata.h\">mondata.h</a>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Message_sources\">Message sources</span></h3>\n<p>You can look up printed messages in the code to get an idea of what governs certain output. However, many messages are constructed using macros and/or string substitution. For example, when trying to <a href=\"/wiki/Riding\" title=\"Riding\">mount</a> your steed, you may get the message: \n</p>\n<dl><dt><span id=\"You_are_unable_to_swing_your_leg_over.\">You are unable to swing your leg over.</span></dt></dl>\n<p>You won't find this exact message anywhere in the source code, because the line that produces it reads: <code>You(\"are unable to swing your %s over.\", body_part(LEG))</code>. The macro <code>You()</code> prints a message beginning with the word \"You\"; there are similar macros for messages starting with \"Your\", \"You hear\", and \"You feel\". The \"%s\" in the message is replaced with the result of the next argument, <code>body_part(LEG)</code>, which resolves to a string describing the leg-analogue of your current <a href=\"/wiki/Polyself\" class=\"mw-redirect\" title=\"Polyself\">polyself</a>, if any. In this case, one way to search for the message would be \"unable to swing your %s over\". In general, if any word or words in a message can vary, replace them with %s in a search; if a number varies, replace it with %ld. (Alternatively, trim to \"unable to swing your\", if your search mechanism may not cooperate with %s or %ld as part of a search.)\n</p>\n<h2><span class=\"mw-headline\" id=\"See_also\">See also</span></h2>\n<ul><li><a href=\"/wiki/Beginner%27s_guide_to_NetHack_sources\" title=\"Beginner&#39;s guide to NetHack sources\">Beginner's guide to NetHack sources</a> -- note that the .des level file format described here has been replaced with LUA in 3.7 development versions.</li></ul>\n\n<!-- \nNewPP limit report\nCached time: 20240926190531\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.007 seconds\nReal time usage: 0.008 seconds\nPreprocessor visited node count: 33/1000000\nPreprocessor generated node count: 126/1000000\nPost‐expand include size: 136/2097152 bytes\nTemplate argument size: 77/2097152 bytes\nHighest expansion depth: 6/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 0/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    2.814      1 -total\n100.00%    2.814      1 Template:Message\n 43.64%    1.228      1 Template:Pp\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:1839-0!canonical and timestamp 20240926190531 and revision id 173136\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Source_diving&amp;oldid=173136\">https://nethackwiki.com/index.php?title=Source_diving&amp;oldid=173136</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Category</a>: <ul><li><a href=\"/wiki/Category:Development\" title=\"Category:Development\">Development</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Source+diving\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Source+diving\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Source_diving\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Source_diving\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Source_diving\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Source_diving&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Source_diving&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Source_diving\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Source_diving\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Source_diving&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Source_diving&amp;oldid=173136\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Source_diving&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 30 June 2024, at 05:23.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.007\",\"walltime\":\"0.008\",\"ppvisitednodes\":{\"value\":33,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":126,\"limit\":1000000},\"postexpandincludesize\":{\"value\":136,\"limit\":2097152},\"templateargumentsize\":{\"value\":77,\"limit\":2097152},\"expansiondepth\":{\"value\":6,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":0,\"limit\":5000000},\"timingprofile\":[\"100.00%    2.814      1 -total\",\"100.00%    2.814      1 Template:Message\",\" 43.64%    1.228      1 Template:Pp\"]},\"cachereport\":{\"timestamp\":\"20240926190531\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":49});});</script>\n\t</body>\n</html>\n","rawPage":"'''Source diving''' is the action of examining the [[source code]] of [[NetHack]]. A person who practices source diving is called a '''source diver'''. The source code is freely available for anyone, unlike in most commercial programs.\n\nSource diving is usually done when someone wants to know how something really works in the game. Source divers may also program their own [[patch]]es to the game. Some people may just want to look for easter eggs or interesting [[comments]] in the source.\n\n[[Grep]], [[wikipedia:AWK|awk]], and [[wikipedia:Doxygen|Doxygen]] are useful tools when source diving.\n\n==Tips==\n===Function definitions===\nMost function declarations are in [[Source:NetHack_3.6.1/include/extern.h|extern.h]], sorted by the .c file they're defined in. If you're looking for a function's definition, you can search for the function name in extern.h, then scroll up to the comment giving the file name. Note that some things that look like functions, such as <code>resists_fire(mon)</code>, are actually preprocessor macros; most of those are defined in other header files such as [[Source:NetHack_3.6.1/include/youprop.h|youprop.h]] or [[Source:NetHack_3.6.1/include/mondata.h|mondata.h]].\n===Message sources===\nYou can look up printed messages in the code to get an idea of what governs certain output. However, many messages are constructed using macros and/or string substitution. For example, when trying to [[riding|mount]] your steed, you may get the message: {{message|You are unable to swing your leg over.}}\nYou won't find this exact message anywhere in the source code, because the line that produces it reads: <code>You(\"are unable to swing your %s over.\", body_part(LEG))</code>. The macro <code>You()</code> prints a message beginning with the word \"You\"; there are similar macros for messages starting with \"Your\", \"You hear\", and \"You feel\". The \"%s\" in the message is replaced with the result of the next argument, <code>body_part(LEG)</code>, which resolves to a string describing the leg-analogue of your current [[polyself]], if any. In this case, one way to search for the message would be \"unable to swing your %s over\". In general, if any word or words in a message can vary, replace them with %s in a search; if a number varies, replace it with %ld. (Alternatively, trim to \"unable to swing your\", if your search mechanism may not cooperate with %s or %ld as part of a search.)\n\n==See also==\n* [[Beginner's guide to NetHack sources]] -- note that the .des level file format described here has been replaced with LUA in 3.7 development versions.\n\n[[Category:Development]]"}