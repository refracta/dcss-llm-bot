{"title":"Magic portal","url":"https://nethackwiki.com/wiki/Magic_portal","type":"markdown","data":"| ^ magic portal [![Magic portal.png](/images/b/b4/Magic_portal.png)](/wiki/File:Magic_portal.png) |                                                  |\n| ------------------------------------------------------------------------------------------------ | ------------------------------------------------ |\n| Generates                                                                                        | Never randomly; special levels and branches only |\n| Effect                                                                                           | Transports between branches                      |\n\nA **magic portal**, ^, is a type of [trap](/wiki/Trap \"Trap\") that appears in *[NetHack](/wiki/NetHack \"NetHack\")*. When activated, a magic portal takes you to a corresponding square on the destination level, which can be in a different [branch](/wiki/Branch \"Branch\") of the dungeon altogether.\n\n[ ]\n\n## Contents\n\n- [1 Generation](#Generation)\n\n- [2 Description](#Description)\n  - [2.1 Quest portal](#Quest_portal)\n\n- [3 Removal](#Removal)\n\n- [4 Strategy](#Strategy)\n  - [4.1 Portals and the Amulet](#Portals_and_the_Amulet)\n\n- [5 History](#History)\n\n- [6 Variants](#Variants)\n\n  - [6.1 SLASH'EM](#SLASH.27EM)\n  - [6.2 UnNetHack](#UnNetHack)\n  - [6.3 dNetHack](#dNetHack)\n  - [6.4 TNNT (the game)](#TNNT_.28the_game.29)\n  - [6.5 notdNetHack](#notdNetHack)\n  - [6.6 EvilHack](#EvilHack)\n\n- [7 Encyclopedia entry](#Encyclopedia_entry)\n\n- [8 References](#References)\n\n## Generation\n\nMagic portals are never randomly generated, and can be found in very specific areas:\n\n- A magic portal leading to the [Quest](/wiki/Quest \"Quest\") will occur on a dungeon level from 11 to 16, where it is placed randomly in a normal dungeon room (i.e. with no stairs).\n- A magic portal leading to [Fort Ludios](/wiki/Fort_Ludios \"Fort Ludios\") can appear in a [vault](/wiki/Vault \"Vault\") anywhere from dungeon level 11 to [Medusa](/wiki/Medusa \"Medusa\").\n  - This portal is the only one that is not guaranteed to appear - several factors can influence this possibility, such as the limit of one portal per dungeon level and the fact that vaults are not guaranteed to appear on a compatible floor.\n- In [Gehennom](/wiki/Gehennom \"Gehennom\"), a portal in one of the [fake Wizard's towers](/wiki/Fake_Wizard%27s_tower \"Fake Wizard's tower\") leads to [the real one](/wiki/Wizard%27s_tower \"Wizard's tower\").\n- A one-way portal is randomly placed on each of the [Elemental Planes](/wiki/Elemental_Planes \"Elemental Planes\"), leading to the next.\n\nNo more than one magic portal is placed per dungeon level: while it is technically possible for more than one portal to exist on a level, the code does not account for this when transporting you between portal endpoints - it will make use of the first portal it finds in the list of traps, regardless of where you departed from originally.[\\[1\\]](#cite_note-1)\n\n## Description\n\nA magic portal is hidden until it is either activated by you or a monster moving onto its square, or else it is revealed through other means such as a [wand of secret door detection](/wiki/Wand_of_secret_door_detection \"Wand of secret door detection\").[\\[2\\]](#cite_note-2)[\\[3\\]](#cite_note-3) As a trap, a magic portal is not a valid square for [teleportation](/wiki/Teleportation \"Teleportation\"), and unlike other traps it cannot be \"escaped\": Moving onto a portal's square will always activate it, unless you are placed there as a result of entering the other end of a portal. You can trigger a portal while on its square by using #[sit](/wiki/Sit \"Sit\"), provided there are no objects on that square.\n\nPets and monsters that are capable of [following](/wiki/Follow \"Follow\") you to other levels will follow you through a magic portal if they are adjacent or connected via [leash](/wiki/Leash \"Leash\").\n\nA magic portal will not disappear when used unless it is a one-way portal, which are encountered on the Elemental Planes; a one-way magic portal can also be wished for in [wizard mode](/wiki/Wizard_mode \"Wizard mode\"), and stepping on its square causes you to [escape the dungeon](/wiki/Escaping_the_dungeon \"Escaping the dungeon\"), ending the game immediately with no option to continue.\n\nWhile a comment in the source code describes the [branchporting](/wiki/Branchport \"Branchport\") effect of the [Eye of the Aethiopica](/wiki/Eye_of_the_Aethiopica \"Eye of the Aethiopica\") as \"open\\[ing] a use-once portal\", the effect does not physically create a portal, instead sending the player directly to the target level.[\\[4\\]](#cite_note-4)[\\[5\\]](#cite_note-5)\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nUsing a magic portal causes you to be [stunned](/wiki/Stunned \"Stunned\") for three turns.\n\n### Quest portal\n\nThe presence of the magic portal to your quest on a dungeon floor is announced by a message from your quest leader the first time you enter that floor, with an example provided below:[\\[6\\]](#cite_note-6)\n\n```\nYou receive a faint telepathic message from Neferet the Green:\nYour help is urgently needed at the Lonely Tower!  Look for a ...ic transporter.\nYou couldn't quite make out that last message.\n```\n\nSubsequent visits to that floor will print a message like the one shown below until the Quest is completed:[\\[7\\]](#cite_note-7)\n\n- You again sense Neferet the Green pleading for help.\n\nIf you attack the quest leader, have converted your alignment, or fail the alignment test more than seven times, the portal will disappear permanently, which can render the game [unwinnable](/wiki/Unwinnable \"Unwinnable\").\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nThe portal will no longer disappear under these circumstances, in order to prevent an unwinnable game.\n\n## Removal\n\nWhile this trap cannot be removed, the portal to your [Quest](/wiki/Quest \"Quest\") will disappear if you are rejected with prejudice.\n\n## Strategy\n\n- *Main article: [Portal detection methods](/wiki/Portal_detection_methods \"Portal detection methods\")*\n\nThere are several methods to detect portals before stumbling into them, including the usual methods of trap detection such as reading a [scroll of gold detection](/wiki/Scroll_of_gold_detection \"Scroll of gold detection\") that is cursed, or else reading a scroll of any beatitude while confused - see the linked article above for details.\n\n### Portals and the Amulet\n\nWearing or wielding the [Amulet of Yendor](/wiki/Amulet_of_Yendor \"Amulet of Yendor\") confers a form of magic portal detection that works like a game of [\"hot and cold\"](http://en.wikipedia.org/wiki/Hot_and_Cold_\\(game\\) \"wikipedia:Hot and Cold (game)\"): Every game turn, there is a 1⁄15 chance that you will receive a message about the Amulet glowing, with the heat of its glow indicating your proximity to a magic portal. While this works for any magic portal, it is clearly intended to serve as a means of portal detection while traversing the Planes in the endgame - in practice, and as displayed in the article linked above, there are several far more convenient methods of doing so.\n\n## History\n\nMagic portals first appear in [NetHack 3.1.0](/wiki/NetHack_3.1.0 \"NetHack 3.1.0\").\n\n## Variants\n\n### SLASH'EM\n\n- *Main article: [Alignment quest](/wiki/Alignment_quest \"Alignment quest\")*\n\nIn [SLASH'EM](/wiki/SLASH%27EM \"SLASH'EM\"), the portal to the Quest is found on a dungeon level ranging from 15 to 19, as well as three additional portals to the three [alignment quests](/wiki/Alignment_quest \"Alignment quest\") - the [Lawful Quest](/wiki/Lawful_Quest \"Lawful Quest\"), [Neutral Quest](/wiki/Neutral_Quest \"Neutral Quest\") and [Chaotic Quest](/wiki/Chaotic_Quest \"Chaotic Quest\") - with one portal per level. Another portal leading to the [black market](/wiki/Black_market_\\(SLASH%27EM\\) \"Black market (SLASH'EM)\") is generated on either dungeon level 22 or 23.\n\n### UnNetHack\n\nIn [UnNetHack](/wiki/UnNetHack \"UnNetHack\"), there is also a portal to the magic portal to the [black market](/wiki/Black_market_\\(UnNetHack\\) \"Black market (UnNetHack)\") placed anywhere from dungeon levels 20 to 24.\n\nThe portal to Fort Ludios is certain to generate: it will always be in the first eligible vault below level 10, on a floor that does not contain the Quest portal. If no eligible vault is generated, then a guaranteed portal will appear on [Medusa's Island](/wiki/Medusa%27s_Island \"Medusa's Island\").\n\nThe [Valley of the Dead](/wiki/Valley_of_the_Dead \"Valley of the Dead\") acts as a hub for several branches tied to Gehennom, with multiple magic portals on the level: one connected to [Vlad's Tower](/wiki/Vlad%27s_Tower \"Vlad's Tower\") that leads directly into the central room of the ground floor; another leading to the [Dragon Caves](/wiki/Dragon_Caves \"Dragon Caves\"); and a third that leads to [Sheol](/wiki/Sheol \"Sheol\"). This hub of portals was made possible using a relatively simple fix.[\\[8\\]](#cite_note-8)\n\n### dNetHack\n\nIn [dNetHack](/wiki/DNetHack \"DNetHack\"), magic portals occur in various areas.\n\nThe portal to each of the [alignment quests](/wiki/Alignment_quest#dNetHack \"Alignment quest\") are anywhere from dungeon levels 12 to 20. Of note is that each level that contains a portal to one of the quests has a corresponding set layout - in the case of the [Chaos Quests](/wiki/Chaos_Quest_\\(dNetHack\\) \"Chaos Quest (dNetHack)\"), there are three different possible level maps that will appear in a given game, and each correlate to a specific Chaos Quest.\n\n### TNNT (the game)\n\n[TNNT (the game)](/wiki/TNNT_\\(the_game\\) \"TNNT (the game)\") has two new branches accessible by magic portals: the [robotfindskitten](/wiki/TNNT_\\(the_game\\)#robotfindskitten \"TNNT (the game)\") level and the [deathmatch](/wiki/Deathmatch \"Deathmatch\") arena.\n\n### notdNetHack\n\nIn [notdNetHack](/wiki/NotdNetHack \"NotdNetHack\"), instead of a stair to the [Gnomish Mines](/wiki/Gnomish_Mines \"Gnomish Mines\"), the [travelling wizard](/index.php?title=Travelling_wizard\\&action=edit\\&redlink=1 \"Travelling wizard (page does not exist)\") in the [village](/index.php?title=Village\\&action=edit\\&redlink=1 \"Village (page does not exist)\") on dungeon level 4 grants you access to the various adventure branches, with a magic portal to the chosen branch replacing the village's [fountain](/wiki/Fountain \"Fountain\") - each adventure branch has its own version of [Minetown](/wiki/Minetown \"Minetown\") and the entrance to the [Windowless Tower](/wiki/Windowless_Tower \"Windowless Tower\") to match the theme.\n\n### EvilHack\n\nIn [EvilHack](/wiki/EvilHack \"EvilHack\"), a magic portal to [Goblin Town](/wiki/Goblin_Town \"Goblin Town\") appears on dungeon level 2 or 3, and another magic portal the [Ice Queen's Realm](/wiki/Ice_Queen%27s_Realm \"Ice Queen's Realm\") is always generated on the floor above Medusa's Island. Still another magic portal located in the Valley of the Dead leads to a single-level branch known as the [Hidden Dungeon](/wiki/Hidden_Dungeon \"Hidden Dungeon\"); a magic portal on the dungeon level below the Valley leads to [Vecna's Domain](/wiki/Vecna%27s_Domain \"Vecna's Domain\"). The magic portal to Fort Ludios is placed in the first available vault below level 10, similar to UnNetHack.\n\n[Infidels](/wiki/Infidel \"Infidel\") start the game with the real Amulet of Yendor in their possession, allowing them to use it at a form of portal detection.\n\n## Encyclopedia entry\n\nPortals can be Mirrors, Pictures, Standing Stones, Stone  \nCircles, Windows, and special gates set up for the purpose.  \nYou will travel through them both to distant parts of the  \ncontinent and to and from our own world. The precise manner  \nof their working is a Management secret.\n\n\\[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]\n\n## References\n\n1. [↑](#cite_ref-1) [src/do.c in NetHack 3.6.7, line 1480](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/do.c#L1480)\n2. [↑](#cite_ref-2) [src/trap.c in NetHack 3.6.7, line 1548](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/trap.c#L1548)\n3. [↑](#cite_ref-3) [src/artifact.c in NetHack 3.6.7, line 2513](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/artifact.c#L2513)\n4. [↑](#cite_ref-4) [src/artifact.c in NetHack 3.6.7, line 1558](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/artifact.c#L1558)\n5. [↑](#cite_ref-5) [src/artifact.c in NetHack 3.6.7, line 1575](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/artifact.c#L1575)\n6. [↑](#cite_ref-6) [dat/quest.txt in NetHack 3.6.7, line 3349](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/quest.txt#L3349)\n7. [↑](#cite_ref-7) [dat/quest.txt in NetHack 3.6.7, line 3349](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/quest.txt#L3349)\n8. [↑](#cite_ref-8) [UnNetHack blob a1a7abf, do.c line 1574](https://github.com/UnNetHack/UnNetHack/blob/a1a7abf3afc/src/do.c#L1574)\n\n[![This article has been updated to reflect NetHack 3.6.7. Click here for more information.](/images/f/f7/Nh367-icon.png)](/wiki/NetHackWiki:Next_version \"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Magic portal - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Magic_portal\",\"wgTitle\":\"Magic portal\",\"wgCurRevisionId\":170844,\"wgRevisionId\":170844,\"wgArticleId\":2027,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Upcoming\",\"Encyclopedia\",\"Nethack-367 articles\",\"Traps\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Magic_portal\",\"wgRelevantArticleId\":2027,\"wgRequestId\":\"0f38eb9e60b4f5d8f6c3d8c7\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"ext.cite.styles\":\"ready\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"ext.cite.a11y\",\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"A magic portal, ^, is a type of trap that appears in NetHack. When activated, a magic portal takes you to a corresponding square on the destination level, which can be in a different branch of the dungeon altogether.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Magic_portal\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Magic_portal rootpage-Magic_portal skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Magic portal</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><div class=\"thumb tright\">\n<table class=\"prettytable\">\n<tbody><tr>\n<th colspan=\"2\"><span class=\"nhsym clr-brightmagenta\">^</span> magic portal <a href=\"/wiki/File:Magic_portal.png\" class=\"image\"><img alt=\"Magic portal.png\" src=\"/images/b/b4/Magic_portal.png\" width=\"16\" height=\"16\" /></a>\n</th></tr>\n<tr>\n<th>Generates\n</th>\n<td>Never randomly; special levels and branches only\n</td></tr>\n<tr>\n<th>Effect\n</th>\n<td>Transports between branches\n</td></tr></tbody></table>\n</div>\n<p>A <b>magic portal</b>, <span class=\"nhsym clr-brightmagenta\">^</span>, is a type of <a href=\"/wiki/Trap\" title=\"Trap\">trap</a> that appears in <i><a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a></i>. When activated, a magic portal takes you to a corresponding square on the destination level, which can be in a different <a href=\"/wiki/Branch\" title=\"Branch\">branch</a> of the dungeon altogether.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Generation\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Generation</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Description\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Description</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Quest_portal\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Quest portal</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Removal\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Removal</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Strategy\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Strategy</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#Portals_and_the_Amulet\"><span class=\"tocnumber\">4.1</span> <span class=\"toctext\">Portals and the Amulet</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#History\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">History</span></a></li>\n<li class=\"toclevel-1 tocsection-8\"><a href=\"#Variants\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">Variants</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-9\"><a href=\"#SLASH.27EM\"><span class=\"tocnumber\">6.1</span> <span class=\"toctext\">SLASH'EM</span></a></li>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#UnNetHack\"><span class=\"tocnumber\">6.2</span> <span class=\"toctext\">UnNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-11\"><a href=\"#dNetHack\"><span class=\"tocnumber\">6.3</span> <span class=\"toctext\">dNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-12\"><a href=\"#TNNT_.28the_game.29\"><span class=\"tocnumber\">6.4</span> <span class=\"toctext\">TNNT (the game)</span></a></li>\n<li class=\"toclevel-2 tocsection-13\"><a href=\"#notdNetHack\"><span class=\"tocnumber\">6.5</span> <span class=\"toctext\">notdNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-14\"><a href=\"#EvilHack\"><span class=\"tocnumber\">6.6</span> <span class=\"toctext\">EvilHack</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-15\"><a href=\"#Encyclopedia_entry\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">Encyclopedia entry</span></a></li>\n<li class=\"toclevel-1 tocsection-16\"><a href=\"#References\"><span class=\"tocnumber\">8</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Generation\">Generation</span></h2>\n<p>Magic portals are never randomly generated, and can be found in very specific areas:\n</p>\n<ul><li>A magic portal leading to the <a href=\"/wiki/Quest\" title=\"Quest\">Quest</a> will occur on a dungeon level from 11 to 16, where it is placed randomly in a normal dungeon room (i.e. with no stairs).</li>\n<li>A magic portal leading to <a href=\"/wiki/Fort_Ludios\" title=\"Fort Ludios\">Fort Ludios</a> can appear in a <a href=\"/wiki/Vault\" title=\"Vault\">vault</a> anywhere from dungeon level 11 to <a href=\"/wiki/Medusa\" title=\"Medusa\">Medusa</a>.\n<ul><li>This portal is the only one that is not guaranteed to appear - several factors can influence this possibility, such as the limit of one portal per dungeon level and the fact that vaults are not guaranteed to appear on a compatible floor.</li></ul></li>\n<li>In <a href=\"/wiki/Gehennom\" title=\"Gehennom\">Gehennom</a>, a portal in one of the <a href=\"/wiki/Fake_Wizard%27s_tower\" class=\"mw-redirect\" title=\"Fake Wizard&#39;s tower\">fake Wizard's towers</a> leads to <a href=\"/wiki/Wizard%27s_tower\" class=\"mw-redirect\" title=\"Wizard&#39;s tower\">the real one</a>.</li>\n<li>A one-way portal is randomly placed on each of the <a href=\"/wiki/Elemental_Planes\" title=\"Elemental Planes\">Elemental Planes</a>, leading to the next.</li></ul>\n<p>No more than one magic portal is placed per dungeon level: while it is technically possible for more than one portal to exist on a level, the code does not account for this when transporting you between portal endpoints - it will make use of the first portal it finds in the list of traps, regardless of where you departed from originally.<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup>\n</p>\n<h2><span class=\"mw-headline\" id=\"Description\">Description</span></h2>\n<p>A magic portal is hidden until it is either activated by you or a monster moving onto its square, or else it is revealed through other means such as a <a href=\"/wiki/Wand_of_secret_door_detection\" title=\"Wand of secret door detection\">wand of secret door detection</a>.<sup id=\"cite_ref-2\" class=\"reference\"><a href=\"#cite_note-2\">&#91;2&#93;</a></sup><sup id=\"cite_ref-3\" class=\"reference\"><a href=\"#cite_note-3\">&#91;3&#93;</a></sup> As a trap, a magic portal is not a valid square for <a href=\"/wiki/Teleportation\" title=\"Teleportation\">teleportation</a>, and unlike other traps it cannot be \"escaped\": Moving onto a portal's square will always activate it, unless you are placed there as a result of entering the other end of a portal. You can trigger a portal while on its square by using #<a href=\"/wiki/Sit\" title=\"Sit\">sit</a>, provided there are no objects on that square.\n</p><p>Pets and monsters that are capable of <a href=\"/wiki/Follow\" class=\"mw-redirect\" title=\"Follow\">following</a> you to other levels will follow you through a magic portal if they are adjacent or connected via <a href=\"/wiki/Leash\" title=\"Leash\">leash</a>.\n</p><p>A magic portal will not disappear when used unless it is a one-way portal, which are encountered on the Elemental Planes; a one-way magic portal can also be wished for in <a href=\"/wiki/Wizard_mode\" title=\"Wizard mode\">wizard mode</a>, and stepping on its square causes you to <a href=\"/wiki/Escaping_the_dungeon\" title=\"Escaping the dungeon\">escape the dungeon</a>, ending the game immediately with no option to continue.\n</p><p>While a comment in the source code describes the <a href=\"/wiki/Branchport\" class=\"mw-redirect\" title=\"Branchport\">branchporting</a> effect of the <a href=\"/wiki/Eye_of_the_Aethiopica\" class=\"mw-redirect\" title=\"Eye of the Aethiopica\">Eye of the Aethiopica</a> as \"open[ing] a use-once portal\", the effect does not physically create a portal, instead sending the player directly to the target level.<sup id=\"cite_ref-4\" class=\"reference\"><a href=\"#cite_note-4\">&#91;4&#93;</a></sup><sup id=\"cite_ref-5\" class=\"reference\"><a href=\"#cite_note-5\">&#91;5&#93;</a></sup>\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nUsing a magic portal causes you to be <a href=\"/wiki/Stunned\" class=\"mw-redirect\" title=\"Stunned\">stunned</a> for three turns.</div>\n<h3><span class=\"mw-headline\" id=\"Quest_portal\">Quest portal</span></h3>\n<p>The presence of the magic portal to your quest on a dungeon floor is announced by a message from your quest leader the first time you enter that floor, with an example provided below:<sup id=\"cite_ref-6\" class=\"reference\"><a href=\"#cite_note-6\">&#91;6&#93;</a></sup>\n</p>\n<pre>You receive a faint telepathic message from <a href=\"/wiki/Neferet_the_Green\" title=\"Neferet the Green\">Neferet the Green</a>:\nYour help is urgently needed at <a href=\"/wiki/Wizard_quest\" title=\"Wizard quest\">the Lonely Tower!</a>  Look for a ...ic transporter.\nYou couldn't quite make out that last message.\n</pre>\n<p>Subsequent visits to that floor will print a message like the one shown below until the Quest is completed:<sup id=\"cite_ref-7\" class=\"reference\"><a href=\"#cite_note-7\">&#91;7&#93;</a></sup>\n</p>\n<dl><dt><span id=\"You_again_sense_Neferet_the_Green_pleading_for_help.\">You again sense Neferet the Green pleading for help.</span></dt></dl>\n<p>If you attack the quest leader, have converted your alignment, or fail the alignment test more than seven times, the portal will disappear permanently, which can render the game <a href=\"/wiki/Unwinnable\" title=\"Unwinnable\">unwinnable</a>.\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nThe portal will no longer disappear under these circumstances, in order to prevent an unwinnable game.</div>\n<h2><span class=\"mw-headline\" id=\"Removal\">Removal</span></h2>\n<p>While this trap cannot be removed, the portal to your <a href=\"/wiki/Quest\" title=\"Quest\">Quest</a> will disappear if you are rejected with prejudice.\n</p>\n<h2><span class=\"mw-headline\" id=\"Strategy\">Strategy</span></h2>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Portal_detection_methods\" title=\"Portal detection methods\">Portal detection methods</a></i></div></dd></dl>\n<p>There are several methods to detect portals before stumbling into them, including the usual methods of trap detection such as reading a <a href=\"/wiki/Scroll_of_gold_detection\" title=\"Scroll of gold detection\">scroll of gold detection</a> that is cursed, or else reading a scroll of any beatitude while confused - see the linked article above for details.\n</p>\n<h3><span class=\"mw-headline\" id=\"Portals_and_the_Amulet\">Portals and the Amulet</span></h3>\n<p>Wearing or wielding the <a href=\"/wiki/Amulet_of_Yendor\" title=\"Amulet of Yendor\">Amulet of Yendor</a> confers a form of magic portal detection that works like a game of <a href=\"http://en.wikipedia.org/wiki/Hot_and_Cold_(game)\" class=\"extiw\" title=\"wikipedia:Hot and Cold (game)\">\"hot and cold\"</a>: Every game turn, there is a <sup>1</sup>&#8260;<sub>15</sub> chance that you will receive a message about the Amulet glowing, with the heat of its glow indicating your proximity to a magic portal. While this works for any magic portal, it is clearly intended to serve as a means of portal detection while traversing the Planes in the endgame - in practice, and as displayed in the article linked above, there are several far more convenient methods of doing so.\n</p>\n<h2><span class=\"mw-headline\" id=\"History\">History</span></h2>\n<p>Magic portals first appear in <a href=\"/wiki/NetHack_3.1.0\" title=\"NetHack 3.1.0\">NetHack 3.1.0</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Variants\">Variants</span></h2>\n<h3><span id=\"SLASH'EM\"></span><span class=\"mw-headline\" id=\"SLASH.27EM\">SLASH'EM</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Alignment_quest\" title=\"Alignment quest\">Alignment quest</a></i></div></dd></dl>\n<p>In <a href=\"/wiki/SLASH%27EM\" title=\"SLASH&#39;EM\">SLASH'EM</a>, the portal to the Quest is found on a dungeon level ranging from 15 to 19, as well as three additional portals to the three <a href=\"/wiki/Alignment_quest\" title=\"Alignment quest\">alignment quests</a> - the <a href=\"/wiki/Lawful_Quest\" title=\"Lawful Quest\">Lawful Quest</a>, <a href=\"/wiki/Neutral_Quest\" title=\"Neutral Quest\">Neutral Quest</a> and <a href=\"/wiki/Chaotic_Quest\" title=\"Chaotic Quest\">Chaotic Quest</a> - with one portal per level. Another portal leading to the <a href=\"/wiki/Black_market_(SLASH%27EM)\" title=\"Black market (SLASH&#39;EM)\">black market</a> is generated on either dungeon level 22 or 23.\n</p>\n<h3><span class=\"mw-headline\" id=\"UnNetHack\">UnNetHack</span></h3>\n<p>In <a href=\"/wiki/UnNetHack\" title=\"UnNetHack\">UnNetHack</a>, there is also a portal to the magic portal to the <a href=\"/wiki/Black_market_(UnNetHack)\" title=\"Black market (UnNetHack)\">black market</a> placed anywhere from dungeon levels 20 to 24.\n</p><p>The portal to Fort Ludios is certain to generate: it will always be in the first eligible vault below level 10, on a floor that does not contain the Quest portal. If no eligible vault is generated, then a guaranteed portal will appear on <a href=\"/wiki/Medusa%27s_Island\" title=\"Medusa&#39;s Island\">Medusa's Island</a>.\n</p><p>The <a href=\"/wiki/Valley_of_the_Dead\" title=\"Valley of the Dead\">Valley of the Dead</a> acts as a hub for several branches tied to Gehennom, with multiple magic portals on the level: one connected to <a href=\"/wiki/Vlad%27s_Tower\" title=\"Vlad&#39;s Tower\">Vlad's Tower</a> that leads directly into the central room of the ground floor; another leading to the <a href=\"/wiki/Dragon_Caves\" class=\"mw-redirect\" title=\"Dragon Caves\">Dragon Caves</a>; and a third that leads to <a href=\"/wiki/Sheol\" title=\"Sheol\">Sheol</a>. This hub of portals was made possible using a relatively simple fix.<sup id=\"cite_ref-8\" class=\"reference\"><a href=\"#cite_note-8\">&#91;8&#93;</a></sup>\n</p>\n<h3><span class=\"mw-headline\" id=\"dNetHack\">dNetHack</span></h3>\n<p>In <a href=\"/wiki/DNetHack\" title=\"DNetHack\">dNetHack</a>, magic portals occur in various areas.\n</p><p>The portal to each of the <a href=\"/wiki/Alignment_quest#dNetHack\" title=\"Alignment quest\">alignment quests</a> are anywhere from dungeon levels 12 to 20. Of note is that each level that contains a portal to one of the quests has a corresponding set layout - in the case of the <a href=\"/wiki/Chaos_Quest_(dNetHack)\" title=\"Chaos Quest (dNetHack)\">Chaos Quests</a>, there are three different possible level maps that will appear in a given game, and each correlate to a specific Chaos Quest.\n</p>\n<h3><span id=\"TNNT_(the_game)\"></span><span class=\"mw-headline\" id=\"TNNT_.28the_game.29\">TNNT (the game)</span></h3>\n<p><a href=\"/wiki/TNNT_(the_game)\" title=\"TNNT (the game)\">TNNT (the game)</a> has two new branches accessible by magic portals: the <a href=\"/wiki/TNNT_(the_game)#robotfindskitten\" title=\"TNNT (the game)\">robotfindskitten</a> level and the <a href=\"/wiki/Deathmatch\" title=\"Deathmatch\">deathmatch</a> arena.\n</p>\n<h3><span class=\"mw-headline\" id=\"notdNetHack\">notdNetHack</span></h3>\n<p>In <a href=\"/wiki/NotdNetHack\" title=\"NotdNetHack\">notdNetHack</a>, instead of a stair to the <a href=\"/wiki/Gnomish_Mines\" title=\"Gnomish Mines\">Gnomish Mines</a>, the <a href=\"/index.php?title=Travelling_wizard&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Travelling wizard (page does not exist)\">travelling wizard</a> in the <a href=\"/index.php?title=Village&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Village (page does not exist)\">village</a> on dungeon level 4 grants you access to the various adventure branches, with a magic portal to the chosen branch replacing the village's <a href=\"/wiki/Fountain\" title=\"Fountain\">fountain</a> - each adventure branch has its own version of <a href=\"/wiki/Minetown\" title=\"Minetown\">Minetown</a> and the entrance to the <a href=\"/wiki/Windowless_Tower\" title=\"Windowless Tower\">Windowless Tower</a> to match the theme.\n</p>\n<h3><span class=\"mw-headline\" id=\"EvilHack\">EvilHack</span></h3>\n<p>In <a href=\"/wiki/EvilHack\" title=\"EvilHack\">EvilHack</a>, a magic portal to <a href=\"/wiki/Goblin_Town\" title=\"Goblin Town\">Goblin Town</a> appears on dungeon level 2 or 3, and another magic portal the <a href=\"/wiki/Ice_Queen%27s_Realm\" title=\"Ice Queen&#39;s Realm\">Ice Queen's Realm</a> is always generated on the floor above Medusa's Island. Still another magic portal located in the Valley of the Dead leads to a single-level branch known as the <a href=\"/wiki/Hidden_Dungeon\" title=\"Hidden Dungeon\">Hidden Dungeon</a>; a magic portal on the dungeon level below the Valley leads to <a href=\"/wiki/Vecna%27s_Domain\" title=\"Vecna&#39;s Domain\">Vecna's Domain</a>. The magic portal to Fort Ludios is placed in the first available vault below level 10, similar to UnNetHack.\n</p><p><a href=\"/wiki/Infidel\" class=\"mw-redirect\" title=\"Infidel\">Infidels</a> start the game with the real Amulet of Yendor in their possession, allowing them to use it at a form of portal detection.\n</p>\n<h2><span class=\"mw-headline\" id=\"Encyclopedia_entry\">Encyclopedia entry</span></h2><div class=\"nhencyclopedia\">\n<div class=\"poem\">\n<p>Portals can be Mirrors, Pictures, Standing Stones, Stone<br />\nCircles, Windows, and special gates set up for the purpose.<br />\nYou will travel through them both to distant parts of the<br />\ncontinent and to and from our own world.  The precise manner<br />\nof their working is a Management secret.<br />\n</p>\n<div style=\"text-align:right\">[ The Tough Guide to Fantasyland, by Diana Wynne Jones ] </div>\n</div></div>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-1\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/do.c#L1480\">src/do.c in NetHack 3.6.7, line 1480</a>\n     </span>\n</li>\n<li id=\"cite_note-2\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-2\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/trap.c#L1548\">src/trap.c in NetHack 3.6.7, line 1548</a>\n     </span>\n</li>\n<li id=\"cite_note-3\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-3\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/artifact.c#L2513\">src/artifact.c in NetHack 3.6.7, line 2513</a>\n     </span>\n</li>\n<li id=\"cite_note-4\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-4\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/artifact.c#L1558\">src/artifact.c in NetHack 3.6.7, line 1558</a>\n     </span>\n</li>\n<li id=\"cite_note-5\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-5\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/artifact.c#L1575\">src/artifact.c in NetHack 3.6.7, line 1575</a>\n     </span>\n</li>\n<li id=\"cite_note-6\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-6\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/quest.txt#L3349\">dat/quest.txt in NetHack 3.6.7, line 3349</a>\n     </span>\n</li>\n<li id=\"cite_note-7\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-7\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/quest.txt#L3349\">dat/quest.txt in NetHack 3.6.7, line 3349</a>\n     </span>\n</li>\n<li id=\"cite_note-8\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-8\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/UnNetHack/UnNetHack/blob/a1a7abf3afc/src/do.c#L1574\">UnNetHack blob a1a7abf, do.c line 1574</a></span>\n</li>\n</ol></div>\n<div style=\"display:none; right:10px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\"><img alt=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\" src=\"/images/f/f7/Nh367-icon.png\" width=\"32\" height=\"32\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240926184518\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.054 seconds\nReal time usage: 0.196 seconds\nPreprocessor visited node count: 849/1000000\nPreprocessor generated node count: 2949/1000000\nPost‐expand include size: 6945/2097152 bytes\nTemplate argument size: 1987/2097152 bytes\nHighest expansion depth: 9/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 1/20\nUnstrip post‐expand size: 3640/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%   72.883      1 -total\n 27.57%   20.095      1 Template:Nethack-367\n 19.34%   14.098      1 Template:Encyclopedia\n 17.99%   13.113      1 Template:Version_icon\n 17.89%   13.042      7 Template:Refsrc\n 15.99%   11.654      1 Template:Right-align\n 14.89%   10.855      1 Template:Top_icon\n  8.25%    6.016      7 Template:Refsrc/link\n  4.28%    3.122      1 Template:Purple\n  3.85%    2.803      1 Template:Message\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:2027-0!canonical and timestamp 20240926184518 and revision id 170844\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Magic_portal&amp;oldid=170844\">https://nethackwiki.com/index.php?title=Magic_portal&amp;oldid=170844</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Categories</a>: <ul><li><a href=\"/wiki/Category:Upcoming\" title=\"Category:Upcoming\">Upcoming</a></li><li><a href=\"/wiki/Category:Encyclopedia\" title=\"Category:Encyclopedia\">Encyclopedia</a></li><li><a href=\"/wiki/Category:Nethack-367_articles\" title=\"Category:Nethack-367 articles\">Nethack-367 articles</a></li><li><a href=\"/wiki/Category:Traps\" title=\"Category:Traps\">Traps</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Magic+portal\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Magic+portal\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Magic_portal\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Magic_portal\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Magic_portal\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Magic_portal&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Magic_portal&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Magic_portal\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Magic_portal\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Magic_portal&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Magic_portal&amp;oldid=170844\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Magic_portal&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 18 June 2024, at 05:08.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.054\",\"walltime\":\"0.196\",\"ppvisitednodes\":{\"value\":849,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":2949,\"limit\":1000000},\"postexpandincludesize\":{\"value\":6945,\"limit\":2097152},\"templateargumentsize\":{\"value\":1987,\"limit\":2097152},\"expansiondepth\":{\"value\":9,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":1,\"limit\":20},\"unstrip-size\":{\"value\":3640,\"limit\":5000000},\"timingprofile\":[\"100.00%   72.883      1 -total\",\" 27.57%   20.095      1 Template:Nethack-367\",\" 19.34%   14.098      1 Template:Encyclopedia\",\" 17.99%   13.113      1 Template:Version_icon\",\" 17.89%   13.042      7 Template:Refsrc\",\" 15.99%   11.654      1 Template:Right-align\",\" 14.89%   10.855      1 Template:Top_icon\",\"  8.25%    6.016      7 Template:Refsrc/link\",\"  4.28%    3.122      1 Template:Purple\",\"  3.85%    2.803      1 Template:Message\"]},\"cachereport\":{\"timestamp\":\"20240926184518\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":288});});</script>\n\t</body>\n</html>\n","rawPage":"{{trap\n |name=magic portal\n |color=brightmagenta\n |generation=Never randomly; special levels and branches only\n |effect=Transports between branches\n}}\n\nA '''magic portal''', {{purple|^}}, is a type of [[trap]] that appears in ''[[NetHack]]''. When activated, a magic portal takes you to a corresponding square on the destination level, which can be in a different [[branch]] of the dungeon altogether.\n\n==Generation==\nMagic portals are never randomly generated, and can be found in very specific areas:\n\n* A magic portal leading to the [[Quest]] will occur on a dungeon level from 11 to 16, where it is placed randomly in a normal dungeon room (i.e. with no stairs).\n* A magic portal leading to [[Fort Ludios]] can appear in a [[vault]] anywhere from dungeon level 11 to [[Medusa]].\n** This portal is the only one that is not guaranteed to appear - several factors can influence this possibility, such as the limit of one portal per dungeon level and the fact that vaults are not guaranteed to appear on a compatible floor.\n* In [[Gehennom]], a portal in one of the [[fake Wizard's tower]]s leads to [[Wizard's tower|the real one]].\n* A one-way portal is randomly placed on each of the [[Elemental Planes]], leading to the next.\n\nNo more than one magic portal is placed per dungeon level: while it is technically possible for more than one portal to exist on a level, the code does not account for this when transporting you between portal endpoints - it will make use of the first portal it finds in the list of traps, regardless of where you departed from originally.{{refsrc|src/do.c|1480|version=NetHack 3.6.7}}\n\n==Description==\nA magic portal is hidden until it is either activated by you or a monster moving onto its square, or else it is revealed through other means such as a [[wand of secret door detection]].{{refsrc|src/trap.c|1548|version=NetHack 3.6.7}}{{refsrc|src/artifact.c|2513|version=NetHack 3.6.7}} As a trap, a magic portal is not a valid square for [[teleportation]], and unlike other traps it cannot be \"escaped\": Moving onto a portal's square will always activate it, unless you are placed there as a result of entering the other end of a portal. You can trigger a portal while on its square by using #[[sit]], provided there are no objects on that square.\n\nPets and monsters that are capable of [[follow]]ing you to other levels will follow you through a magic portal if they are adjacent or connected via [[leash]].\n\nA magic portal will not disappear when used unless it is a one-way portal, which are encountered on the Elemental Planes; a one-way magic portal can also be wished for in [[wizard mode]], and stepping on its square causes you to [[Escaping the dungeon|escape the dungeon]], ending the game immediately with no option to continue.\n\nWhile a comment in the source code describes the [[branchport]]ing effect of the [[Eye of the Aethiopica]] as \"open[ing] a use-once portal\", the effect does not physically create a portal, instead sending the player directly to the target level.{{refsrc|src/artifact.c|1558|version=NetHack 3.6.7}}{{refsrc|src/artifact.c|1575|version=NetHack 3.6.7}}\n\n{{upcoming|NetHack 3.7.0|Using a magic portal causes you to be [[stunned]] for three turns.}}\n\n===Quest portal===\nThe presence of the magic portal to your quest on a dungeon floor is announced by a message from your quest leader the first time you enter that floor, with an example provided below:{{refsrc|dat/quest.txt|3349|version=NetHack 3.6.7}}\n\n You receive a faint telepathic message from [[Neferet the Green]]:\n Your help is urgently needed at [[Wizard quest|the Lonely Tower!]]  Look for a ...ic transporter.\n You couldn't quite make out that last message.\n\nSubsequent visits to that floor will print a message like the one shown below until the Quest is completed:{{refsrc|dat/quest.txt|3349|version=NetHack 3.6.7}}\n\n{{message|You again sense Neferet the Green pleading for help.}}\n\nIf you attack the quest leader, have converted your alignment, or fail the alignment test more than seven times, the portal will disappear permanently, which can render the game [[unwinnable]].\n\n{{upcoming|NetHack 3.7.0|The portal will no longer disappear under these circumstances, in order to prevent an unwinnable game.}}\n\n==Removal==\nWhile this trap cannot be removed, the portal to your [[Quest]] will disappear if you are rejected with prejudice.\n\n==Strategy==\n{{Main|Portal detection methods}}\n\nThere are several methods to detect portals before stumbling into them, including the usual methods of trap detection such as reading a [[scroll of gold detection]] that is cursed, or else reading a scroll of any beatitude while confused - see the linked article above for details.\n\n===Portals and the Amulet===\nWearing or wielding the [[Amulet of Yendor]] confers a form of magic portal detection that works like a game of [[wikipedia:Hot and Cold (game)|\"hot and cold\"]]: Every game turn, there is a {{frac|15}} chance that you will receive a message about the Amulet glowing, with the heat of its glow indicating your proximity to a magic portal. While this works for any magic portal, it is clearly intended to serve as a means of portal detection while traversing the Planes in the endgame - in practice, and as displayed in the article linked above, there are several far more convenient methods of doing so.\n\n==History==\nMagic portals first appear in [[NetHack 3.1.0]].\n\n==Variants==\n===SLASH'EM===\n{{main|Alignment quest}}\nIn [[SLASH'EM]], the portal to the Quest is found on a dungeon level ranging from 15 to 19, as well as three additional portals to the three [[alignment quest]]s - the [[Lawful Quest]], [[Neutral Quest]] and [[Chaotic Quest]] - with one portal per level. Another portal leading to the [[Black market (SLASH'EM)|black market]] is generated on either dungeon level 22 or 23.\n\n===UnNetHack===\nIn [[UnNetHack]], there is also a portal to the magic portal to the [[Black market (UnNetHack)|black market]] placed anywhere from dungeon levels 20 to 24.\n\nThe portal to Fort Ludios is certain to generate: it will always be in the first eligible vault below level 10, on a floor that does not contain the Quest portal. If no eligible vault is generated, then a guaranteed portal will appear on [[Medusa's Island]].\n\nThe [[Valley of the Dead]] acts as a hub for several branches tied to Gehennom, with multiple magic portals on the level: one connected to [[Vlad's Tower]] that leads directly into the central room of the ground floor; another leading to the [[Dragon Caves]]; and a third that leads to [[Sheol]]. This hub of portals was made possible using a relatively simple fix.<ref>[https://github.com/UnNetHack/UnNetHack/blob/a1a7abf3afc/src/do.c#L1574 UnNetHack blob a1a7abf, do.c line 1574]</ref>\n\n===dNetHack===\nIn [[dNetHack]], magic portals occur in various areas.\n\nThe portal to each of the [[Alignment quest#dNetHack|alignment quests]] are anywhere from dungeon levels 12 to 20. Of note is that each level that contains a portal to one of the quests has a corresponding set layout - in the case of the [[Chaos Quest (dNetHack)|Chaos Quests]], there are three different possible level maps that will appear in a given game, and each correlate to a specific Chaos Quest.\n\n===TNNT (the game)===\n[[TNNT (the game)]] has two new branches accessible by magic portals: the [[TNNT (the game)#robotfindskitten|robotfindskitten]] level and the [[deathmatch]] arena.\n\n===notdNetHack===\nIn [[notdNetHack]], instead of a stair to the [[Gnomish Mines]], the [[travelling wizard]] in the [[village]] on dungeon level 4 grants you access to the various adventure branches, with a magic portal to the chosen branch replacing the village's [[fountain]] - each adventure branch has its own version of [[Minetown]] and the entrance to the [[Windowless Tower]] to match the theme.\n\n===EvilHack===\nIn [[EvilHack]], a magic portal to [[Goblin Town]] appears on dungeon level 2 or 3, and another magic portal the [[Ice Queen's Realm]] is always generated on the floor above Medusa's Island. Still another magic portal located in the Valley of the Dead leads to a single-level branch known as the [[Hidden Dungeon]]; a magic portal on the dungeon level below the Valley leads to [[Vecna's Domain]]. The magic portal to Fort Ludios is placed in the first available vault below level 10, similar to UnNetHack.\n\n[[Infidel]]s start the game with the real Amulet of Yendor in their possession, allowing them to use it at a form of portal detection.\n\n==Encyclopedia entry==\n{{encyclopedia|\nPortals can be Mirrors, Pictures, Standing Stones, Stone\nCircles, Windows, and special gates set up for the purpose.\nYou will travel through them both to distant parts of the\ncontinent and to and from our own world.  The precise manner\nof their working is a Management secret.\n|[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]\n}}\n\n==References==\n<References />\n{{nethack-367}}\n[[Category:Traps]]"}