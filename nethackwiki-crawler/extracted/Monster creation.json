{"title":"Monster creation","url":"https://nethackwiki.com/wiki/Monster_creation","type":"markdown","data":"A user has suggested improving this page or section as follows:\n\n*\"Could use more details on the placement of generated monsters - the timing seems to be *mostly* covered. Could also stand to flesh out what levels employ special rules and link to the dedicated pages, as well as what governs other forms of monster creation.\"*\n\n**Monster creation** is the process by which *[NetHack](/wiki/NetHack \"NetHack\")* determines when, where and how a particular monster is generated - whether it is randomly placing an unspecified creature somewhere on the floor, or else populating a freshly created level as soon as the player enters.\n\nNormal monster generation takes place during level creation and at the end of each turn. Monster creation code is also invoked when the player or another monster makes use of an item that generates a monster, such as a [scroll of create monster](/wiki/Scroll_of_create_monster \"Scroll of create monster\") or a [bag of tricks](/wiki/Bag_of_tricks \"Bag of tricks\").\n\n[ ]\n\n## Contents\n\n- [1 Normal monster selection](#Normal_monster_selection)\n  - [1.1 Where this mechanism is used](#Where_this_mechanism_is_used)\n- [2 Selection by monster class](#Selection_by_monster_class)\n  - [2.1 Where this mechanism is used](#Where_this_mechanism_is_used_2)\n    - [2.1.1 Notable monster class selection in special levels](#Notable_monster_class_selection_in_special_levels)\n- [3 Level creation](#Level_creation)\n- [4 Monster placement](#Monster_placement)\n- [5 See also](#See_also)\n- [6 References](#References)\n\n## Normal monster selection\n\nWhen a monster is generated, *NetHack* first determines which of the monsters in its database is eligible. [Unique monsters](/wiki/Unique_monster \"Unique monster\") and any monster marked with the flag `G_NOGEN` cannot be randomly generated; [genocided](/wiki/Genocided \"Genocided\") and [extinct](/wiki/Extinct \"Extinct\") monsters are excluded as well.[\\[1\\]](#cite_note-1)\n\nFrom there, a monster is generally eligible if:[\\[2\\]](#cite_note-2)\n\n- Its [monster difficulty](/wiki/Monster_difficulty \"Monster difficulty\") is less than or equal to the average of [the level's difficulty](/wiki/Level_difficulty \"Level difficulty\") and the hero's [experience level](/wiki/Experience_level \"Experience level\").\n\n- Its difficulty is at least one-sixth of the current level's difficulty.\n\n- If the hero is on the [Rogue level](/wiki/Rogue_level \"Rogue level\"), then monsters represented by glyphs with lower-case letters (e.g., [a](/wiki/Ant_or_other_insect \"Ant or other insect\"), [b](/wiki/Blob \"Blob\"), [c](/wiki/Cockatrice_\\(monster_class\\) \"Cockatrice (monster class)\")) are excluded from eligibility.\n\n- If the hero is in [Gehennom](/wiki/Gehennom \"Gehennom\"), [lawful](/wiki/Lawful \"Lawful\") monsters and those marked with the flag `G_NOHELL` (e.g., [winter wolf](/wiki/Winter_wolf \"Winter wolf\")) are excluded, while monsters with the flag `G_HELL`) (e.g., [hell hounds](/wiki/Hell_hound \"Hell hound\")) are *only* eligible to be randomly generated in Gehennom and are ineligible elsewhere.[\\[3\\]](#cite_note-3)[\\[4\\]](#cite_note-4)\n\n- On the [Elemental Planes](/wiki/Elemental_Planes \"Elemental Planes\"):[\\[5\\]](#cite_note-5)\n\n  - If the hero is on the [Plane of Water](/wiki/Plane_of_Water \"Plane of Water\"), only [swimmers](/wiki/Swimmer \"Swimmer\") are eligible for random generation.\n  - If the hero is on the [Plane of Fire](/wiki/Plane_of_Fire \"Plane of Fire\"), only monsters with [fire resistance](/wiki/Fire_resistance \"Fire resistance\") are eligible.\n  - If the hero is on the [Plane of Air](/wiki/Plane_of_Air \"Plane of Air\"), only monsters that are capable of [flying](/wiki/Flying \"Flying\") or [floating](/wiki/Floating \"Floating\"), and are [whirly](/wiki/Whirly \"Whirly\"), [amorphous](/wiki/Amorphous \"Amorphous\"), or [unsolid](/wiki/Unsolid \"Unsolid\") are eligible. The [trapper or lurker above](/wiki/Trapper_or_lurker_above \"Trapper or lurker above\") [monster class](/wiki/Monster_class \"Monster class\") is explicitly excluded, as both monsters rely on matching the surroundings of the dungeon walls, floor and ceiling in order to [hide](/wiki/Hide \"Hide\").\n\nEach monster remaining on this list that meets the above conditions is eligible, and has a probability of being generated equal to its effective [monster frequency](/wiki/Monster_frequency \"Monster frequency\") divided by the sum of the monster frequencies of every eligible monster. This can be visualized as a hat full of labeled slips of paper, with each one bearing the name of a monster - each creature's monster frequency determines how many slips of paper in the hat have its name, and the game then selects a name out of the hat at random.\n\n### Where this mechanism is used\n\nAt the end of each turn, or if an item that generates a monster is used, the possibility of creating a monster depends on the following:[\\[6\\]](#cite_note-6)\n\n- If the [demigod](/wiki/Demigod \"Demigod\") flag is set by either killing the [Wizard of Yendor](/wiki/Wizard_of_Yendor \"Wizard of Yendor\") at least once or performing the [Invocation](/wiki/Invocation \"Invocation\"), there is a 1⁄25 chance of at least one monster being generated.\n- If the demigod flag is not set, but the hero is in Gehennom, monster generation will occur with a 1⁄50 chance each turn.\n- Otherwise, normal monster generation takes place with a 1⁄70 chance each turn.\n\nThe following items or spells that create monsters are subject to this rule:\n\n- [Spellbook of create monster](/wiki/Spellbook_of_create_monster \"Spellbook of create monster\")\n- [Wand of create monster](/wiki/Wand_of_create_monster \"Wand of create monster\")\n- [Scroll of create monster](/wiki/Scroll_of_create_monster \"Scroll of create monster\")\n- [Bag of tricks](/wiki/Bag_of_tricks \"Bag of tricks\")\n\n## Selection by monster class\n\nWhere a class of monster is specified, such as during the creation of certain levels (including the [Gnomish Mines](/wiki/Gnomish_Mines \"Gnomish Mines\")) or random generation in the [Quest](/wiki/Quest \"Quest\"), a different monster generation algorithm is used, and monsters may be generated with probabilities different from the normal mechanism.[\\[7\\]](#cite_note-7)\n\nMonster selection follows this procedure:\n\n- Monsters of the same class are assumed to be contiguously defined in the mons\\[] array, and in the order of their difficulty.\n\n- Quest guardians and player monsters are not eligible because they are defined separately from the rest of the [@](/wiki/Human_or_elf \"Human or elf\").\n\n- If an alignment is specified, only monsters of that alignment are eligible.\n\n- Unique monsters, monsters with the G\\_NOGEN flag, extinct, and genocided monsters are not eligible.\n\n- Imagine a bag that is initially empty. For each eligible monster starting with the first defined monster of the class, monsters are added to the bag:\n\n  - If the difficulty level of the current monster is more than twice the [level difficulty](/wiki/Level_difficulty \"Level difficulty\"), there is a 1⁄2 chance that we stop adding any more monsters to the bag; the current monster is not added and we go directly to the final step of selecting a monster from the bag. However, if the current monster's difficulty is the same as the previous monster's, or if there is no monster in the bag yet, we instead continue the process (thus, monsters of the same difficulty are always added to the bag together, and the bag is never empty if there are any eligible monsters).\n  - Let *k* be the monster's [monster frequency](/wiki/Monster_frequency \"Monster frequency\"). If *k* is greater than 0, *k*+1 copies of that monster are added to the bag, except that only *k* copies are added if the [adjusted monster level](/wiki/Monster_level#Calculation_of_monster_level \"Monster level\") is greater than twice the player's [experience level](/wiki/Experience_level \"Experience level\").\n\n- Finally, a random monster is selected from the bag.\n\nNote that this process ignores some restrictions that are normally in place, such as monsters that normally would not generate outside of [Gehennom](/wiki/Gehennom \"Gehennom\"). In addition, monsters that are too difficult to be generated via the [normal mechanism](#Normal_monster_selection) may be generated by this process - in particular, this is how [minesflayers](/wiki/Minesflayer \"Minesflayer\") generate.\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nPer [commit c29ffe1d](https://github.com/NetHack/NetHack/commit/c29ffe1d823b338956de2517057b7e87ef64795e), this mechanism no longer generates [master liches](/wiki/Master_lich \"Master lich\") and [arch-liches](/wiki/Arch-lich \"Arch-lich\") outside of Gehennom. For other monsters that normally generate only inside or outside of Gehennom, this mechanism respects the restriction 8⁄9 of the time.\n\n### Where this mechanism is used\n\n| Condition                                                                                                                                                                                                 | Monster classes                                                                                                                                                                                                                                                                                                                                                                                 | Notes                                                                                                                                                                           |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Ringing a cursed [bell](/wiki/Bell \"Bell\")                                                                                                                                                                | [n](/wiki/Nymph_\\(monster_class\\) \"Nymph (monster class)\")[\\[8\\]](#cite_note-8)                                                                                                                                                                                                                                                                                                                 | 1⁄4 chance; not generated with inventory; if any nymph is genocided or extinct, none of them are generated.                                                                     |\n| Digging a [grave](/wiki/Grave \"Grave\")                                                                                                                                                                    | [Z](/wiki/Zombie_\\(monster_class\\) \"Zombie (monster class)\")[M](/wiki/Mummy \"Mummy\")[\\[9\\]](#cite_note-9)                                                                                                                                                                                                                                                                                       | 1⁄5 chance each of Z or M.                                                                                                                                                      |\n| [Demon gating](/wiki/Demon_gating \"Demon gating\"); [summon nasties](/wiki/Summon_nasties \"Summon nasties\") in Gehennom (1⁄10 chance); chaotic or unaligned [minion](/wiki/Minion \"Minion\") generation     | [&](/wiki/Major_demon \"Major demon\")[\\[10\\]](#cite_note-10)[\\[11\\]](#cite_note-11)                                                                                                                                                                                                                                                                                                              | Same alignment as summoner, or any alignment if summoner is unaligned.                                                                                                          |\n| Summoning a lawful [minion](/wiki/Minion \"Minion\")                                                                                                                                                        | [A](/wiki/Angelic_being \"Angelic being\")[\\[12\\]](#cite_note-12)                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                 |\n| [Summon insects](/wiki/Summon_insects \"Summon insects\")                                                                                                                                                   | [a](/wiki/Ant_or_other_insect \"Ant or other insect\")[S](/wiki/Snake_\\(monster_class\\) \"Snake (monster class)\")[\\[13\\]](#cite_note-13)                                                                                                                                                                                                                                                           | Snakes are generated only if all insects are gone.                                                                                                                              |\n| 1⁄5 of the time when attempting to generate a trapped [secret door](/wiki/Secret_door \"Secret door\") when [level difficulty](/wiki/Level_difficulty \"Level difficulty\") is at least 9                     | [m](/wiki/Mimic \"Mimic\")[\\[14\\]](#cite_note-14)                                                                                                                                                                                                                                                                                                                                                 | The mimic is generated instead of a secret door.                                                                                                                                |\n| Inaccessible [closet](/wiki/Closet \"Closet\") corpse                                                                                                                                                       | [@](/wiki/Human_or_elf \"Human or elf\")[\\[15\\]](#cite_note-15)                                                                                                                                                                                                                                                                                                                                   | It's a corpse, not a living monster.                                                                                                                                            |\n| [Graveyard](/wiki/Graveyard \"Graveyard\") room creation; cursed charged [Bell of Opening](/wiki/Bell_of_Opening \"Bell of Opening\") or cursed [Book of the Dead](/wiki/Book_of_the_Dead \"Book of the Dead\") | [&](/wiki/Major_demon \"Major demon\")[V](/wiki/Vampire_\\(monster_class\\) \"Vampire (monster class)\")[Z](/wiki/Zombie_\\(monster_class\\) \"Zombie (monster class)\")[\\[16\\]](#cite_note-16)                                                                                                                                                                                                           | Other monsters may also be selected by a non-mkclass() mechanism.                                                                                                               |\n| [Swamp](/wiki/Swamp \"Swamp\") creation                                                                                                                                                                     | [F](/wiki/Fungus_or_mold \"Fungus or mold\")[\\[17\\]](#cite_note-17)                                                                                                                                                                                                                                                                                                                               | Some [;](/wiki/Sea_monster \"Sea monster\") are also generated in swamps, but mkclass() is explicitly not used for them here to avoid generating [kraken](/wiki/Kraken \"Kraken\"). |\n| [Throne room](/wiki/Throne_room \"Throne room\") creation                                                                                                                                                   | [D](/wiki/Dragon \"Dragon\")[H](/wiki/Giant_humanoid \"Giant humanoid\")[T](/wiki/Troll_\\(monster_class\\) \"Troll (monster class)\")[C](/wiki/Centaur_\\(monster_class\\) \"Centaur (monster class)\")[o](/wiki/Orc_\\(monster_class\\) \"Orc (monster class)\")[G](/wiki/Gnome_\\(monster_class\\) \"Gnome (monster class)\")[k](/wiki/Kobold_\\(monster_class\\) \"Kobold (monster class)\")[\\[18\\]](#cite_note-18) | [Bugbear](/wiki/Bugbear \"Bugbear\") and [hobgoblin](/wiki/Hobgoblin \"Hobgoblin\") may also be selected.                                                                           |\n| [Shop](/wiki/Shop \"Shop\") creation                                                                                                                                                                        | [m](/wiki/Mimic \"Mimic\")[\\[19\\]](#cite_note-19)                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                 |\n| Random monster generation in the [Quest](/wiki/Quest \"Quest\")                                                                                                                                             | specified Quest monster classes[\\[20\\]](#cite_note-20)                                                                                                                                                                                                                                                                                                                                          | See [Quest#Quest leaders and nemeses](/wiki/Quest#Quest_leaders_and_nemeses \"Quest\") for monster classes.                                                                       |\n| Special level creation                                                                                                                                                                                    | specified monster classes[\\[21\\]](#cite_note-21)                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                 |\n\n#### Notable monster class selection in special levels\n\n- Normal [Gnomish Mines](/wiki/Gnomish_Mines \"Gnomish Mines\") levels and the first two [Mines' End](/wiki/Mines%27_End \"Mines' End\") variants contain one random [h](/wiki/Humanoid_\\(monster_class\\) \"Humanoid (monster class)\"), which may be a [mind flayer](/wiki/Mind_flayer \"Mind flayer\").[\\[22\\]](#cite_note-22)\n- The [Castle](/wiki/Castle \"Castle\") places 27 random monsters from the list [L](/wiki/Lich_\\(monster_class\\) \"Lich (monster class)\")[N](/wiki/Naga \"Naga\")[E](/wiki/Elemental \"Elemental\")[H](/wiki/Giant_humanoid \"Giant humanoid\")[M](/wiki/Mummy \"Mummy\")[O](/wiki/Ogre_\\(monster_class\\) \"Ogre (monster class)\")[R](/wiki/Rust_monster_or_disenchanter \"Rust monster or disenchanter\")[T](/wiki/Troll_\\(monster_class\\) \"Troll (monster class)\")[X](/wiki/Xorn_\\(monster_class\\) \"Xorn (monster class)\")[Z](/wiki/Zombie_\\(monster_class\\) \"Zombie (monster class)\") (2–3 of each class) in the central room. The [L](/wiki/Lich_\\(monster_class\\) \"Lich (monster class)\") may include [master liches](/wiki/Master_lich \"Master lich\") or [arch-liches](/wiki/Arch-lich \"Arch-lich\").\n- The [Astral Plane](/wiki/Astral_Plane \"Astral Plane\") also contains 3 [L](/wiki/Lich_\\(monster_class\\) \"Lich (monster class)\"), which may include master liches or arch-liches.\n\n## Level creation\n\nThe following steps are used to place monsters around the level upon its initial creation.\n\n- In normal room-and-corridor levels, there is a 33% chance of generating a monster (or group) per room.\n- In mazes, there is a 33% chance of generating 7-11 monsters + 0-2 [minotaurs](/wiki/Minotaur \"Minotaur\").\n\nOther levels and branches follow various special rules for initial monster placement that are generally unique to each area and detailed on their respective articles.\n\n## Monster placement\n\nMonsters may be placed differently depending on how the monster is created. Monsters are placed randomly when they are created as part of the normal end-of-turn random monster creation.[\\[23\\]](#cite_note-23) [Shrieker](/wiki/Shrieker \"Shrieker\")-summoned monsters and some regenerated [Keystone Kops](/wiki/Keystone_Kop_\\(monster_class\\) \"Keystone Kop (monster class)\") are also placed randomly.[\\[24\\]](#cite_note-24)[\\[25\\]](#cite_note-25) When monsters are placed randomly, the placement algorithm prefers to place monsters where you can't see them.[\\[26\\]](#cite_note-26) Most player actions that result in monster creation result in the monsters being created around you.\n\n## See also\n\n- [Demon gating](/wiki/Demon_gating \"Demon gating\")\n- [summon nasties](/wiki/Summon_nasties \"Summon nasties\")\n- [summon insects](/wiki/Summon_insects \"Summon insects\")\n- [polymorph](/wiki/Polymorph \"Polymorph\")\n- [special rooms](/wiki/Special_room \"Special room\")\n- [Special level](/wiki/Special_level \"Special level\")\n\n## References\n\n1. [↑](#cite_ref-1) [src/makemon.c in NetHack 3.6.7, line 1468](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1468)\n2. [↑](#cite_ref-2) [src/makemon.c in NetHack 3.6.7, line 1546](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1546)\n3. [↑](#cite_ref-3) [src/makemon.c in NetHack 3.6.7, line 1473](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1473)\n4. [↑](#cite_ref-4) [src/makemon.c in NetHack 3.6.7, line 1568](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1568)\n5. [↑](#cite_ref-5) [src/makemon.c in NetHack 3.6.7, line 51](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L51)\n6. [↑](#cite_ref-6) [src/allmain.c in NetHack 3.6.7, line 121](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/allmain.c#L121)\n7. [↑](#cite_ref-7) [src/makemon.c in NetHack 3.6.7, line 1639](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1639)\n8. [↑](#cite_ref-8) [src/apply.c in NetHack 3.6.7, line 1042](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/apply.c#L1042)\n9. [↑](#cite_ref-9) [src/dig.c in NetHack 3.6.7, line 939](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/dig.c#L939)\n10. [↑](#cite_ref-10) [src/minion.c in NetHack 3.6.7, line 406](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/minion.c#L406)\n11. [↑](#cite_ref-11) [src/minion.c in NetHack 3.6.7, line 51](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/minion.c#L51)\n12. [↑](#cite_ref-12) [src/minion.c in NetHack 3.6.7, line 396](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/minion.c#L396)\n13. [↑](#cite_ref-13) [src/mcastu.c in NetHack 3.6.7, line 584](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mcastu.c#L584)\n14. [↑](#cite_ref-14) [src/mklev.c in NetHack 3.6.7, line 431](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L431)\n15. [↑](#cite_ref-15) [src/mklev.c in NetHack 3.6.7, line 533](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L533)\n16. [↑](#cite_ref-16) [src/mkroom.c in NetHack 3.6.7, line 459](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mkroom.c#L459)\n17. [↑](#cite_ref-17) [src/mkroom.c in NetHack 3.6.7, line 542](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mkroom.c#L542)\n18. [↑](#cite_ref-18) [src/mkroom.c in NetHack 3.6.7, line 735](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mkroom.c#L735)\n19. [↑](#cite_ref-19) [src/shknam.c in NetHack 3.6.7, line 471](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shknam.c#L471)\n20. [↑](#cite_ref-20) [src/questpgr.c in NetHack 3.6.7, line 655](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/questpgr.c#L655)\n21. [↑](#cite_ref-21) [src/sp\\_lev.c in NetHack 3.6.7, line 1621](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/sp_lev.c#L1621)\n22. [↑](#cite_ref-22) [dat/mines.des in NetHack 3.6.7, line 37](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/mines.des#L37)\n23. [↑](#cite_ref-23) [src/allmain.c in NetHack 3.6.7, line 127](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/allmain.c#L127): *`makemon()` is called with coordinates <0,0>, indicating random placement*\n24. [↑](#cite_ref-24) [src/mon.c in NetHack 3.6.7, line 2867](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mon.c#L2867): *Shrieker*\n25. [↑](#cite_ref-25) [src/mon.c in NetHack 3.6.7, line 2056](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mon.c#L2056): *Kops*\n26. [↑](#cite_ref-26) [src/makemon.c in NetHack 3.6.7, line 1034](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1034): *`makemon_rnd_goodpos()` picks the location when `makemon()` was called with random placement*\n\n[![This article has been updated to reflect NetHack 3.6.7. Click here for more information.](/images/f/f7/Nh367-icon.png)](/wiki/NetHackWiki:Next_version \"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Monster creation - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Monster_creation\",\"wgTitle\":\"Monster creation\",\"wgCurRevisionId\":177068,\"wgRevisionId\":177068,\"wgArticleId\":13146,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Todo\",\"Upcoming\",\"Nethack-367 articles\",\"Monster mechanics\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Monster_creation\",\"wgRelevantArticleId\":13146,\"wgRequestId\":\"342dc3c744445da73a0c28fc\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"ext.cite.styles\":\"ready\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"ext.cite.a11y\",\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"Monster creation is the process by which NetHack determines when, where and how a particular monster is generated - whether it is randomly placing an unspecified creature somewhere on the floor, or else populating a freshly created level as soon as the player enters.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Monster_creation\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Monster_creation rootpage-Monster_creation skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Monster creation</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><div class=\"todo\">\n<p>A user has suggested improving this page or section as follows:\n</p><p><i>\"Could use more details on the placement of generated monsters - the timing seems to be </i>mostly<i> covered. Could also stand to flesh out what levels employ special rules and link to the dedicated pages, as well as what governs other forms of monster creation.\"</i>\n</p>\n</div>\n<p><b>Monster creation</b> is the process by which <i><a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a></i> determines when, where and how a particular monster is generated - whether it is randomly placing an unspecified creature somewhere on the floor, or else populating a freshly created level as soon as the player enters.\n</p><p>Normal monster generation takes place during level creation and at the end of each turn. Monster creation code is also invoked when the player or another monster makes use of an item that generates a monster, such as a <a href=\"/wiki/Scroll_of_create_monster\" title=\"Scroll of create monster\">scroll of create monster</a> or a <a href=\"/wiki/Bag_of_tricks\" title=\"Bag of tricks\">bag of tricks</a>.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Normal_monster_selection\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Normal monster selection</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#Where_this_mechanism_is_used\"><span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Where this mechanism is used</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#Selection_by_monster_class\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Selection by monster class</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#Where_this_mechanism_is_used_2\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Where this mechanism is used</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-5\"><a href=\"#Notable_monster_class_selection_in_special_levels\"><span class=\"tocnumber\">2.1.1</span> <span class=\"toctext\">Notable monster class selection in special levels</span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#Level_creation\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Level creation</span></a></li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#Monster_placement\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Monster placement</span></a></li>\n<li class=\"toclevel-1 tocsection-8\"><a href=\"#See_also\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">See also</span></a></li>\n<li class=\"toclevel-1 tocsection-9\"><a href=\"#References\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Normal_monster_selection\">Normal monster selection</span></h2>\n<p>When a monster is generated, <i>NetHack</i> first determines which of the monsters in its database is eligible. <a href=\"/wiki/Unique_monster\" title=\"Unique monster\">Unique monsters</a> and any monster marked with the flag <code>G_NOGEN</code> cannot be randomly generated; <a href=\"/wiki/Genocided\" class=\"mw-redirect\" title=\"Genocided\">genocided</a> and <a href=\"/wiki/Extinct\" class=\"mw-redirect\" title=\"Extinct\">extinct</a> monsters are excluded as well.<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup>\n</p><p>From there, a monster is generally eligible if:<sup id=\"cite_ref-2\" class=\"reference\"><a href=\"#cite_note-2\">&#91;2&#93;</a></sup>\n</p>\n<ul><li>Its <a href=\"/wiki/Monster_difficulty\" title=\"Monster difficulty\">monster difficulty</a> is less than or equal to the average of <a href=\"/wiki/Level_difficulty\" class=\"mw-redirect\" title=\"Level difficulty\">the level's difficulty</a> and the hero's <a href=\"/wiki/Experience_level\" title=\"Experience level\">experience level</a>.</li>\n<li>Its difficulty is at least one-sixth of the current level's difficulty.</li>\n<li>If the hero is on the <a href=\"/wiki/Rogue_level\" title=\"Rogue level\">Rogue level</a>, then monsters represented by glyphs with lower-case letters (e.g., <a href=\"/wiki/Ant_or_other_insect\" title=\"Ant or other insect\"><span class=\"nhsym clr-white\">a</span></a>, <a href=\"/wiki/Blob\" title=\"Blob\"><span class=\"nhsym clr-white\">b</span></a>, <a href=\"/wiki/Cockatrice_(monster_class)\" title=\"Cockatrice (monster class)\"><span class=\"nhsym clr-white\">c</span></a>) are excluded from eligibility.</li>\n<li>If the hero is in <a href=\"/wiki/Gehennom\" title=\"Gehennom\">Gehennom</a>, <a href=\"/wiki/Lawful\" class=\"mw-redirect\" title=\"Lawful\">lawful</a> monsters and those marked with the flag <code>G_NOHELL</code> (e.g., <a href=\"/wiki/Winter_wolf\" title=\"Winter wolf\">winter wolf</a>) are excluded, while monsters with the flag <code>G_HELL</code>) (e.g., <a href=\"/wiki/Hell_hound\" title=\"Hell hound\">hell hounds</a>) are <i>only</i> eligible to be randomly generated in Gehennom and are ineligible elsewhere.<sup id=\"cite_ref-3\" class=\"reference\"><a href=\"#cite_note-3\">&#91;3&#93;</a></sup><sup id=\"cite_ref-4\" class=\"reference\"><a href=\"#cite_note-4\">&#91;4&#93;</a></sup></li>\n<li>On the <a href=\"/wiki/Elemental_Planes\" title=\"Elemental Planes\">Elemental Planes</a>:<sup id=\"cite_ref-5\" class=\"reference\"><a href=\"#cite_note-5\">&#91;5&#93;</a></sup>\n<ul><li>If the hero is on the <a href=\"/wiki/Plane_of_Water\" title=\"Plane of Water\">Plane of Water</a>, only <a href=\"/wiki/Swimmer\" title=\"Swimmer\">swimmers</a> are eligible for random generation.</li>\n<li>If the hero is on the <a href=\"/wiki/Plane_of_Fire\" title=\"Plane of Fire\">Plane of Fire</a>, only monsters with <a href=\"/wiki/Fire_resistance\" title=\"Fire resistance\">fire resistance</a> are eligible.</li>\n<li>If the hero is on the <a href=\"/wiki/Plane_of_Air\" title=\"Plane of Air\">Plane of Air</a>, only monsters that are capable of <a href=\"/wiki/Flying\" title=\"Flying\">flying</a> or <a href=\"/wiki/Floating\" class=\"mw-redirect\" title=\"Floating\">floating</a>, and are <a href=\"/wiki/Whirly\" title=\"Whirly\">whirly</a>, <a href=\"/wiki/Amorphous\" title=\"Amorphous\">amorphous</a>, or <a href=\"/wiki/Unsolid\" title=\"Unsolid\">unsolid</a> are eligible. The <a href=\"/wiki/Trapper_or_lurker_above\" title=\"Trapper or lurker above\">trapper or lurker above</a> <a href=\"/wiki/Monster_class\" title=\"Monster class\">monster class</a> is explicitly excluded, as both monsters rely on matching the surroundings of the dungeon walls, floor and ceiling in order to <a href=\"/wiki/Hide\" class=\"mw-redirect\" title=\"Hide\">hide</a>.</li></ul></li></ul>\n<p>Each monster remaining on this list that meets the above conditions is eligible, and has a probability of being generated equal to its effective <a href=\"/wiki/Monster_frequency\" title=\"Monster frequency\">monster frequency</a> divided by the sum of the monster frequencies of every eligible monster. This can be visualized as a hat full of labeled slips of paper, with each one bearing the name of a monster - each creature's monster frequency determines how many slips of paper in the hat have its name, and the game then selects a name out of the hat at random.\n</p>\n<h3><span class=\"mw-headline\" id=\"Where_this_mechanism_is_used\">Where this mechanism is used</span></h3>\n<p>At the end of each turn, or if an item that generates a monster is used, the possibility of creating a monster depends on the following:<sup id=\"cite_ref-6\" class=\"reference\"><a href=\"#cite_note-6\">&#91;6&#93;</a></sup>\n</p>\n<ul><li>If the <a href=\"/wiki/Demigod\" title=\"Demigod\">demigod</a> flag is set by either killing the <a href=\"/wiki/Wizard_of_Yendor\" title=\"Wizard of Yendor\">Wizard of Yendor</a> at least once or performing the <a href=\"/wiki/Invocation\" class=\"mw-redirect\" title=\"Invocation\">Invocation</a>, there is a <sup>1</sup>&#8260;<sub>25</sub> chance of at least one monster being generated.</li>\n<li>If the demigod flag is not set, but the hero is in Gehennom, monster generation will occur with a <sup>1</sup>&#8260;<sub>50</sub> chance each turn.</li>\n<li>Otherwise, normal monster generation takes place with a <sup>1</sup>&#8260;<sub>70</sub> chance each turn.</li></ul>\n<p>The following items or spells that create monsters are subject to this rule: \n</p>\n<ul><li><a href=\"/wiki/Spellbook_of_create_monster\" title=\"Spellbook of create monster\">Spellbook of create monster</a></li>\n<li><a href=\"/wiki/Wand_of_create_monster\" title=\"Wand of create monster\">Wand of create monster</a></li>\n<li><a href=\"/wiki/Scroll_of_create_monster\" title=\"Scroll of create monster\">Scroll of create monster</a></li>\n<li><a href=\"/wiki/Bag_of_tricks\" title=\"Bag of tricks\">Bag of tricks</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"Selection_by_monster_class\">Selection by monster class</span></h2>\n<p>Where a class of monster is specified, such as during the creation of certain levels (including the <a href=\"/wiki/Gnomish_Mines\" title=\"Gnomish Mines\">Gnomish Mines</a>) or random generation in the <a href=\"/wiki/Quest\" title=\"Quest\">Quest</a>, a different monster generation algorithm is used, and monsters may be generated with probabilities different from the normal mechanism.<sup id=\"cite_ref-7\" class=\"reference\"><a href=\"#cite_note-7\">&#91;7&#93;</a></sup>\n</p><p>Monster selection follows this procedure:\n</p>\n<ul><li>Monsters of the same class are assumed to be contiguously defined in the mons[] array, and in the order of their difficulty.</li>\n<li>Quest guardians and player monsters are not eligible because they are defined separately from the rest of the <a href=\"/wiki/Human_or_elf\" class=\"mw-redirect\" title=\"Human or elf\"><span class=\"nhsym clr-white\">@</span></a>.</li>\n<li>If an alignment is specified, only monsters of that alignment are eligible.</li>\n<li>Unique monsters, monsters with the G_NOGEN flag, extinct, and genocided monsters are not eligible.</li>\n<li>Imagine a bag that is initially empty.  For each eligible monster starting with the first defined monster of the class, monsters are added to the bag:\n<ul><li>If the difficulty level of the current monster is more than twice the <a href=\"/wiki/Level_difficulty\" class=\"mw-redirect\" title=\"Level difficulty\">level difficulty</a>, there is a <sup>1</sup>&#8260;<sub>2</sub> chance that we stop adding any more monsters to the bag; the current monster is not added and we go directly to the final step of selecting a monster from the bag.  However, if the current monster's difficulty is the same as the previous monster's, or if there is no monster in the bag yet, we instead continue the process (thus, monsters of the same difficulty are always added to the bag together, and the bag is never empty if there are any eligible monsters).</li>\n<li>Let <i>k</i> be the monster's <a href=\"/wiki/Monster_frequency\" title=\"Monster frequency\">monster frequency</a>.  If <i>k</i> is greater than 0, <i>k</i>+1 copies of that monster are added to the bag, except that only <i>k</i> copies are added if the <a href=\"/wiki/Monster_level#Calculation_of_monster_level\" title=\"Monster level\">adjusted monster level</a> is greater than twice the player's <a href=\"/wiki/Experience_level\" title=\"Experience level\">experience level</a>.</li></ul></li>\n<li>Finally, a random monster is selected from the bag.</li></ul>\n<p>Note that this process ignores some restrictions that are normally in place, such as monsters that normally would not generate outside of <a href=\"/wiki/Gehennom\" title=\"Gehennom\">Gehennom</a>. In addition, monsters that are too difficult to be generated via the <a href=\"#Normal_monster_selection\">normal mechanism</a> may be generated by this process - in particular, this is how <a href=\"/wiki/Minesflayer\" class=\"mw-redirect\" title=\"Minesflayer\">minesflayers</a> generate.\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nPer <a class=\"external text\" href=\"https://github.com/NetHack/NetHack/commit/c29ffe1d823b338956de2517057b7e87ef64795e\">commit c29ffe1d</a>, this mechanism no longer generates <a href=\"/wiki/Master_lich\" title=\"Master lich\">master liches</a> and <a href=\"/wiki/Arch-lich\" title=\"Arch-lich\">arch-liches</a> outside of Gehennom. For other monsters that normally generate only inside or outside of Gehennom, this mechanism respects the restriction <sup>8</sup>&#8260;<sub>9</sub> of the time.</div>\n<h3><span class=\"mw-headline\" id=\"Where_this_mechanism_is_used_2\">Where this mechanism is used</span></h3>\n<table class=\"prettytable\">\n<tbody><tr>\n<th>Condition\n</th>\n<th>Monster classes\n</th>\n<th>Notes\n</th></tr>\n<tr>\n<td>Ringing a cursed <a href=\"/wiki/Bell\" title=\"Bell\">bell</a>\n</td>\n<td><a href=\"/wiki/Nymph_(monster_class)\" title=\"Nymph (monster class)\"><span class=\"nhsym clr-white\">n</span></a><sup id=\"cite_ref-8\" class=\"reference\"><a href=\"#cite_note-8\">&#91;8&#93;</a></sup>\n</td>\n<td><sup>1</sup>&#8260;<sub>4</sub> chance; not generated with inventory; if any nymph is genocided or extinct, none of them are generated.\n</td></tr>\n<tr>\n<td>Digging a <a href=\"/wiki/Grave\" class=\"mw-redirect\" title=\"Grave\">grave</a>\n</td>\n<td><a href=\"/wiki/Zombie_(monster_class)\" title=\"Zombie (monster class)\"><span class=\"nhsym clr-white\">Z</span></a><a href=\"/wiki/Mummy\" title=\"Mummy\"><span class=\"nhsym clr-white\">M</span></a><sup id=\"cite_ref-9\" class=\"reference\"><a href=\"#cite_note-9\">&#91;9&#93;</a></sup>\n</td>\n<td><sup>1</sup>&#8260;<sub>5</sub> chance each of Z or M.\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Demon_gating\" class=\"mw-redirect\" title=\"Demon gating\">Demon gating</a>; <a href=\"/wiki/Summon_nasties\" title=\"Summon nasties\">summon nasties</a> in Gehennom (<sup>1</sup>&#8260;<sub>10</sub> chance); chaotic or unaligned <a href=\"/wiki/Minion\" title=\"Minion\">minion</a> generation\n</td>\n<td><a href=\"/wiki/Major_demon\" title=\"Major demon\"><span class=\"nhsym clr-white\">&amp;</span></a><sup id=\"cite_ref-10\" class=\"reference\"><a href=\"#cite_note-10\">&#91;10&#93;</a></sup><sup id=\"cite_ref-11\" class=\"reference\"><a href=\"#cite_note-11\">&#91;11&#93;</a></sup>\n</td>\n<td>Same alignment as summoner, or any alignment if summoner is unaligned.\n</td></tr>\n\n<tr>\n<td>Summoning a lawful <a href=\"/wiki/Minion\" title=\"Minion\">minion</a>\n</td>\n<td><a href=\"/wiki/Angelic_being\" title=\"Angelic being\"><span class=\"nhsym clr-white\">A</span></a><sup id=\"cite_ref-12\" class=\"reference\"><a href=\"#cite_note-12\">&#91;12&#93;</a></sup>\n</td>\n<td>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Summon_insects\" title=\"Summon insects\">Summon insects</a>\n</td>\n<td><a href=\"/wiki/Ant_or_other_insect\" title=\"Ant or other insect\"><span class=\"nhsym clr-white\">a</span></a><a href=\"/wiki/Snake_(monster_class)\" title=\"Snake (monster class)\"><span class=\"nhsym clr-white\">S</span></a><sup id=\"cite_ref-13\" class=\"reference\"><a href=\"#cite_note-13\">&#91;13&#93;</a></sup>\n</td>\n<td>Snakes are generated only if all insects are gone.\n</td></tr>\n<tr>\n<td><sup>1</sup>&#8260;<sub>5</sub> of the time when attempting to generate a trapped <a href=\"/wiki/Secret_door\" class=\"mw-redirect\" title=\"Secret door\">secret door</a> when <a href=\"/wiki/Level_difficulty\" class=\"mw-redirect\" title=\"Level difficulty\">level difficulty</a> is at least 9\n</td>\n<td><a href=\"/wiki/Mimic\" title=\"Mimic\"><span class=\"nhsym clr-white\">m</span></a><sup id=\"cite_ref-14\" class=\"reference\"><a href=\"#cite_note-14\">&#91;14&#93;</a></sup>\n</td>\n<td>The mimic is generated instead of a secret door.\n</td></tr>\n<tr>\n<td>Inaccessible <a href=\"/wiki/Closet\" title=\"Closet\">closet</a> corpse\n</td>\n<td><a href=\"/wiki/Human_or_elf\" class=\"mw-redirect\" title=\"Human or elf\"><span class=\"nhsym clr-white\">@</span></a><sup id=\"cite_ref-15\" class=\"reference\"><a href=\"#cite_note-15\">&#91;15&#93;</a></sup>\n</td>\n<td>It's a corpse, not a living monster.\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Graveyard\" title=\"Graveyard\">Graveyard</a> room creation; cursed charged <a href=\"/wiki/Bell_of_Opening\" title=\"Bell of Opening\">Bell of Opening</a> or cursed <a href=\"/wiki/Book_of_the_Dead\" title=\"Book of the Dead\">Book of the Dead</a>\n</td>\n<td><a href=\"/wiki/Major_demon\" title=\"Major demon\"><span class=\"nhsym clr-white\">&amp;</span></a><a href=\"/wiki/Vampire_(monster_class)\" title=\"Vampire (monster class)\"><span class=\"nhsym clr-white\">V</span></a><a href=\"/wiki/Zombie_(monster_class)\" title=\"Zombie (monster class)\"><span class=\"nhsym clr-white\">Z</span></a><sup id=\"cite_ref-16\" class=\"reference\"><a href=\"#cite_note-16\">&#91;16&#93;</a></sup>\n</td>\n<td>Other monsters may also be selected by a non-mkclass() mechanism.\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Swamp\" title=\"Swamp\">Swamp</a> creation\n</td>\n<td><a href=\"/wiki/Fungus_or_mold\" title=\"Fungus or mold\"><span class=\"nhsym clr-white\">F</span></a><sup id=\"cite_ref-17\" class=\"reference\"><a href=\"#cite_note-17\">&#91;17&#93;</a></sup>\n</td>\n<td>Some <a href=\"/wiki/Sea_monster\" title=\"Sea monster\"><span class=\"nhsym clr-white\">\n;</span></a> are also generated in swamps, but mkclass() is explicitly not used for them here to avoid generating <a href=\"/wiki/Kraken\" title=\"Kraken\">kraken</a>.\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Throne_room\" title=\"Throne room\">Throne room</a> creation\n</td>\n<td><a href=\"/wiki/Dragon\" title=\"Dragon\"><span class=\"nhsym clr-white\">D</span></a><a href=\"/wiki/Giant_humanoid\" title=\"Giant humanoid\"><span class=\"nhsym clr-white\">H</span></a><a href=\"/wiki/Troll_(monster_class)\" title=\"Troll (monster class)\"><span class=\"nhsym clr-white\">T</span></a><a href=\"/wiki/Centaur_(monster_class)\" title=\"Centaur (monster class)\"><span class=\"nhsym clr-white\">C</span></a><a href=\"/wiki/Orc_(monster_class)\" title=\"Orc (monster class)\"><span class=\"nhsym clr-white\">o</span></a><a href=\"/wiki/Gnome_(monster_class)\" title=\"Gnome (monster class)\"><span class=\"nhsym clr-white\">G</span></a><a href=\"/wiki/Kobold_(monster_class)\" title=\"Kobold (monster class)\"><span class=\"nhsym clr-white\">k</span></a><sup id=\"cite_ref-18\" class=\"reference\"><a href=\"#cite_note-18\">&#91;18&#93;</a></sup>\n</td>\n<td><a href=\"/wiki/Bugbear\" title=\"Bugbear\">Bugbear</a> and <a href=\"/wiki/Hobgoblin\" title=\"Hobgoblin\">hobgoblin</a> may also be selected.\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Shop\" title=\"Shop\">Shop</a> creation\n</td>\n<td><a href=\"/wiki/Mimic\" title=\"Mimic\"><span class=\"nhsym clr-white\">m</span></a><sup id=\"cite_ref-19\" class=\"reference\"><a href=\"#cite_note-19\">&#91;19&#93;</a></sup>\n</td>\n<td>\n</td></tr>\n<tr>\n<td>Random monster generation in the <a href=\"/wiki/Quest\" title=\"Quest\">Quest</a>\n</td>\n<td>specified Quest monster classes<sup id=\"cite_ref-20\" class=\"reference\"><a href=\"#cite_note-20\">&#91;20&#93;</a></sup>\n</td>\n<td>See <a href=\"/wiki/Quest#Quest_leaders_and_nemeses\" title=\"Quest\">Quest#Quest leaders and nemeses</a> for monster classes.\n</td></tr>\n<tr>\n<td>Special level creation\n</td>\n<td>specified monster classes<sup id=\"cite_ref-21\" class=\"reference\"><a href=\"#cite_note-21\">&#91;21&#93;</a></sup>\n</td>\n<td>\n</td></tr>\n</tbody></table>\n<h4><span class=\"mw-headline\" id=\"Notable_monster_class_selection_in_special_levels\">Notable monster class selection in special levels</span></h4>\n<ul><li>Normal <a href=\"/wiki/Gnomish_Mines\" title=\"Gnomish Mines\">Gnomish Mines</a> levels and the first two <a href=\"/wiki/Mines%27_End\" title=\"Mines&#39; End\">Mines' End</a> variants contain one random <a href=\"/wiki/Humanoid_(monster_class)\" title=\"Humanoid (monster class)\"><span class=\"nhsym clr-white\">h</span></a>, which may be a <a href=\"/wiki/Mind_flayer\" title=\"Mind flayer\">mind flayer</a>.<sup id=\"cite_ref-22\" class=\"reference\"><a href=\"#cite_note-22\">&#91;22&#93;</a></sup></li>\n<li>The <a href=\"/wiki/Castle\" title=\"Castle\">Castle</a> places 27 random monsters from the list <a href=\"/wiki/Lich_(monster_class)\" title=\"Lich (monster class)\"><span class=\"nhsym clr-white\">L</span></a><a href=\"/wiki/Naga\" title=\"Naga\"><span class=\"nhsym clr-white\">N</span></a><a href=\"/wiki/Elemental\" title=\"Elemental\"><span class=\"nhsym clr-white\">E</span></a><a href=\"/wiki/Giant_humanoid\" title=\"Giant humanoid\"><span class=\"nhsym clr-white\">H</span></a><a href=\"/wiki/Mummy\" title=\"Mummy\"><span class=\"nhsym clr-white\">M</span></a><a href=\"/wiki/Ogre_(monster_class)\" title=\"Ogre (monster class)\"><span class=\"nhsym clr-white\">O</span></a><a href=\"/wiki/Rust_monster_or_disenchanter\" title=\"Rust monster or disenchanter\"><span class=\"nhsym clr-white\">R</span></a><a href=\"/wiki/Troll_(monster_class)\" title=\"Troll (monster class)\"><span class=\"nhsym clr-white\">T</span></a><a href=\"/wiki/Xorn_(monster_class)\" title=\"Xorn (monster class)\"><span class=\"nhsym clr-white\">X</span></a><a href=\"/wiki/Zombie_(monster_class)\" title=\"Zombie (monster class)\"><span class=\"nhsym clr-white\">Z</span></a> (2&#8211;3 of each class) in the central room. The <a href=\"/wiki/Lich_(monster_class)\" title=\"Lich (monster class)\"><span class=\"nhsym clr-white\">L</span></a> may include <a href=\"/wiki/Master_lich\" title=\"Master lich\">master liches</a> or <a href=\"/wiki/Arch-lich\" title=\"Arch-lich\">arch-liches</a>.</li>\n<li>The <a href=\"/wiki/Astral_Plane\" title=\"Astral Plane\">Astral Plane</a> also contains 3 <a href=\"/wiki/Lich_(monster_class)\" title=\"Lich (monster class)\"><span class=\"nhsym clr-white\">L</span></a>, which may include master liches or arch-liches.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Level_creation\">Level creation</span></h2>\n<p>The following steps are used to place monsters around the level upon its initial creation.\n</p>\n<ul><li>In normal room-and-corridor levels, there is a 33% chance of generating a monster (or group) per room.</li>\n<li>In mazes, there is a 33% chance of generating 7-11 monsters + 0-2 <a href=\"/wiki/Minotaur\" title=\"Minotaur\">minotaurs</a>.</li></ul>\n<p>Other levels and branches follow various special rules for initial monster placement that are generally unique to each area and detailed on their respective articles.\n</p>\n<h2><span class=\"mw-headline\" id=\"Monster_placement\">Monster placement</span></h2>\n<p>Monsters may be placed differently depending on how the monster is created. Monsters are placed randomly when they are created as part of the normal end-of-turn random monster creation.<sup id=\"cite_ref-23\" class=\"reference\"><a href=\"#cite_note-23\">&#91;23&#93;</a></sup> <a href=\"/wiki/Shrieker\" title=\"Shrieker\">Shrieker</a>-summoned monsters and some regenerated <a href=\"/wiki/Keystone_Kop_(monster_class)\" title=\"Keystone Kop (monster class)\">Keystone Kops</a> are also placed randomly.<sup id=\"cite_ref-24\" class=\"reference\"><a href=\"#cite_note-24\">&#91;24&#93;</a></sup><sup id=\"cite_ref-25\" class=\"reference\"><a href=\"#cite_note-25\">&#91;25&#93;</a></sup> When monsters are placed randomly, the placement algorithm prefers to place monsters where you can't see them.<sup id=\"cite_ref-26\" class=\"reference\"><a href=\"#cite_note-26\">&#91;26&#93;</a></sup> Most player actions that result in monster creation result in the monsters being created around you.\n</p>\n<h2><span class=\"mw-headline\" id=\"See_also\">See also</span></h2>\n<ul><li><a href=\"/wiki/Demon_gating\" class=\"mw-redirect\" title=\"Demon gating\">Demon gating</a></li>\n<li><a href=\"/wiki/Summon_nasties\" title=\"Summon nasties\">summon nasties</a></li>\n<li><a href=\"/wiki/Summon_insects\" title=\"Summon insects\">summon insects</a></li>\n<li><a href=\"/wiki/Polymorph\" title=\"Polymorph\">polymorph</a></li>\n<li><a href=\"/wiki/Special_room\" title=\"Special room\">special rooms</a></li>\n<li><a href=\"/wiki/Special_level\" title=\"Special level\">Special level</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap mw-references-columns\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-1\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1468\">src/makemon.c in NetHack 3.6.7, line 1468</a>\n     </span>\n</li>\n<li id=\"cite_note-2\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-2\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1546\">src/makemon.c in NetHack 3.6.7, line 1546</a>\n     </span>\n</li>\n<li id=\"cite_note-3\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-3\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1473\">src/makemon.c in NetHack 3.6.7, line 1473</a>\n     </span>\n</li>\n<li id=\"cite_note-4\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-4\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1568\">src/makemon.c in NetHack 3.6.7, line 1568</a>\n     </span>\n</li>\n<li id=\"cite_note-5\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-5\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L51\">src/makemon.c in NetHack 3.6.7, line 51</a>\n     </span>\n</li>\n<li id=\"cite_note-6\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-6\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/allmain.c#L121\">src/allmain.c in NetHack 3.6.7, line 121</a>\n     </span>\n</li>\n<li id=\"cite_note-7\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-7\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1639\">src/makemon.c in NetHack 3.6.7, line 1639</a>\n     </span>\n</li>\n<li id=\"cite_note-8\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-8\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/apply.c#L1042\">src/apply.c in NetHack 3.6.7, line 1042</a>\n     </span>\n</li>\n<li id=\"cite_note-9\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-9\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/dig.c#L939\">src/dig.c in NetHack 3.6.7, line 939</a>\n     </span>\n</li>\n<li id=\"cite_note-10\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-10\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/minion.c#L406\">src/minion.c in NetHack 3.6.7, line 406</a>\n     </span>\n</li>\n<li id=\"cite_note-11\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-11\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/minion.c#L51\">src/minion.c in NetHack 3.6.7, line 51</a>\n     </span>\n</li>\n<li id=\"cite_note-12\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-12\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/minion.c#L396\">src/minion.c in NetHack 3.6.7, line 396</a>\n     </span>\n</li>\n<li id=\"cite_note-13\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-13\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mcastu.c#L584\">src/mcastu.c in NetHack 3.6.7, line 584</a>\n     </span>\n</li>\n<li id=\"cite_note-14\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-14\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L431\">src/mklev.c in NetHack 3.6.7, line 431</a>\n     </span>\n</li>\n<li id=\"cite_note-15\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-15\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L533\">src/mklev.c in NetHack 3.6.7, line 533</a>\n     </span>\n</li>\n<li id=\"cite_note-16\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-16\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mkroom.c#L459\">src/mkroom.c in NetHack 3.6.7, line 459</a>\n     </span>\n</li>\n<li id=\"cite_note-17\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-17\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mkroom.c#L542\">src/mkroom.c in NetHack 3.6.7, line 542</a>\n     </span>\n</li>\n<li id=\"cite_note-18\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-18\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mkroom.c#L735\">src/mkroom.c in NetHack 3.6.7, line 735</a>\n     </span>\n</li>\n<li id=\"cite_note-19\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-19\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shknam.c#L471\">src/shknam.c in NetHack 3.6.7, line 471</a>\n     </span>\n</li>\n<li id=\"cite_note-20\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-20\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/questpgr.c#L655\">src/questpgr.c in NetHack 3.6.7, line 655</a>\n     </span>\n</li>\n<li id=\"cite_note-21\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-21\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/sp_lev.c#L1621\">src/sp_lev.c in NetHack 3.6.7, line 1621</a>\n     </span>\n</li>\n<li id=\"cite_note-22\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-22\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/mines.des#L37\">dat/mines.des in NetHack 3.6.7, line 37</a>\n     </span>\n</li>\n<li id=\"cite_note-23\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-23\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/allmain.c#L127\">src/allmain.c in NetHack 3.6.7, line 127</a><span>:</span> <i><code>makemon()</code> is called with coordinates &lt;0,0&gt;, indicating random placement</i>\n     </span>\n</li>\n<li id=\"cite_note-24\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-24\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mon.c#L2867\">src/mon.c in NetHack 3.6.7, line 2867</a><span>:</span> <i>Shrieker</i>\n     </span>\n</li>\n<li id=\"cite_note-25\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-25\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mon.c#L2056\">src/mon.c in NetHack 3.6.7, line 2056</a><span>:</span> <i>Kops</i>\n     </span>\n</li>\n<li id=\"cite_note-26\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-26\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/makemon.c#L1034\">src/makemon.c in NetHack 3.6.7, line 1034</a><span>:</span> <i><code>makemon_rnd_goodpos()</code> picks the location when <code>makemon()</code> was called with random placement</i>\n     </span>\n</li>\n</ol></div>\n<div style=\"display:none; right:10px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\"><img alt=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\" src=\"/images/f/f7/Nh367-icon.png\" width=\"32\" height=\"32\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240926184654\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.143 seconds\nReal time usage: 0.362 seconds\nPreprocessor visited node count: 5453/1000000\nPreprocessor generated node count: 4471/1000000\nPost‐expand include size: 21575/2097152 bytes\nTemplate argument size: 4295/2097152 bytes\nHighest expansion depth: 9/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 10294/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%  289.593      1 -total\n 44.00%  127.418     39 Template:Mcsl\n 32.88%   95.225     26 Template:Refsrc\n 17.48%   50.626     39 Template:Monclassname\n 15.37%   44.515     26 Template:Refsrc/link\n  7.74%   22.413     39 Template:White\n  4.78%   13.842      1 Template:Nethack-367\n  3.45%   10.003      1 Template:Version_icon\n  1.96%    5.677      1 Template:Todo\n  1.88%    5.452      1 Template:Top_icon\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:13146-0!canonical and timestamp 20240926184654 and revision id 177068\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Monster_creation&amp;oldid=177068\">https://nethackwiki.com/index.php?title=Monster_creation&amp;oldid=177068</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Categories</a>: <ul><li><a href=\"/wiki/Category:Todo\" title=\"Category:Todo\">Todo</a></li><li><a href=\"/wiki/Category:Upcoming\" title=\"Category:Upcoming\">Upcoming</a></li><li><a href=\"/wiki/Category:Nethack-367_articles\" title=\"Category:Nethack-367 articles\">Nethack-367 articles</a></li><li><a href=\"/wiki/Category:Monster_mechanics\" title=\"Category:Monster mechanics\">Monster mechanics</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Monster+creation\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Monster+creation\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Monster_creation\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Monster_creation\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Monster_creation\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Monster_creation&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Monster_creation&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Monster_creation\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Monster_creation\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Monster_creation&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Monster_creation&amp;oldid=177068\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Monster_creation&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 17 September 2024, at 08:44.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.143\",\"walltime\":\"0.362\",\"ppvisitednodes\":{\"value\":5453,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":4471,\"limit\":1000000},\"postexpandincludesize\":{\"value\":21575,\"limit\":2097152},\"templateargumentsize\":{\"value\":4295,\"limit\":2097152},\"expansiondepth\":{\"value\":9,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":10294,\"limit\":5000000},\"timingprofile\":[\"100.00%  289.593      1 -total\",\" 44.00%  127.418     39 Template:Mcsl\",\" 32.88%   95.225     26 Template:Refsrc\",\" 17.48%   50.626     39 Template:Monclassname\",\" 15.37%   44.515     26 Template:Refsrc/link\",\"  7.74%   22.413     39 Template:White\",\"  4.78%   13.842      1 Template:Nethack-367\",\"  3.45%   10.003      1 Template:Version_icon\",\"  1.96%    5.677      1 Template:Todo\",\"  1.88%    5.452      1 Template:Top_icon\"]},\"cachereport\":{\"timestamp\":\"20240926184654\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":421});});</script>\n\t</body>\n</html>\n","rawPage":"{{todo|Could use more details on the placement of generated monsters - the timing seems to be ''mostly'' covered. Could also stand to flesh out what levels employ special rules and link to the dedicated pages, as well as what governs other forms of monster creation.}}\n\n'''Monster creation''' is the process by which ''[[NetHack]]'' determines when, where and how a particular monster is generated - whether it is randomly placing an unspecified creature somewhere on the floor, or else populating a freshly created level as soon as the player enters.\n\nNormal monster generation takes place during level creation and at the end of each turn. Monster creation code is also invoked when the player or another monster makes use of an item that generates a monster, such as a [[scroll of create monster]] or a [[bag of tricks]].\n\n==Normal monster selection==\nWhen a monster is generated, ''NetHack'' first determines which of the monsters in its database is eligible. [[Unique monster]]s and any monster marked with the flag <code>G_NOGEN</code> cannot be randomly generated; [[genocided]] and [[extinct]] monsters are excluded as well.{{refsrc|src/makemon.c|1468|nethack=3.6.7}}\n\nFrom there, a monster is generally eligible if:{{refsrc|src/makemon.c|1546|nethack=3.6.7}}\n\n* Its [[monster difficulty]] is less than or equal to the average of [[Level difficulty|the level's difficulty]] and the hero's [[experience level]].\n* Its difficulty is at least one-sixth of the current level's difficulty.\n* If the hero is on the [[Rogue level]], then monsters represented by glyphs with lower-case letters (e.g., {{mcsl|a}}, {{mcsl|b}}, {{mcsl|c}}) are excluded from eligibility.\n* If the hero is in [[Gehennom]], [[lawful]] monsters and those marked with the flag <code>G_NOHELL</code> (e.g., [[winter wolf]]) are excluded, while monsters with the flag <code>G_HELL</code>) (e.g., [[hell hound]]s) are ''only'' eligible to be randomly generated in Gehennom and are ineligible elsewhere.{{refsrc|src/makemon.c|1473|nethack=3.6.7}}{{refsrc|src/makemon.c|1568|nethack=3.6.7}}\n* On the [[Elemental Planes]]:{{refsrc|src/makemon.c|51|nethack=3.6.7}}\n** If the hero is on the [[Plane of Water]], only [[swimmer]]s are eligible for random generation.\n** If the hero is on the [[Plane of Fire]], only monsters with [[fire resistance]] are eligible.\n** If the hero is on the [[Plane of Air]], only monsters that are capable of [[flying]] or [[floating]], and are [[whirly]], [[amorphous]], or [[unsolid]] are eligible. The [[trapper or lurker above]] [[monster class]] is explicitly excluded, as both monsters rely on matching the surroundings of the dungeon walls, floor and ceiling in order to [[hide]].\n\nEach monster remaining on this list that meets the above conditions is eligible, and has a probability of being generated equal to its effective [[monster frequency]] divided by the sum of the monster frequencies of every eligible monster. This can be visualized as a hat full of labeled slips of paper, with each one bearing the name of a monster - each creature's monster frequency determines how many slips of paper in the hat have its name, and the game then selects a name out of the hat at random.\n\n===Where this mechanism is used===\nAt the end of each turn, or if an item that generates a monster is used, the possibility of creating a monster depends on the following:{{refsrc|src/allmain.c|121|nethack=3.6.7}}\n\n* If the [[demigod]] flag is set by either killing the [[Wizard of Yendor]] at least once or performing the [[Invocation]], there is a {{frac|25}} chance of at least one monster being generated.\n* If the demigod flag is not set, but the hero is in Gehennom, monster generation will occur with a {{frac|50}} chance each turn.\n* Otherwise, normal monster generation takes place with a {{frac|70}} chance each turn.\n\nThe following items or spells that create monsters are subject to this rule: \n\n* [[Spellbook of create monster]]\n* [[Wand of create monster]]\n* [[Scroll of create monster]]\n* [[Bag of tricks]]\n\n==Selection by monster class==\nWhere a class of monster is specified, such as during the creation of certain levels (including the [[Gnomish Mines]]) or random generation in the [[Quest]], a different monster generation algorithm is used, and monsters may be generated with probabilities different from the normal mechanism.{{refsrc|src/makemon.c|1639|nethack=3.6.7}}\n\nMonster selection follows this procedure:\n* Monsters of the same class are assumed to be contiguously defined in the mons[] array, and in the order of their difficulty.\n* Quest guardians and player monsters are not eligible because they are defined separately from the rest of the {{mcsl|@}}.\n* If an alignment is specified, only monsters of that alignment are eligible.\n* Unique monsters, monsters with the G_NOGEN flag, extinct, and genocided monsters are not eligible.\n* Imagine a bag that is initially empty.  For each eligible monster starting with the first defined monster of the class, monsters are added to the bag:\n** If the difficulty level of the current monster is more than twice the [[level difficulty]], there is a {{frac|2}} chance that we stop adding any more monsters to the bag; the current monster is not added and we go directly to the final step of selecting a monster from the bag.  However, if the current monster's difficulty is the same as the previous monster's, or if there is no monster in the bag yet, we instead continue the process (thus, monsters of the same difficulty are always added to the bag together, and the bag is never empty if there are any eligible monsters).\n** Let ''k'' be the monster's [[monster frequency]].  If ''k'' is greater than 0, ''k''+1 copies of that monster are added to the bag, except that only ''k'' copies are added if the [[Monster level#Calculation of monster level|adjusted monster level]] is greater than twice the player's [[experience level]].\n* Finally, a random monster is selected from the bag.\n\nNote that this process ignores some restrictions that are normally in place, such as monsters that normally would not generate outside of [[Gehennom]]. In addition, monsters that are too difficult to be generated via the [[#Normal monster selection|normal mechanism]] may be generated by this process - in particular, this is how [[minesflayer]]s generate.\n\n{{upcoming|NetHack 3.7.0|Per {{commit|c29ffe1d823b338956de2517057b7e87ef64795e}}, this mechanism no longer generates [[master lich]]es and [[arch-lich]]es outside of Gehennom. For other monsters that normally generate only inside or outside of Gehennom, this mechanism respects the restriction {{frac|8|9}} of the time.}}\n\n===Where this mechanism is used===\n{|class=\"prettytable\"\n!Condition\n!Monster classes\n!Notes\n|-\n|Ringing a cursed [[bell]]\n|{{mcsl|n}}{{refsrc|src/apply.c|1042|nethack=3.6.7}}\n|{{frac|4}} chance; not generated with inventory; if any nymph is genocided or extinct, none of them are generated.\n|-\n|Digging a [[grave]]\n|{{mcsl|Z}}{{mcsl|M}}{{refsrc|src/dig.c|939|nethack=3.6.7}}\n|{{frac|5}} chance each of Z or M.\n|-\n|[[Demon gating]]; [[summon nasties]] in Gehennom ({{frac|10}} chance); chaotic or unaligned [[minion]] generation\n|{{mcsl|&}}{{refsrc|src/minion.c|406|nethack=3.6.7}}{{refsrc|src/minion.c|51|nethack=3.6.7}}\n|Same alignment as summoner, or any alignment if summoner is unaligned.\n|-\n|-\n|Summoning a lawful [[minion]]\n|{{mcsl|A}}{{refsrc|src/minion.c|396|nethack=3.6.7}}\n|\n|-\n|[[Summon insects]]\n|{{mcsl|a}}{{mcsl|S}}{{refsrc|src/mcastu.c|584|nethack=3.6.7}}\n|Snakes are generated only if all insects are gone.\n|-\n|{{frac|5}} of the time when attempting to generate a trapped [[secret door]] when [[level difficulty]] is at least 9\n|{{mcsl|m}}{{refsrc|src/mklev.c|431|nethack=3.6.7}}\n|The mimic is generated instead of a secret door.\n|-\n|Inaccessible [[closet]] corpse\n|{{mcsl|@}}{{refsrc|src/mklev.c|533|nethack=3.6.7}}\n|It's a corpse, not a living monster.\n|-\n|[[Graveyard]] room creation; cursed charged [[Bell of Opening]] or cursed [[Book of the Dead]]\n|{{mcsl|&}}{{mcsl|V}}{{mcsl|Z}}{{refsrc|src/mkroom.c|459|nethack=3.6.7}}\n|Other monsters may also be selected by a non-mkclass() mechanism.\n|-\n|[[Swamp]] creation\n|{{mcsl|F}}{{refsrc|src/mkroom.c|542|nethack=3.6.7}}\n|Some {{mcsl|;}} are also generated in swamps, but mkclass() is explicitly not used for them here to avoid generating [[kraken]].\n|-\n|[[Throne room]] creation\n|{{mcsl|D}}{{mcsl|H}}{{mcsl|T}}{{mcsl|C}}{{mcsl|o}}{{mcsl|G}}{{mcsl|k}}{{refsrc|src/mkroom.c|735|nethack=3.6.7}}\n|[[Bugbear]] and [[hobgoblin]] may also be selected.\n|-\n|[[Shop]] creation\n|{{mcsl|m}}{{refsrc|src/shknam.c|471|nethack=3.6.7}}\n|\n|-\n|Random monster generation in the [[Quest]]\n|specified Quest monster classes{{refsrc|src/questpgr.c|655|nethack=3.6.7}}\n|See [[Quest#Quest leaders and nemeses]] for monster classes.\n|-\n|Special level creation\n|specified monster classes{{refsrc|src/sp_lev.c|1621|nethack=3.6.7}}\n|\n|-\n|}\n\n====Notable monster class selection in special levels====\n* Normal [[Gnomish Mines]] levels and the first two [[Mines' End]] variants contain one random {{mcsl|h}}, which may be a [[mind flayer]].{{refsrc|dat/mines.des|37|nethack=3.6.7}}\n* The [[Castle]] places 27 random monsters from the list {{mcsl|L}}{{mcsl|N}}{{mcsl|E}}{{mcsl|H}}{{mcsl|M}}{{mcsl|O}}{{mcsl|R}}{{mcsl|T}}{{mcsl|X}}{{mcsl|Z}} (2&ndash;3 of each class) in the central room. The {{mcsl|L}} may include [[master lich]]es or [[arch-lich]]es.\n* The [[Astral Plane]] also contains 3 {{mcsl|L}}, which may include master liches or arch-liches.\n\n==Level creation==\nThe following steps are used to place monsters around the level upon its initial creation.\n\n* In normal room-and-corridor levels, there is a 33% chance of generating a monster (or group) per room.\n* In mazes, there is a 33% chance of generating 7-11 monsters + 0-2 [[minotaur]]s.\n\nOther levels and branches follow various special rules for initial monster placement that are generally unique to each area and detailed on their respective articles.\n\n==Monster placement==\nMonsters may be placed differently depending on how the monster is created. Monsters are placed randomly when they are created as part of the normal end-of-turn random monster creation.{{refsrc|src/allmain.c|127|nethack=3.6.7|comment=<code>makemon()</code> is called with coordinates <0,0>, indicating random placement}} [[Shrieker]]-summoned monsters and some regenerated [[Keystone Kop (monster class)|Keystone Kops]] are also placed randomly.{{refsrc|src/mon.c|2867|nethack=3.6.7|comment=Shrieker}}{{refsrc|src/mon.c|2056|nethack=3.6.7|comment=Kops}} When monsters are placed randomly, the placement algorithm prefers to place monsters where you can't see them.{{refsrc|src/makemon.c|1034|nethack=3.6.7|comment=<code>makemon_rnd_goodpos()</code> picks the location when <code>makemon()</code> was called with random placement}} Most player actions that result in monster creation result in the monsters being created around you.\n\n==See also==\n*[[Demon gating]]\n*[[summon nasties]]\n*[[summon insects]]\n*[[polymorph]]\n*[[special room]]s\n*[[Special level]]\n\n==References==\n<references/>\n{{nethack-367}}\n[[Category:Monster mechanics]]"}