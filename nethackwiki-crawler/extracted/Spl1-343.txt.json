{"title":"Spl1-343.txt","url":"https://nethackwiki.com/wiki/Spl1-343.txt","type":"markdown","data":"This is a classic text [spoiler](/wiki/Spoiler \"Spoiler\"), reproduced on NetHackWiki for reference and archival purposes. You should link to this page when you copy or excerpt it, but please do not modify the content.\n\n**Caution:** As this is not an ordinary wiki page edited by the community, this spoiler may contain outdated or otherwise inaccurate information.\n\n```\nspl1-343.txt  Last edited 2004-05-29 for NetHack 3.4.3\nSpells (learning, practising, and casting) in NetHack 3.4\nCompiled for 3.2.2 by Kevin Hugo.\nUpdated for 3.4.3 by Dylan O'Donnell <psmith@spod-central.org>.\n\n  SPELLBOOK          COST   WGT  PROB   LVL  READ  MRKR  BONUS  APPEARANCE\n  ~~~~~~~~~~~~~~~~ : ~~~~~  ~~~  ~~~~ : ~~~  ~~~~  ~~~~  ~~~~~  ~~~~~~~~~~\n  blank paper      : $   0   50   18  :  0     0     0          plain\n  Book of the Dead : 10000   20    0  :  7     0     0          papyrus\nattack             :                  :\n  force bolt       :   100   50   35  :  1     2    10\n  drain life       :   200   50   10  :  2     2    20\n  magic missile    :   200   50   45  :  2     2    20    Wiz\n  cone of cold     :   400   50   10  :  4    21    40    Val\n  fireball         :   400   50   20  :  4    12    40\n  finger of death  :   700   50    5  :  7    80    70\nhealing            :                  :\n  healing          :   100   50   40  :  1     2    10       +\n  cure blindness   :   200   50   25  :  2     2    20       +\n  cure sickness    :   300   50   32  :  3     6    30    Hea+\n  extra healing    :   300   50   27  :  3    10    30       +\n  stone to flesh   :   300   50   15  :  3     2    30\n  restore ability  :   400   50   25  :  4    15    40    Mon+\ndivination         :                  :\n  detect monsters  :   100   50   43  :  1     1    10\n  light            :   100   50   45  :  1     1    10\n  detect food      :   200   50   30  :  2     3    20\n  clairvoyance     :   300   50   15  :  3     6    30    Sam\n  detect unseen    :   300   50   20  :  3     8    30\n  identify         :   300   50   20  :  3    12    30\n  detect treasure  :   400   50   20  :  4    15    40    Rog\n  magic mapping    :   500   50   18  :  5    35    50    Arc\nenchantment        :                  :\n  sleep            :   100   50   50  :  1     1    10\n  confuse monster  :   200   50   30  :  2     2    20\n  slow monster     :   200   50   30  :  2     2    20\n  cause fear       :   300   50   25  :  3     6    30\n  charm monster    :   300   50   20  :  3     6    30    Tou\nclerical           :                  :\n  protection       :   100   50   18  :  1     3    10\n  create monster   :   200   50   35  :  2     3    20\n  remove curse     :   300   50   25  :  3    10    30    Pri+\n  create familiar  :   600   50   10  :  6    42    60\n  turn undead      :   600   50   16  :  6    48    60    Kni\nescape             :                  :\n  jumping          :   100   50   20  :  1     3    10\n  haste self       :   300   50   33  :  3     8    30    Bar\n  invisibility     :   400   50   25  :  4    15    40    Ran\n  levitation       :   400   50   20  :  4    12    40\n  teleport away    :   600   50   15  :  6    36    60\nmatter             :                  :\n  knock            :   100   50   35  :  1     1    10\n  wizard lock      :   200   50   30  :  2     3    20\n  dig              :   500   50   20  :  5    30    50    Cav\n  polymorph        :   600   50   10  :  6    48    60\n  cancellation     :   700   50   15  :  7    64    70\n\n\nSpellbooks are listed above by school, then increasing level.\nThe COST field denotes the base price of each item.  WGT specifies the\nweight (100 zorkmids weighs 1).\n\nSpellbooks comprise 4% of all randomly-generated items in the main\ndungeon, 12% in containers, 0% on the Rogue level, and 0% in hell.\nPROB is the relative probability of each subtype.  They appear 1/34\ncursed, 16/17 uncursed, and 1/34 blessed.  There is also a chance of\nobtaining a spellbook (if possible, one you haven't learnt yet and whose\nschool you're unrestricted in) from praying when your god is pleased.\nA Wizard will usually receive a blessed spellbook of finger of death\nwhen crowned; a Monk, a blessed spellbook of restore ability.\n\nThe level (LVL) of a spell controls how difficult it is to cast and\nhow much energy is required.  Normal spellbooks cost 100 times their\nlevel.  READ indicates the number of turns needed to successfully read a\nparticular spellbook.\n\nMRKR specifies the maximum number of magic marker charges needed to\nwrite a spellbook of that type, or zero if it cannot be written.  You\nmay note that this number is 10 times the spell level.  The actual\nnumber of charges used will be a random amount from MRKR/2 to MRKR-1.\nWizards have a base 1/3 chance of writing an unknown book, and all\nother classes have a base 1/15 chance; your chance generally improves\nwith higher luck, to a maximum of about 98% for Wizards and 32% for\nother classes.  You can only write on spellbooks of blank paper, which\ncan be made by getting any spellbook wet, cancelling any spellbook\n(except spellbooks of cancellation), or reading a spellbook until it\nis too faint to be read anymore.  The Book of the Dead can't be\nblanked by any means.  You can select non-blank spellbooks to write\non, but this will abuse your wisdom and you will be told, \"That\nspellbook is not blank!\"\n\nSome spells provide a BONUS against spell failure.  Each character\nclass has a particular spell that they are good at casting (noted with\nclass identifier).  In addition, the spells marked with a plus (+) are\nemergency spells that grant an additional bonus.  See the section on\ncalculating spell failure below for details.  Note that this column\ndoes NOT list which spellbooks a character may start with.\n\nSome types of spellbooks have the same APPEARANCE when unidentified.\nThe appearance of the remaining spellbooks are are randomized from the\nfollowing descriptions:\n    parchment    vellum       ragged       dog eared    mottled\n    stained      cloth        leather      white        pink\n    red          orange       yellow       velvet       light green\n    dark green   turquoise    cyan         light blue   dark blue\n    indigo       magenta      purple       violet       tan\n    plaid        light brown  dark brown   gray         wrinkled\n    dusty        bronze       copper       silver       gold\n    glittering   shining      dull         thin         thick\n\n\nReading spellbooks\n~~~~~~~~~~~~~~~~~~\nEach spellbook takes a certain number of turns to READ it, noted above.\n(Wearing lenses will reduce this number by, on average, one-third.)\n\nIf the spellbook is cursed, you will fail to learn the spell, will be\nparalyzed for the given number of turns, and will be subject to a bad\neffect (chosen randomly, with worse effects only being able to be caused\nby higher-level spells):\n  * You are teleported randomly.\n      \"You feel a wrenching sensation.\"\n  * Monsters on the level are woken and unparalysed.\n      \"You feel threatened.\"\n  * You are blinded for 250 to 349 turns.\n      \"A cloud of darkness falls upon you.\"\n      \"Oh, bummer!  Everything is dark!  Help!\" (hallucinating)\n      \"Your vision seems to dim for a moment but is normal now\"\n        (blindness overcome by Eyes of the Overworld)\n      \"Your vision seems to dim for a moment but is happier now.\"\n        (blindness overcome by Eyes of the Overworld, hallucinating)\n  * You lose your gold in inventory, if any.\n      \"You notice you have no gold!\"\n      \"You feel a strange sensation.\" (no gold to lose)\n  * You become confused for 16 to 22 turns.\n      \"These runes were just too much to comprehend.\"\n  * You are poisoned (1 to 10 damage, 3 to 6 strength loss; if poison\n    resistant, 1 to 6 damage, 1 to 2 strength loss). Gloves will protect\n    you from this, but ungreased metal gloves will be corroded.\n      \"The book was coated with contact poison!\"\n  * You get blasted by explosive energy (7 to 25 damage unless magic\n    resistant).\n      \"As you read the book, it radiates explosive energy in your <face>!\"\n      \"The book radiates explosive energy, but you are unharmed!\"\n        (magic resistance)\nThere is a 1/3 chance that the book then crumbles to dust.\n\nIf the spellbook is uncursed, there is a random chance of the same effects\nhappening as for a cursed spellbook, depending on your INTelligence, your\nexperience level (XL),and the spellbook's level (LVL):\n    1 - ((INT + 4 +(XL/2) - (2 * LVL)) / 20)\n    (If you are wearing lenses, the factor of 4 is increased to 6.)\nWizards will be warned if this chance is non-zero and given the option to\nabort the reading attempt.\n\nBlessed spellbooks never cause these bad effects.\n\nYou will never learn a spellbook while confused, and attempting while\nyou are has a 1/3 chance of destroying the spellbook (except the Book\nof the Dead).\n  \"Being confused you have difficulties in controlling your actions.\n    You accidentally tear the spellbook to pieces.\" (book destroyed).\n  \"You find yourself reading the <next/first> line over and over again.\"\n    (book not destroyed)\n\nIf you are interrupted while reading, you may continue your efforts by\nreading the same spellbook again.\n\nWhen you successfully read a spellbook, there are four outcomes.  If you do\nnot yet know the spell, \"You add the <spell> to your repertoire\", (\"You\nlearn the <spell>\" if the first spell you have learnt), identify the\nspellbook, get 20000 turns use of the spell, and increment the number of\ntimes you've studied that particular spellbook.  For spells already known,\nif the book has been studied more than 3 times \"This spellbook is too faint\nto be read anymore\" and the spellbook turns into blank paper.  Otherwise, if\nyou had 1000 or fewer turns use of the spell remaining, then \"Your knowledge\nof the <spell> is keener\", you have 20000 turns' use of the spell again, you\nexercise your wisdom, and the number of times you've studied that particular\nspellbook is incremented.  But if \"You know the <spell> quite well already\",\nthen there is no further effect and the number of times you've read the\nspellbook is unchanged.\n\nReading a spellbook will give you 20000 turns during which that spell can be\nused freely.  If you use the spell towards the end of this time, you will\nget warning messages:\n  1001 to 20000 turns left  No message.\n  101 to 1000 turns left    \"Your knowledge of this spell is growing faint.\"\n  1 to 100 turns left       \"You strain to recall the spell.\"\nExpiry of this time is denoted by an asterisk (*) next to the level in the\nspell's listing. If you try to cast an expired spell, \"Your knowledge of\nthis spell is twisted\" and you will become stunned and/or confused for\na number of turns depending on the spell's level (LVL):\n  CHANCE   CONFUSED     STUNNED\n  ~~~~~~   ~~~~~~~~~~~  ~~~~~~~ \n    40%    3 * (LVL+1)      0  \n    30%    2 * (LVL+1)   (LVL+1)\n    20%     (LVL+1)     2 * (LVL+1)\n    10%        0        3 * (LVL+1)\nYou may reset the time left to 20000 turns by rereading the spellbook after\nthe usage time has been reduced to 1000 turns.\n\nReading the Book of the Dead has immediate effect. If you are standing on\nthe vibrating square with a lit Candelabrum of Invocation with its quota of\nseven candles, and have rung the Bell of Opening there within the last four\nturns, and all three items are uncursed, then the staircase to Moloch's\nSanctum is opened. Otherwise, the invocation fails, and a message is given\nto suggest why this may be the case. Outside of an invocation situation, if\nthe Book is blessed you will tame nearby co-aligned undead, and render any\nother undead in sight peaceful and cause them to flee; if it is uncursed,\nthere is no effect beyond a random message; if it is cursed, some undead\nwill be summoned, corpses in your inventory revived and eggs in your\ninventory rejuvenated.\n\n\nSpell skills\n~~~~~~~~~~~~\nSince the integration of the \"wizard patch\" into NetHack 3.3,\ncharacters have had individual skill levels associated with particular\ngroups of spells, in a manner analogous to the weapon skills.  As with\nweapons, continued use of a spell gives you practice in its spell\nschool.  With enough practice in a school of magic and experience\nlevels, you may have the opportunity to advance your skill level in\nthat school.  This will in turn lead to reduced failure rates and an\nimprovement in effects caused by spells in that school.\n\nThere are specifically two requirements needed to advance a spell school:\na number of successful castings of any spell in the school and a number\nof experience levels. Castings to a total of 20 are needed to achieve\nbasic level, 80 to become skilled, and 180 to become expert, with each\nspell cast contributing a number equal to its level to this total.  These\nare cumulative from the beginning of the game (though if you start out at\nbasic level in a school you are precredited with the 20 castings that\nwould have been needed to achieve it).\n\nThe other criterion used to advance skill levels is experience levels.\nEach time you gain an experience level, you earn a \"skill slot\" that is\nused up when you an advance a skill.  Thus you can earn a maximum of 29\nskill slots, by advancing from level 1 to level 30.  If you lose an\nexperience level, you lose the associated skill slot; if that skill slot\nwas used to enhance a skill, you will lose the most recently earned skill\nand are refunded the remaining skill slots from that skill level.  Going\nfrom unskilled to basic or basic to skilled costs one slot; going from\nskilled to expert costs two slots.  Note that these slots are shared with\nweapon skills.\n\nWhen you start the game, Healers and Monks will have basic skill in the\nhealing school, Priests in clerical and Wizards in attack and enchantment;\nyou will be unskilled in all other schools.  When you reach the point when\nyou can advance a skill category, you will see the message, \"You feel more\nconfident in your spell casting skills.\"  You can then advance the skill\nusing the #enhance command (alt-e on some systems).  You may choose to\nnot advance a skill level if you want to reserve the skill slots for a\ndifferent school or weapon class.  After advancing a skill, if you are\nready to advance another skill (possibly the same one), you will get the\nmessage \"You feel you could be more dangerous!\"  The #enhance command can\nalso be used at any time to check your current skill levels.\n\nDifferent classes can reach different maximum levels in the spell schools,\nas follows:\n\nSchool         Arc Bar Cav Hea Kni Mon Pri Ran Rog Sam Tou Val Wiz\n~~~~~~         ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~\nattack      :   b   s   b   -   s   b   -   -   -   s   -   b   E\nhealing     :   b   -   -   E   s   E   E   b   -   -   -   -   s\ndivination  :   E   -   -   -   -   b   E   E   s   -   b   -   E\nenchantment :   -   -   -   -   -   b   -   -   -   -   b   -   s\nclerical    :   -   -   -   -   s   s   E   -   -   s   -   -   s\nescape      :   -   -   -   -   -   b   -   b   s   -   s   b   E\nmatter      :   b   -   s   -   -   b   -   -   s   -   -   -   E\n\nThe term \"restricted\" is used to describe schools in which you are\npermanently unskilled.  They do not appear in the #enhance menu, although\nyou will see schools that are unskilled and can be advanced.\n\n\nSpell failure\n~~~~~~~~~~~~~\nThere are some preliminary needs that must be met for any spellcasting.\nThe spell must be already known and have been (re)learnt less than\n20000 turns ago.  You need at least 11 nutrition (weak, near fainting)\nunless you are casting a spell of detect food.  You must have a strength\nof at least 4, must have a free hand (both can't be welded to weapons\nand/or a shield), and must not be overtaxed.  Finally, each attempt to\ncast a spell drains energy equal to 5 times the spell's level (randomly up\nto three times this amount if you have the Amulet) for a successful\ncasting, or half as much for a failure.  (See hppw-343.txt for details of\nhow fast you will regain this energy.)  Your hunger increases by twice\nthe amount of energy that would be drained for a success regardless, but\nit will not make you faint. For Wizards, this hunger loss is reduced by an\namount depending on intelligence; halved for INT of 15, quartered for INT\nof 16, or eliminated entirely for INT of 17 or greater.\n\nThere are three factors that cause spells to fail:\n\n-   Your armor.  Metallic body armor, metallic helmets (except helm of\n    brilliance), metallic gloves, metallic shoes, and any shield\n    (although a small shield is not as bad) will penalize you.  Fighter-\n    type classes are not penalized as much as the other classes.  The\n    following items are \"safe\" for spellcasting:\n        All shirts\n        All dragon scales and dragon scale mails\n        Leather jacket, leather armor, studded leather armor\n        Crystal plate mail\n        All cloaks and robes\n        Elven leather helm, fedora, helm of brilliance\n        Cornuthaum\n        All gloves except gauntlets of power\n        All boots except iron shoes and kicking boots\n\n    So the \"best\" armor class you could achieve for spellcasting -- not\n    including your intrinsic protection or item enchantments -- is with\n    any shirt, any dragon scale mail, a robe, a helm of brilliance,\n    gauntlets of dexterity, and high boots.  Of course, there are other\n    combinations that yield a lower AC or spellcasting ability but have\n    strategic advantages.\n\n-   The level of the spell, as shown above (LVL).\n\n-   If you are confused, the spell will always fail.\n\nThere are seven factors that improve spellcasting success:\n\n+   Your class.  Each class has its own base ability, armor penalties,\n    bonuses for emergency spells, and a spell that they are especially\n    good at.  See the table below.\n\n+   Your armor.  Robes help offset a penalty for wearing metallic body\n    armour, or grant an outright bonus if worn without it.\n\n+   Your intelligence (Arc, Bar, Cav, Ran, Rog, Sam, Tou, Wiz) or\n    wisdom (Hea, Kni, Mon, Pri, Val).\n\n+   Your experience level.\n\n+   Your skill in the school of the spell.\n\n+   Certain \"emergency\" spells get an extra bonus.  They are noted with\n    a plus (+) in the above BONUS column.  The amount of the bonus\n    depends on your class.  Note that Rangers and Tourists are actually\n    penalized for these spells.\n\n+   If you have the teleport intrinsic (\"teleportitis\"), you may be able\n    to perform a self-teleport (^T) without using the teleport away spell.\n    You also must be at least experience level 12 (8 if a Wizard) or be\n    polymorphed into a teleporting monster, may not be overtaxed, must\n    have at least 6 strength, and need 100 nutrition and 19 energy (both\n    of which are consumed).  If you fall into water with teleportitis or\n    as a teleporting monster, you may automatically attempt to cast a\n    self-teleport to get out.  Finally, characters with teleportitis\n    will always teleport at random intervals.\n\nTo calculate spell failure, you first need to sum together the penalties\nmarked with a number sign (#) below.  An increasing total penalty is worse\nfor spellcasting, and is limited to a maximum of 20.\n\n#   The \"BASE\" value from the table below, depending on the character's\n    class.\n#   If an \"emergency\" spell (noted with a + above), the \"EMERG\" field.\n#   If wearing any shield, the amount in the \"SHIELD\" field.\n#   If wearing metallic body armor, the amount in the \"SUIT\" field.\n    If also wearing a robe, only add half the amount (rounded down).\n#   If wearing a robe without metallic armour, *subtract* the amount\n    in the \"SUIT\" field.\n#   If wearing a metallic helmet other than the helm of brilliance, add 4.\n    (Metal helmets interfere with the mind.)\n#   Metallic gloves add 6 (casting channels through the hands).\n#   Metallic boots add 2 (all metal interferes to some degree).\n#   Add -4 if the spell is special to that class (see table).\n\nCLASS   BASE    EMERG   SHIELD  SUIT    STAT    SPECIAL SPELL\n~~~~~   ~~~~    ~~~~~   ~~~~~~  ~~~~    ~~~~    ~~~~~~~~~~~~~\n Arc      5#      0#      2#     10#    Int     Magic mapping\n Bar     14#      0#      0#      8#    Int     Haste self\n Cav     12#      0#      1#      8#    Int     Dig\n Hea      3#     -3#      2#     10#    Wis     Cure sickness\n Kni      8#     -2#      0#      9#    Wis     Turn undead\n Mon      8#     -2#      2#     20#    Wis     Restore ability\n Pri      3#     -2#      2#     10#    Wis     Remove curse\n Ran      9#      2#      1#     10#    Int     Invisibility\n Rog      8#      0#      1#      9#    Int     Detect treasure\n Sam     10#      0#      0#      8#    Int     Clairvoyance\n Tou      5#      1#      2#     10#    Int     Charm monster\n Val     10#     -2#      0#      9#    Wis     Cone of cold\n Wiz      1#      0#      3#     10#    Int     Magic missile\n\n\nNext, calculate a base chance of success, which is 5.5 times your\nintelligence or wisdom STAT, depending on your class.  This chance is\nmodified by the following factors:\n#   SKILL level (unskilled = 0, basic = 1, skilled = 2, expert = 3)\n#   spell level (LVL)\n#   experience level (XL)\naccording to this formula:\n    difficulty = (LVL * 4) - (SKILL * 6) - (XL/3) - 5\n\nIf this is positive, your chance is reduced according to another formula:\n    chance = base chance - square root of ((900 * difficulty) + 2000)\nOtherwise, it will be increased with diminishing returns: the\nabsolute value is multiplied by (15/LVL), capped at 20, and added to\nthe base chance.\n\nThe resulting chance is clipped to the range of 0% to 120% success.  If\nyou are wearing a shield larger than a small shield, the chance is then\nreduced to 1/4 its amount (except if it is the special spell for your\nclass -- then it is only halved).\n\nFinally, the chance of success is adjusted by your total penalty using\nthe following formula:\n    chance = (chance * (20-penalty) / 15) - penalty\nThe result is clipped to the range of 0% to 100% success.\n\n\nAcknowledgements\n~~~~~~~~~~~~~~~~\nThanks to Bruce Cox for proofreading the original version of this file.\nFurther corrections and clarifications provided by Jason Brown,\nSnibor Eoj, Monte Mitzelfelt, Petrosky, Pat Rankin, Pekka Rousu,\nPekka Savola, Robert R. Schneck, Darshan Shaligram, Jason Short, and\nSascha Wostmann.\n```\n\n*This page is based on a spoiler by [Dylan O'Donnell](https://alt.org/nethack/mirror/www.spod-central.org/%257Epsmith/). The original license is:*\n\nRedistribution, copying, and editing of these spoilers, with or without modification, are permitted provided that the following conditions are met:\n\n1. The original contributors to any spoiler must continue to be credited.\n2. Any modifications to the spoiler must be acknowledged and credited.\n\n[![This article is unlikely to require revision for the next version of NetHack. Click here for more information.](/images/5/58/Noversion.png)](/wiki/NetHackWiki:Next_version \"This article is unlikely to require revision for the next version of NetHack. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>spl1-343.txt - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Spl1-343.txt\",\"wgTitle\":\"Spl1-343.txt\",\"wgCurRevisionId\":105407,\"wgRevisionId\":105407,\"wgArticleId\":11636,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Spoiler files\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Spl1-343.txt\",\"wgRelevantArticleId\":11636,\"wgRequestId\":\"4f53e5aa08294f043e649271\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[\"sysop\"],\"wgRestrictionMove\":[\"sysop\"],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Spl1-343.txt\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Spl1-343_txt rootpage-Spl1-343_txt skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">spl1-343.txt</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><p>This is a classic text <a href=\"/wiki/Spoiler\" title=\"Spoiler\">spoiler</a>, reproduced on NetHackWiki for reference and archival purposes. You should link to this page when you copy or excerpt it, but please do not modify the content.\n</p><p><b>Caution:</b> As this is not an ordinary wiki page edited by the community, this spoiler may contain outdated or otherwise inaccurate information.\n</p>\n<pre>spl1-343.txt  Last edited 2004-05-29 for NetHack 3.4.3\nSpells (learning, practising, and casting) in NetHack 3.4\nCompiled for 3.2.2 by Kevin Hugo.\nUpdated for 3.4.3 by Dylan O'Donnell &lt;psmith@spod-central.org&gt;.\n\n  SPELLBOOK          COST   WGT  PROB   LVL  READ  MRKR  BONUS  APPEARANCE\n  ~~~~~~~~~~~~~~~~&#160;: ~~~~~  ~~~  ~~~~&#160;: ~~~  ~~~~  ~~~~  ~~~~~  ~~~~~~~~~~\n  blank paper      : $   0   50   18  :  0     0     0          plain\n  Book of the Dead&#160;: 10000   20    0  :  7     0     0          papyrus\nattack             :                  :\n  force bolt       :   100   50   35  :  1     2    10\n  drain life       :   200   50   10  :  2     2    20\n  magic missile    :   200   50   45  :  2     2    20    Wiz\n  cone of cold     :   400   50   10  :  4    21    40    Val\n  fireball         :   400   50   20  :  4    12    40\n  finger of death  :   700   50    5  :  7    80    70\nhealing            :                  :\n  healing          :   100   50   40  :  1     2    10       +\n  cure blindness   :   200   50   25  :  2     2    20       +\n  cure sickness    :   300   50   32  :  3     6    30    Hea+\n  extra healing    :   300   50   27  :  3    10    30       +\n  stone to flesh   :   300   50   15  :  3     2    30\n  restore ability  :   400   50   25  :  4    15    40    Mon+\ndivination         :                  :\n  detect monsters  :   100   50   43  :  1     1    10\n  light            :   100   50   45  :  1     1    10\n  detect food      :   200   50   30  :  2     3    20\n  clairvoyance     :   300   50   15  :  3     6    30    Sam\n  detect unseen    :   300   50   20  :  3     8    30\n  identify         :   300   50   20  :  3    12    30\n  detect treasure  :   400   50   20  :  4    15    40    Rog\n  magic mapping    :   500   50   18  :  5    35    50    Arc\nenchantment        :                  :\n  sleep            :   100   50   50  :  1     1    10\n  confuse monster  :   200   50   30  :  2     2    20\n  slow monster     :   200   50   30  :  2     2    20\n  cause fear       :   300   50   25  :  3     6    30\n  charm monster    :   300   50   20  :  3     6    30    Tou\nclerical           :                  :\n  protection       :   100   50   18  :  1     3    10\n  create monster   :   200   50   35  :  2     3    20\n  remove curse     :   300   50   25  :  3    10    30    Pri+\n  create familiar  :   600   50   10  :  6    42    60\n  turn undead      :   600   50   16  :  6    48    60    Kni\nescape             :                  :\n  jumping          :   100   50   20  :  1     3    10\n  haste self       :   300   50   33  :  3     8    30    Bar\n  invisibility     :   400   50   25  :  4    15    40    Ran\n  levitation       :   400   50   20  :  4    12    40\n  teleport away    :   600   50   15  :  6    36    60\nmatter             :                  :\n  knock            :   100   50   35  :  1     1    10\n  wizard lock      :   200   50   30  :  2     3    20\n  dig              :   500   50   20  :  5    30    50    Cav\n  polymorph        :   600   50   10  :  6    48    60\n  cancellation     :   700   50   15  :  7    64    70\n\n\nSpellbooks are listed above by school, then increasing level.\nThe COST field denotes the base price of each item.  WGT specifies the\nweight (100 zorkmids weighs 1).\n\nSpellbooks comprise 4% of all randomly-generated items in the main\ndungeon, 12% in containers, 0% on the Rogue level, and 0% in hell.\nPROB is the relative probability of each subtype.  They appear 1/34\ncursed, 16/17 uncursed, and 1/34 blessed.  There is also a chance of\nobtaining a spellbook (if possible, one you haven't learnt yet and whose\nschool you're unrestricted in) from praying when your god is pleased.\nA Wizard will usually receive a blessed spellbook of finger of death\nwhen crowned; a Monk, a blessed spellbook of restore ability.\n\nThe level (LVL) of a spell controls how difficult it is to cast and\nhow much energy is required.  Normal spellbooks cost 100 times their\nlevel.  READ indicates the number of turns needed to successfully read a\nparticular spellbook.\n\nMRKR specifies the maximum number of magic marker charges needed to\nwrite a spellbook of that type, or zero if it cannot be written.  You\nmay note that this number is 10 times the spell level.  The actual\nnumber of charges used will be a random amount from MRKR/2 to MRKR-1.\nWizards have a base 1/3 chance of writing an unknown book, and all\nother classes have a base 1/15 chance; your chance generally improves\nwith higher luck, to a maximum of about 98% for Wizards and 32% for\nother classes.  You can only write on spellbooks of blank paper, which\ncan be made by getting any spellbook wet, cancelling any spellbook\n(except spellbooks of cancellation), or reading a spellbook until it\nis too faint to be read anymore.  The Book of the Dead can't be\nblanked by any means.  You can select non-blank spellbooks to write\non, but this will abuse your wisdom and you will be told, \"That\nspellbook is not blank!\"\n\nSome spells provide a BONUS against spell failure.  Each character\nclass has a particular spell that they are good at casting (noted with\nclass identifier).  In addition, the spells marked with a plus (+) are\nemergency spells that grant an additional bonus.  See the section on\ncalculating spell failure below for details.  Note that this column\ndoes NOT list which spellbooks a character may start with.\n\nSome types of spellbooks have the same APPEARANCE when unidentified.\nThe appearance of the remaining spellbooks are are randomized from the\nfollowing descriptions:\n    parchment    vellum       ragged       dog eared    mottled\n    stained      cloth        leather      white        pink\n    red          orange       yellow       velvet       light green\n    dark green   turquoise    cyan         light blue   dark blue\n    indigo       magenta      purple       violet       tan\n    plaid        light brown  dark brown   gray         wrinkled\n    dusty        bronze       copper       silver       gold\n    glittering   shining      dull         thin         thick\n\n\nReading spellbooks\n~~~~~~~~~~~~~~~~~~\nEach spellbook takes a certain number of turns to READ it, noted above.\n(Wearing lenses will reduce this number by, on average, one-third.)\n\nIf the spellbook is cursed, you will fail to learn the spell, will be\nparalyzed for the given number of turns, and will be subject to a bad\neffect (chosen randomly, with worse effects only being able to be caused\nby higher-level spells):\n  * You are teleported randomly.\n      \"You feel a wrenching sensation.\"\n  * Monsters on the level are woken and unparalysed.\n      \"You feel threatened.\"\n  * You are blinded for 250 to 349 turns.\n      \"A cloud of darkness falls upon you.\"\n      \"Oh, bummer!  Everything is dark!  Help!\" (hallucinating)\n      \"Your vision seems to dim for a moment but is normal now\"\n        (blindness overcome by Eyes of the Overworld)\n      \"Your vision seems to dim for a moment but is happier now.\"\n        (blindness overcome by Eyes of the Overworld, hallucinating)\n  * You lose your gold in inventory, if any.\n      \"You notice you have no gold!\"\n      \"You feel a strange sensation.\" (no gold to lose)\n  * You become confused for 16 to 22 turns.\n      \"These runes were just too much to comprehend.\"\n  * You are poisoned (1 to 10 damage, 3 to 6 strength loss; if poison\n    resistant, 1 to 6 damage, 1 to 2 strength loss). Gloves will protect\n    you from this, but ungreased metal gloves will be corroded.\n      \"The book was coated with contact poison!\"\n  * You get blasted by explosive energy (7 to 25 damage unless magic\n    resistant).\n      \"As you read the book, it radiates explosive energy in your &lt;face&gt;!\"\n      \"The book radiates explosive energy, but you are unharmed!\"\n        (magic resistance)\nThere is a 1/3 chance that the book then crumbles to dust.\n\nIf the spellbook is uncursed, there is a random chance of the same effects\nhappening as for a cursed spellbook, depending on your INTelligence, your\nexperience level (XL),and the spellbook's level (LVL):\n    1 - ((INT + 4 +(XL/2) - (2 * LVL)) / 20)\n    (If you are wearing lenses, the factor of 4 is increased to 6.)\nWizards will be warned if this chance is non-zero and given the option to\nabort the reading attempt.\n\nBlessed spellbooks never cause these bad effects.\n\nYou will never learn a spellbook while confused, and attempting while\nyou are has a 1/3 chance of destroying the spellbook (except the Book\nof the Dead).\n  \"Being confused you have difficulties in controlling your actions.\n    You accidentally tear the spellbook to pieces.\" (book destroyed).\n  \"You find yourself reading the &lt;next/first&gt; line over and over again.\"\n    (book not destroyed)\n\nIf you are interrupted while reading, you may continue your efforts by\nreading the same spellbook again.\n\nWhen you successfully read a spellbook, there are four outcomes.  If you do\nnot yet know the spell, \"You add the &lt;spell&gt; to your repertoire\", (\"You\nlearn the &lt;spell&gt;\" if the first spell you have learnt), identify the\nspellbook, get 20000 turns use of the spell, and increment the number of\ntimes you've studied that particular spellbook.  For spells already known,\nif the book has been studied more than 3 times \"This spellbook is too faint\nto be read anymore\" and the spellbook turns into blank paper.  Otherwise, if\nyou had 1000 or fewer turns use of the spell remaining, then \"Your knowledge\nof the &lt;spell&gt; is keener\", you have 20000 turns' use of the spell again, you\nexercise your wisdom, and the number of times you've studied that particular\nspellbook is incremented.  But if \"You know the &lt;spell&gt; quite well already\",\nthen there is no further effect and the number of times you've read the\nspellbook is unchanged.\n\nReading a spellbook will give you 20000 turns during which that spell can be\nused freely.  If you use the spell towards the end of this time, you will\nget warning messages:\n  1001 to 20000 turns left  No message.\n  101 to 1000 turns left    \"Your knowledge of this spell is growing faint.\"\n  1 to 100 turns left       \"You strain to recall the spell.\"\nExpiry of this time is denoted by an asterisk (*) next to the level in the\nspell's listing. If you try to cast an expired spell, \"Your knowledge of\nthis spell is twisted\" and you will become stunned and/or confused for\na number of turns depending on the spell's level (LVL):\n  CHANCE   CONFUSED     STUNNED\n  ~~~~~~   ~~~~~~~~~~~  ~~~~~~~ \n    40%    3 * (LVL+1)      0  \n    30%    2 * (LVL+1)   (LVL+1)\n    20%     (LVL+1)     2 * (LVL+1)\n    10%        0        3 * (LVL+1)\nYou may reset the time left to 20000 turns by rereading the spellbook after\nthe usage time has been reduced to 1000 turns.\n\nReading the Book of the Dead has immediate effect. If you are standing on\nthe vibrating square with a lit Candelabrum of Invocation with its quota of\nseven candles, and have rung the Bell of Opening there within the last four\nturns, and all three items are uncursed, then the staircase to Moloch's\nSanctum is opened. Otherwise, the invocation fails, and a message is given\nto suggest why this may be the case. Outside of an invocation situation, if\nthe Book is blessed you will tame nearby co-aligned undead, and render any\nother undead in sight peaceful and cause them to flee; if it is uncursed,\nthere is no effect beyond a random message; if it is cursed, some undead\nwill be summoned, corpses in your inventory revived and eggs in your\ninventory rejuvenated.\n\n\nSpell skills\n~~~~~~~~~~~~\nSince the integration of the \"wizard patch\" into NetHack 3.3,\ncharacters have had individual skill levels associated with particular\ngroups of spells, in a manner analogous to the weapon skills.  As with\nweapons, continued use of a spell gives you practice in its spell\nschool.  With enough practice in a school of magic and experience\nlevels, you may have the opportunity to advance your skill level in\nthat school.  This will in turn lead to reduced failure rates and an\nimprovement in effects caused by spells in that school.\n\nThere are specifically two requirements needed to advance a spell school:\na number of successful castings of any spell in the school and a number\nof experience levels. Castings to a total of 20 are needed to achieve\nbasic level, 80 to become skilled, and 180 to become expert, with each\nspell cast contributing a number equal to its level to this total.  These\nare cumulative from the beginning of the game (though if you start out at\nbasic level in a school you are precredited with the 20 castings that\nwould have been needed to achieve it).\n\nThe other criterion used to advance skill levels is experience levels.\nEach time you gain an experience level, you earn a \"skill slot\" that is\nused up when you an advance a skill.  Thus you can earn a maximum of 29\nskill slots, by advancing from level 1 to level 30.  If you lose an\nexperience level, you lose the associated skill slot; if that skill slot\nwas used to enhance a skill, you will lose the most recently earned skill\nand are refunded the remaining skill slots from that skill level.  Going\nfrom unskilled to basic or basic to skilled costs one slot; going from\nskilled to expert costs two slots.  Note that these slots are shared with\nweapon skills.\n\nWhen you start the game, Healers and Monks will have basic skill in the\nhealing school, Priests in clerical and Wizards in attack and enchantment;\nyou will be unskilled in all other schools.  When you reach the point when\nyou can advance a skill category, you will see the message, \"You feel more\nconfident in your spell casting skills.\"  You can then advance the skill\nusing the #enhance command (alt-e on some systems).  You may choose to\nnot advance a skill level if you want to reserve the skill slots for a\ndifferent school or weapon class.  After advancing a skill, if you are\nready to advance another skill (possibly the same one), you will get the\nmessage \"You feel you could be more dangerous!\"  The #enhance command can\nalso be used at any time to check your current skill levels.\n\nDifferent classes can reach different maximum levels in the spell schools,\nas follows:\n\nSchool         Arc Bar Cav Hea Kni Mon Pri Ran Rog Sam Tou Val Wiz\n~~~~~~         ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~ ~~~\nattack      :   b   s   b   -   s   b   -   -   -   s   -   b   E\nhealing     :   b   -   -   E   s   E   E   b   -   -   -   -   s\ndivination  :   E   -   -   -   -   b   E   E   s   -   b   -   E\nenchantment&#160;:   -   -   -   -   -   b   -   -   -   -   b   -   s\nclerical    :   -   -   -   -   s   s   E   -   -   s   -   -   s\nescape      :   -   -   -   -   -   b   -   b   s   -   s   b   E\nmatter      :   b   -   s   -   -   b   -   -   s   -   -   -   E\n\nThe term \"restricted\" is used to describe schools in which you are\npermanently unskilled.  They do not appear in the #enhance menu, although\nyou will see schools that are unskilled and can be advanced.\n\n\nSpell failure\n~~~~~~~~~~~~~\nThere are some preliminary needs that must be met for any spellcasting.\nThe spell must be already known and have been (re)learnt less than\n20000 turns ago.  You need at least 11 nutrition (weak, near fainting)\nunless you are casting a spell of detect food.  You must have a strength\nof at least 4, must have a free hand (both can't be welded to weapons\nand/or a shield), and must not be overtaxed.  Finally, each attempt to\ncast a spell drains energy equal to 5 times the spell's level (randomly up\nto three times this amount if you have the Amulet) for a successful\ncasting, or half as much for a failure.  (See hppw-343.txt for details of\nhow fast you will regain this energy.)  Your hunger increases by twice\nthe amount of energy that would be drained for a success regardless, but\nit will not make you faint. For Wizards, this hunger loss is reduced by an\namount depending on intelligence; halved for INT of 15, quartered for INT\nof 16, or eliminated entirely for INT of 17 or greater.\n\nThere are three factors that cause spells to fail:\n\n-   Your armor.  Metallic body armor, metallic helmets (except helm of\n    brilliance), metallic gloves, metallic shoes, and any shield\n    (although a small shield is not as bad) will penalize you.  Fighter-\n    type classes are not penalized as much as the other classes.  The\n    following items are \"safe\" for spellcasting:\n        All shirts\n        All dragon scales and dragon scale mails\n        Leather jacket, leather armor, studded leather armor\n        Crystal plate mail\n        All cloaks and robes\n        Elven leather helm, fedora, helm of brilliance\n        Cornuthaum\n        All gloves except gauntlets of power\n        All boots except iron shoes and kicking boots\n\n    So the \"best\" armor class you could achieve for spellcasting -- not\n    including your intrinsic protection or item enchantments -- is with\n    any shirt, any dragon scale mail, a robe, a helm of brilliance,\n    gauntlets of dexterity, and high boots.  Of course, there are other\n    combinations that yield a lower AC or spellcasting ability but have\n    strategic advantages.\n\n-   The level of the spell, as shown above (LVL).\n\n-   If you are confused, the spell will always fail.\n\nThere are seven factors that improve spellcasting success:\n\n+   Your class.  Each class has its own base ability, armor penalties,\n    bonuses for emergency spells, and a spell that they are especially\n    good at.  See the table below.\n\n+   Your armor.  Robes help offset a penalty for wearing metallic body\n    armour, or grant an outright bonus if worn without it.\n\n+   Your intelligence (Arc, Bar, Cav, Ran, Rog, Sam, Tou, Wiz) or\n    wisdom (Hea, Kni, Mon, Pri, Val).\n\n+   Your experience level.\n\n+   Your skill in the school of the spell.\n\n+   Certain \"emergency\" spells get an extra bonus.  They are noted with\n    a plus (+) in the above BONUS column.  The amount of the bonus\n    depends on your class.  Note that Rangers and Tourists are actually\n    penalized for these spells.\n\n+   If you have the teleport intrinsic (\"teleportitis\"), you may be able\n    to perform a self-teleport (^T) without using the teleport away spell.\n    You also must be at least experience level 12 (8 if a Wizard) or be\n    polymorphed into a teleporting monster, may not be overtaxed, must\n    have at least 6 strength, and need 100 nutrition and 19 energy (both\n    of which are consumed).  If you fall into water with teleportitis or\n    as a teleporting monster, you may automatically attempt to cast a\n    self-teleport to get out.  Finally, characters with teleportitis\n    will always teleport at random intervals.\n\nTo calculate spell failure, you first need to sum together the penalties\nmarked with a number sign (#) below.  An increasing total penalty is worse\nfor spellcasting, and is limited to a maximum of 20.\n\n#   The \"BASE\" value from the table below, depending on the character's\n    class.\n#   If an \"emergency\" spell (noted with a + above), the \"EMERG\" field.\n#   If wearing any shield, the amount in the \"SHIELD\" field.\n#   If wearing metallic body armor, the amount in the \"SUIT\" field.\n    If also wearing a robe, only add half the amount (rounded down).\n#   If wearing a robe without metallic armour, *subtract* the amount\n    in the \"SUIT\" field.\n#   If wearing a metallic helmet other than the helm of brilliance, add 4.\n    (Metal helmets interfere with the mind.)\n#   Metallic gloves add 6 (casting channels through the hands).\n#   Metallic boots add 2 (all metal interferes to some degree).\n#   Add -4 if the spell is special to that class (see table).\n\nCLASS   BASE    EMERG   SHIELD  SUIT    STAT    SPECIAL SPELL\n~~~~~   ~~~~    ~~~~~   ~~~~~~  ~~~~    ~~~~    ~~~~~~~~~~~~~\n Arc      5#      0#      2#     10#    Int     Magic mapping\n Bar     14#      0#      0#      8#    Int     Haste self\n Cav     12#      0#      1#      8#    Int     Dig\n Hea      3#     -3#      2#     10#    Wis     Cure sickness\n Kni      8#     -2#      0#      9#    Wis     Turn undead\n Mon      8#     -2#      2#     20#    Wis     Restore ability\n Pri      3#     -2#      2#     10#    Wis     Remove curse\n Ran      9#      2#      1#     10#    Int     Invisibility\n Rog      8#      0#      1#      9#    Int     Detect treasure\n Sam     10#      0#      0#      8#    Int     Clairvoyance\n Tou      5#      1#      2#     10#    Int     Charm monster\n Val     10#     -2#      0#      9#    Wis     Cone of cold\n Wiz      1#      0#      3#     10#    Int     Magic missile\n\n\nNext, calculate a base chance of success, which is 5.5 times your\nintelligence or wisdom STAT, depending on your class.  This chance is\nmodified by the following factors:\n#   SKILL level (unskilled = 0, basic = 1, skilled = 2, expert = 3)\n#   spell level (LVL)\n#   experience level (XL)\naccording to this formula:\n    difficulty = (LVL * 4) - (SKILL * 6) - (XL/3) - 5\n\nIf this is positive, your chance is reduced according to another formula:\n    chance = base chance - square root of ((900 * difficulty) + 2000)\nOtherwise, it will be increased with diminishing returns: the\nabsolute value is multiplied by (15/LVL), capped at 20, and added to\nthe base chance.\n\nThe resulting chance is clipped to the range of 0% to 120% success.  If\nyou are wearing a shield larger than a small shield, the chance is then\nreduced to 1/4 its amount (except if it is the special spell for your\nclass -- then it is only halved).\n\nFinally, the chance of success is adjusted by your total penalty using\nthe following formula:\n    chance = (chance * (20-penalty) / 15) - penalty\nThe result is clipped to the range of 0% to 100% success.\n\n\nAcknowledgements\n~~~~~~~~~~~~~~~~\nThanks to Bruce Cox for proofreading the original version of this file.\nFurther corrections and clarifications provided by Jason Brown,\nSnibor Eoj, Monte Mitzelfelt, Petrosky, Pat Rankin, Pekka Rousu,\nPekka Savola, Robert R. Schneck, Darshan Shaligram, Jason Short, and\nSascha Wostmann.\n</pre>\n<div class=\"license_dod\">\n<p><i>This page is based on a spoiler by <a class=\"external text\" href=\"https://alt.org/nethack/mirror/www.spod-central.org/%257Epsmith/\">Dylan O'Donnell</a>. The original license is:</i>\n</p><p>Redistribution, copying, and editing of these spoilers, with or without modification, are permitted provided that the following conditions are met:\n</p>\n<ol><li>The original contributors to any spoiler must continue to be credited.</li>\n<li>Any modifications to the spoiler must be acknowledged and credited.</li></ol>\n</div>\n<div style=\"display:none; right:10px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article is unlikely to require revision for the next version of NetHack. Click here for more information.\"><img alt=\"This article is unlikely to require revision for the next version of NetHack. Click here for more information.\" src=\"/images/5/58/Noversion.png\" width=\"32\" height=\"32\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240926190641\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.013 seconds\nReal time usage: 0.016 seconds\nPreprocessor visited node count: 86/1000000\nPreprocessor generated node count: 506/1000000\nPost‐expand include size: 2135/2097152 bytes\nTemplate argument size: 292/2097152 bytes\nHighest expansion depth: 8/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 21899/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    7.730      1 -total\n 59.55%    4.603      1 Template:Noversion\n 44.78%    3.462      1 Template:Version_icon\n 28.18%    2.178      1 Template:Top_icon\n 23.06%    1.783      1 Template:Verbatim_spoiler\n 14.08%    1.088      1 Template:DOD\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:11636-0!canonical and timestamp 20240926190641 and revision id 105407\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Spl1-343.txt&amp;oldid=105407\">https://nethackwiki.com/index.php?title=Spl1-343.txt&amp;oldid=105407</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Category</a>: <ul><li><a href=\"/wiki/Category:Spoiler_files\" title=\"Category:Spoiler files\">Spoiler files</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Spl1-343.txt\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Spl1-343.txt\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Spl1-343.txt\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\" class=\"new\"><span><a href=\"/index.php?title=Talk:Spl1-343.txt&amp;action=edit&amp;redlink=1\" rel=\"discussion\" title=\"Discussion about the content page (page does not exist) [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Spl1-343.txt\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Spl1-343.txt&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Spl1-343.txt&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Spl1-343.txt\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Spl1-343.txt\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Spl1-343.txt&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Spl1-343.txt&amp;oldid=105407\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Spl1-343.txt&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 29 April 2017, at 01:20.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.013\",\"walltime\":\"0.016\",\"ppvisitednodes\":{\"value\":86,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":506,\"limit\":1000000},\"postexpandincludesize\":{\"value\":2135,\"limit\":2097152},\"templateargumentsize\":{\"value\":292,\"limit\":2097152},\"expansiondepth\":{\"value\":8,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":21899,\"limit\":5000000},\"timingprofile\":[\"100.00%    7.730      1 -total\",\" 59.55%    4.603      1 Template:Noversion\",\" 44.78%    3.462      1 Template:Version_icon\",\" 28.18%    2.178      1 Template:Top_icon\",\" 23.06%    1.783      1 Template:Verbatim_spoiler\",\" 14.08%    1.088      1 Template:DOD\"]},\"cachereport\":{\"timestamp\":\"20240926190641\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":66});});</script>\n\t</body>\n</html>\n","rawPage":"<!DOCTYPE html>\n<html><head><title>Forbidden</title></head>\n<body><h1>Forbidden</h1><p>Invalid file extension found in the path info or query string.</p></body></html>\n"}