{"title":"Sokoban Level 4b","url":"https://nethackwiki.com/wiki/Sokoban_Level_4b","type":"markdown","data":"**Sokoban Level 4b** is one of two possible maps for the last level of [Sokoban](/wiki/Sokoban \"Sokoban\") in *[NetHack](/wiki/NetHack \"NetHack\")*, and is among the various possible maps for that level in variants of *NetHack*. Behind the holes is a [treasure zoo](/wiki/Treasure_zoo \"Treasure zoo\") with three doors - inside one of the doors is the branch prize, which has an equal chance of being a [bag of holding](/wiki/Bag_of_holding \"Bag of holding\") or an [amulet of reflection](/wiki/Amulet_of_reflection \"Amulet of reflection\"). There are 20 [boulders](/wiki/Boulder \"Boulder\") and 18 [holes](/wiki/Hole \"Hole\"), leaving two spare boulders.\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nBoth prizes are no longer equally likely for each floor. Instead, floor 4a has a 75% chance for a bag of holding, and this floor has a 75% chance for an amulet of reflection.\n\n```\n0 boulder\n^ hole\n@ starting position/downstairs\n  no upstairs\n```\n\n```\n  ------------------------\n  |..^^^^^^^^^^^^^^^^^^..|\n  |..-------------------.|\n----.|    -----        |.|\n|..|0--  --...|        |.|\n|.....|--|.0..|        |.|\n|.00..|..|..0.|        |.|\n--..00|...00.--        |.|\n |0..0...|0..|   ------|.|\n |.00.|..|..0| --|.....|.|\n |.0.0---|.0.| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.0..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.0...|   |.+.....|\n     |@.|..|   --|.....|\n     -------     -------\n```\n\n[ ]\n\n## Contents\n\n- [1 Strategy](#Strategy)\n\n- [2 History](#History)\n\n- [3 Variants](#Variants)\n\n  - [3.1 UnNetHack](#UnNetHack)\n  - [3.2 EvilHack](#EvilHack)\n  - [3.3 Hack'EM](#Hack.27EM)\n\n## Strategy\n\nThe following solution solves the level without putting any boulders in an immobile position. Faster solutions which do not necessarily leave every boulder free might exist.\n\nAll boulders are replaced by letters so they can be referred to. Moving the boulders is shortened to **r** for right, **l** for left, **u** for up, **d** for down. An asterisk is used to denote the last move filled a hole (and thus removed the boulder from the game). So **Nddrr\\*** means move boulder **N** two times down and two times to the right into a hole.\n\nThe general strategy for this level is to enter through the right room into the middle of the left room. There the boulders should be organized precisely so that the left room can be cleared.\n\nYou can also [watch an instructional TTYREC video](http://alt.org/nethack/trd/?file=http://alt.org/nethack/userdata/t/tjraux02/ttyrec/2011-06-07.01:46:57.ttyrec.bz2) or [a YouTube video](https://youtu.be/KmLH4RZS-Fw).\n\nAt first the **T** boulder should be pushed into the right room, because the entrance above the **T** should stay clear:\n\n```\n  ------------------------ T rrru uuu\n  |..^^^^^^^^^^^^^^^^^^..| R u\n  |..-------------------.| O uu\n----.|    -----        |.| I u\n|..|A--  --...|        |.| H lll\n|.....|--|.B..|        |.|\n|.CD..|..|..E.|        |.|\n--..FG|...HI.--        |.|\n |J..K...|L..|   ------|.|\n |.MN.|..|..O| --|.....|.|\n |.P.Q---|.R.| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.T...|   |.+.....|\n     |@.|..|   --|.....|\n     -------     -------\n```\n\nIn the left room align the boulders to form a 2x3 area in which you are able to turn boulders around. These moves are the most crucial to successfully finishing this level:\n\n```\n  ------------------------ K ll\n  |..^^^^^^^^^^^^^^^^^^..| N d\n  |..-------------------.| F u\n----.|    -----        |.| G u\n|..|A--  --...|        |.|\n|.....|--|.B..|        |.|\n|.CD..|..|.IE.|        |.|\n--..FG|H@...O--        |.|\n |J..K...|L..|   ------|.|\n |.MN.|..|.R.| --|.....|.|\n |.P.Q---|T..| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |>.|..|   --|.....|\n     -------     -------\n```\n\nFinish boulder **A** by moving **C** around. Then finish **F** through the 2x3 area and clear **C** and **D**:\n\n```\n  ------------------------ C ud\n  |..^^^^^^^^^^^^^^^^^^..| A uuur*\n  |..-------------------.| F dduu uuuu urr*\n----.|    -----        |.| C u\n|..|A--  --...|        |.| D ruuu uurr r*\n|.....|--|.B..|        |.| C rruu uurr rr* \n|.CDFG|..|.IE.|        |.|\n--....|H....O--        |.|\n |JK@....|L..|   ------|.|\n |.M..|..|.R.| --|.....|.|\n |.PNQ---|T..| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |>.|..|   --|.....|\n     -------     -------\n```\n\nClear the rest of the left room:\n\n```\n  ------------------------ N uuuu uuuu urrr rr*\n  |....@.^^^^^^^^^^^^^^..| P ruuu uuuu uurr rrrr*\n  |..-------------------.| M ruuu uuuu urrr rrrr*\n----.|    -----        |.| K uuur uuuu rrrr rrrr*\n|..|.--  --...|        |.| J uuur ruuu urrr rrrr rr*\n|.....|--|.B..|        |.|\n|....G|..|.IE.|        |.|\n--....|H....O--        |.|\n |JK.....|L..|   ------|.|\n |.M..|..|.R.| --|.....|.|\n |.PNQ---|T..| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |>.|..|   --|.....|\n     -------     -------\n```\n\nNow it is possible to either clear the remaining boulders in the left room, or continue with the middle and right room. Note that to move **T** we must pass to the north opening of the small room with the stairs:\n\n```\n  ------------------------ H dlll uuuu uuur rrrr rrrr r*\n  |.........@.^^^^^^^^^..| R d\n  |..-------------------.| L ulll dlll uuuu uuur rrrr rrrr rr*\n----.|    -----        |.| T uuul lldl lluu uuuu urrr rrrr rrrr r*\n|..|.--  --...|        |.| R luuu llld lllu uuuu uurr rrrr rrrr rrr*\n|.....|--|.B..|        |.| B r\n|....G|..|.IE.|        |.| I dddl uull ldll luuu uuuu rrrr rrrr rrrr rr*\n--....|H....O--        |.| E lldl lldl lluu uuuu urrr rrrr rrrr rrrr*\n |.......|L..|   ------|.| B dlld llld lllu uuuu uurr rrrr rrrr rrrr rr*\n |....|..|.R.| --|.....|.| G ddlu uuuu uurr rrrr rrrr rrrr rrr*\n |...Q---|T..| |.+.....|.| Q uulu uuuu uurr rrrr rrrr rrrr rrrr*\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |>.|..|   --|.....|\n     -------     -------\n```\n\nIn the large room behind the door is a [treasure zoo](/wiki/Treasure_zoo \"Treasure zoo\"). Behind one of the three doors in the zoo is a square with the prize item atop a burnt \"[Elbereth](/wiki/Elbereth \"Elbereth\")\" and a cursed [scroll of scare monster](/wiki/Scroll_of_scare_monster \"Scroll of scare monster\"). Also remember to check under boulder **S** for usable items.\n\n```\n  ------------------------\n  |......................|\n  |..-------------------.|\n----.|    -----        |.|\n|..|.--  --...|        |.|\n|.....|--|....|        |.|\n|.....|..|....|        |.|\n--....|.....O--        |.|\n |.......|...|   ------|.|\n |....|..|...| --|.....|.|\n |....---|...| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+@|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |>.|..|   --|.....|\n     -------     -------\n```\n\n## History\n\nIn [NetHack 3.4.3](/wiki/NetHack_3.4.3 \"NetHack 3.4.3\") and earlier versions, including some [variants](/wiki/Variant \"Variant\") based on these versions, the prize is always an amulet of reflection, with no cursed scroll of scare monster underneath it. As of [NetHack 3.6.0](/wiki/NetHack_3.6.0 \"NetHack 3.6.0\"), the cursed scroll of scare monster is added, and there is a 50% chance for the prize to be either a bag of holding or an amulet of reflection.\n\n## Variants\n\n### UnNetHack\n\nIn [UnNetHack](/wiki/UnNetHack \"UnNetHack\"), this level may be flipped horizontally or vertically like all Sokoban levels. The prize is also changed to a choice from one of the following: a bag of holding, a [cloak](/wiki/Cloak \"Cloak\") (of magic resistance or [displacement](/wiki/Cloak_of_displacement \"Cloak of displacement\")) and an [amulet](/wiki/Amulet \"Amulet\") (of reflection, [life saving](/wiki/Amulet_of_life_saving \"Amulet of life saving\") or [flying](/wiki/Amulet_of_flying \"Amulet of flying\")).\n\n### EvilHack\n\nIn [EvilHack](/wiki/EvilHack \"EvilHack\"), the choice is between a prize tool (a bag of holding or a [magic marker](/wiki/Magic_marker \"Magic marker\")), a prize armor (a [helm of speed](/wiki/Helm_of_speed \"Helm of speed\") or a pair of [gauntlets of protection](/wiki/Gauntlets_of_protection \"Gauntlets of protection\")), or a prize amulet (an amulet of reflection or [magic resistance](/wiki/Amulet_of_magic_resistance \"Amulet of magic resistance\")). As soon as one of the doors is opened, the others will seal: some form of [object detection](/wiki/Object_detection \"Object detection\") is recommended if you are aiming for a specific reward.\n\n### Hack'EM\n\nIn [Hack'EM](/wiki/Hack%27EM \"Hack'EM\"), this level is named **\"Reflectoban\"**. Like EvilHack, the choice is between a prize tool (a bag of holding or a magic marker), a prize armor (a helm of speed or a pair of gauntlets of protection), or a prize amulet (an amulet of reflection or magic resistance). As soon as one of the doors is opened, the others will seal: as in EvilHack, a form of detecting the prizes is recommended if you are aiming for a specific reward.\n\n[![This article has been updated to reflect NetHack 3.6.7. Click here for more information.](/images/f/f7/Nh367-icon.png)](/wiki/NetHackWiki:Next_version \"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Sokoban Level 4b - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Sokoban_Level_4b\",\"wgTitle\":\"Sokoban Level 4b\",\"wgCurRevisionId\":166680,\"wgRevisionId\":166680,\"wgArticleId\":4573,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Upcoming\",\"Nethack-367 articles\",\"Sokoban\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Sokoban_Level_4b\",\"wgRelevantArticleId\":4573,\"wgRequestId\":\"c77a172a342294cbb7f62268\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"The following solution solves the level without putting any boulders in an immobile position. Faster solutions which do not necessarily leave every boulder free might exist.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Sokoban_Level_4b\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sokoban_Level_4b rootpage-Sokoban_Level_4b skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Sokoban Level 4b</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><p><b>Sokoban Level 4b</b> is one of two possible maps for the last level of <a href=\"/wiki/Sokoban\" title=\"Sokoban\">Sokoban</a> in <i><a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a></i>, and is among the various possible maps for that level in variants of <i>NetHack</i>. Behind the holes is a <a href=\"/wiki/Treasure_zoo\" class=\"mw-redirect\" title=\"Treasure zoo\">treasure zoo</a> with three doors - inside one of the doors is the branch prize, which has an equal chance of being a <a href=\"/wiki/Bag_of_holding\" title=\"Bag of holding\">bag of holding</a> or an <a href=\"/wiki/Amulet_of_reflection\" title=\"Amulet of reflection\">amulet of reflection</a>. There are 20 <a href=\"/wiki/Boulder\" title=\"Boulder\">boulders</a> and 18 <a href=\"/wiki/Hole\" title=\"Hole\">holes</a>, leaving two spare boulders.\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nBoth prizes are no longer equally likely for each floor. Instead, floor 4a has a 75% chance for a bag of holding, and this floor has a 75% chance for an amulet of reflection.</div>\n<pre>0 boulder\n^ hole\n@ starting position/downstairs\n  no upstairs\n</pre>\n<pre>  ------------------------\n  |..^^^^^^^^^^^^^^^^^^..|\n  |..-------------------.|\n----.|    -----        |.|\n|..|0--  --...|        |.|\n|.....|--|.0..|        |.|\n|.00..|..|..0.|        |.|\n--..00|...00.--        |.|\n |0..0...|0..|   ------|.|\n |.00.|..|..0| --|.....|.|\n |.0.0---|.0.| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.0..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.0...|   |.+.....|\n     |@.|..|   --|.....|\n     -------     -------\n</pre>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Strategy\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Strategy</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#History\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">History</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#Variants\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Variants</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#UnNetHack\"><span class=\"tocnumber\">3.1</span> <span class=\"toctext\">UnNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#EvilHack\"><span class=\"tocnumber\">3.2</span> <span class=\"toctext\">EvilHack</span></a></li>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#Hack.27EM\"><span class=\"tocnumber\">3.3</span> <span class=\"toctext\">Hack'EM</span></a></li>\n</ul>\n</li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Strategy\">Strategy</span></h2>\n<p>The following solution solves the level without putting any boulders in an immobile position. Faster solutions which do not necessarily leave every boulder free might exist.\n</p><p>All boulders are replaced by letters so they can be referred to. Moving the boulders is shortened to <b>r</b> for right, <b>l</b> for left, <b>u</b> for up, <b>d</b> for down. An asterisk is used to denote the last move filled a hole (and thus removed the boulder from the game). So <b>Nddrr*</b> means move boulder <b>N</b> two times down and two times to the right into a hole.\n</p><p>The general strategy for this level is to enter through the right room into the middle of the left room. There the boulders should be organized precisely so that the left room can be cleared.\n</p><p>You can also <a class=\"external text\" href=\"http://alt.org/nethack/trd/?file=http://alt.org/nethack/userdata/t/tjraux02/ttyrec/2011-06-07.01:46:57.ttyrec.bz2\">watch an instructional TTYREC video</a> or <a class=\"external text\" href=\"https://youtu.be/KmLH4RZS-Fw\">a YouTube video</a>.\n</p><p>At first the <b>T</b> boulder should be pushed into the right room, because the entrance above the <b>T</b> should stay clear:\n</p>\n<pre>  ------------------------ <b>T</b> rrru uuu\n  |..^^^^^^^^^^^^^^^^^^..| <b>R</b> u\n  |..-------------------.| <b>O</b> uu\n----.|    -----        |.| <b>I</b> u\n|..|A--  --...|        |.| <b>H</b> lll\n|.....|--|.B..|        |.|\n|.CD..|..|..E.|        |.|\n--..FG|...HI.--        |.|\n |J..K...|L..|   ------|.|\n |.MN.|..|..O| --|.....|.|\n |.P.Q---|.R.| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.T...|   |.+.....|\n     |@.|..|   --|.....|\n     -------     -------\n</pre>\n<p>In the left room align the boulders to form a 2x3 area in which you are able to turn boulders around. These moves are the most crucial to successfully finishing this level:\n</p>\n<pre>  ------------------------ <b>K</b> ll\n  |..^^^^^^^^^^^^^^^^^^..| <b>N</b> d\n  |..-------------------.| <b>F</b> u\n----.|    -----        |.| <b>G</b> u\n|..|A--  --...|        |.|\n|.....|--|.B..|        |.|\n|.CD..|..|.IE.|        |.|\n--..FG|H@...O--        |.|\n |J..K...|L..|   ------|.|\n |.MN.|..|.R.| --|.....|.|\n |.P.Q---|T..| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |&gt;.|..|   --|.....|\n     -------     -------\n</pre>\n<p>Finish boulder <b>A</b> by moving <b>C</b> around. Then finish <b>F</b> through the 2x3 area and clear <b>C</b> and <b>D</b>:\n</p>\n<pre>  ------------------------ <b>C</b> ud\n  |..^^^^^^^^^^^^^^^^^^..| <b>A</b> uuur*\n  |..-------------------.| <b>F</b> dduu uuuu urr*\n----.|    -----        |.| <b>C</b> u\n|..|A--  --...|        |.| <b>D</b> ruuu uurr r*\n|.....|--|.B..|        |.| <b>C</b> rruu uurr rr* \n|.CDFG|..|.IE.|        |.|\n--....|H....O--        |.|\n |JK@....|L..|   ------|.|\n |.M..|..|.R.| --|.....|.|\n |.PNQ---|T..| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |&gt;.|..|   --|.....|\n     -------     -------\n</pre>\n<p>Clear the rest of the left room:\n</p>\n<pre>  ------------------------ <b>N</b> uuuu uuuu urrr rr*\n  |....@.^^^^^^^^^^^^^^..| <b>P</b> ruuu uuuu uurr rrrr*\n  |..-------------------.| <b>M</b> ruuu uuuu urrr rrrr*\n----.|    -----        |.| <b>K</b> uuur uuuu rrrr rrrr*\n|..|.--  --...|        |.| <b>J</b> uuur ruuu urrr rrrr rr*\n|.....|--|.B..|        |.|\n|....G|..|.IE.|        |.|\n--....|H....O--        |.|\n |JK.....|L..|   ------|.|\n |.M..|..|.R.| --|.....|.|\n |.PNQ---|T..| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |&gt;.|..|   --|.....|\n     -------     -------\n</pre>\n<p>Now it is possible to either clear the remaining boulders in the left room, or continue with the middle and right room. Note that to move <b>T</b> we must pass to the north opening of the small room with the stairs:\n</p>\n<pre>  ------------------------ <b>H</b> dlll uuuu uuur rrrr rrrr r*\n  |.........@.^^^^^^^^^..| <b>R</b> d\n  |..-------------------.| <b>L</b> ulll dlll uuuu uuur rrrr rrrr rr*\n----.|    -----        |.| <b>T</b> uuul lldl lluu uuuu urrr rrrr rrrr r*\n|..|.--  --...|        |.| <b>R</b> luuu llld lllu uuuu uurr rrrr rrrr rrr*\n|.....|--|.B..|        |.| <b>B</b> r\n|....G|..|.IE.|        |.| <b>I</b> dddl uull ldll luuu uuuu rrrr rrrr rrrr rr*\n--....|H....O--        |.| <b>E</b> lldl lldl lluu uuuu urrr rrrr rrrr rrrr*\n |.......|L..|   ------|.| <b>B</b> dlld llld lllu uuuu uurr rrrr rrrr rrrr rr*\n |....|..|.R.| --|.....|.| <b>G</b> ddlu uuuu uurr rrrr rrrr rrrr rrr*\n |...Q---|T..| |.+.....|.| <b>Q</b> uulu uuuu uurr rrrr rrrr rrrr rrrr*\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+.|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |&gt;.|..|   --|.....|\n     -------     -------\n</pre>\n<p>In the large room behind the door is a <a href=\"/wiki/Treasure_zoo\" class=\"mw-redirect\" title=\"Treasure zoo\">treasure zoo</a>. Behind one of the three doors in the zoo is a square with the prize item atop a burnt \"<a href=\"/wiki/Elbereth\" title=\"Elbereth\">Elbereth</a>\" and a cursed <a href=\"/wiki/Scroll_of_scare_monster\" title=\"Scroll of scare monster\">scroll of scare monster</a>. Also remember to check under boulder <b>S</b> for usable items.\n</p>\n<pre>  ------------------------\n  |......................|\n  |..-------------------.|\n----.|    -----        |.|\n|..|.--  --...|        |.|\n|.....|--|....|        |.|\n|.....|..|....|        |.|\n--....|.....O--        |.|\n |.......|...|   ------|.|\n |....|..|...| --|.....|.|\n |....---|...| |.+.....|.|\n |.......|..-- |-|.....|.|\n ----.S..|.--  |.+.....+@|\n    ---.--.|   |-|.....|--\n     |.....|   |.+.....|\n     |&gt;.|..|   --|.....|\n     -------     -------\n</pre>\n<h2><span class=\"mw-headline\" id=\"History\">History</span></h2>\n<p>In <a href=\"/wiki/NetHack_3.4.3\" title=\"NetHack 3.4.3\">NetHack 3.4.3</a> and earlier versions, including some <a href=\"/wiki/Variant\" title=\"Variant\">variants</a> based on these versions, the prize is always an amulet of reflection, with no cursed scroll of scare monster underneath it. As of <a href=\"/wiki/NetHack_3.6.0\" title=\"NetHack 3.6.0\">NetHack 3.6.0</a>, the cursed scroll of scare monster is added, and there is a 50% chance for the prize to be either a bag of holding or an amulet of reflection.\n</p>\n<h2><span class=\"mw-headline\" id=\"Variants\">Variants</span></h2>\n<h3><span class=\"mw-headline\" id=\"UnNetHack\">UnNetHack</span></h3>\n<p>In <a href=\"/wiki/UnNetHack\" title=\"UnNetHack\">UnNetHack</a>, this level may be flipped horizontally or vertically like all Sokoban levels. The prize is also changed to a choice from one of the following: a bag of holding, a <a href=\"/wiki/Cloak\" title=\"Cloak\">cloak</a> (of magic resistance or <a href=\"/wiki/Cloak_of_displacement\" title=\"Cloak of displacement\">displacement</a>) and an <a href=\"/wiki/Amulet\" title=\"Amulet\">amulet</a> (of reflection, <a href=\"/wiki/Amulet_of_life_saving\" title=\"Amulet of life saving\">life saving</a> or <a href=\"/wiki/Amulet_of_flying\" title=\"Amulet of flying\">flying</a>).\n</p>\n<h3><span class=\"mw-headline\" id=\"EvilHack\">EvilHack</span></h3>\n<p>In <a href=\"/wiki/EvilHack\" title=\"EvilHack\">EvilHack</a>, the choice is between a prize tool (a bag of holding or a <a href=\"/wiki/Magic_marker\" title=\"Magic marker\">magic marker</a>), a prize armor (a <a href=\"/wiki/Helm_of_speed\" title=\"Helm of speed\">helm of speed</a> or a pair of <a href=\"/wiki/Gauntlets_of_protection\" title=\"Gauntlets of protection\">gauntlets of protection</a>), or a prize amulet (an amulet of reflection or <a href=\"/wiki/Amulet_of_magic_resistance\" title=\"Amulet of magic resistance\">magic resistance</a>). As soon as one of the doors is opened, the others will seal: some form of <a href=\"/wiki/Object_detection\" class=\"mw-redirect\" title=\"Object detection\">object detection</a> is recommended if you are aiming for a specific reward.\n</p>\n<h3><span id=\"Hack'EM\"></span><span class=\"mw-headline\" id=\"Hack.27EM\">Hack'EM</span></h3>\n<p>In <a href=\"/wiki/Hack%27EM\" title=\"Hack&#39;EM\">Hack'EM</a>, this level is named <b>\"Reflectoban\"</b>. Like EvilHack, the choice is between a prize tool (a bag of holding or a magic marker), a prize armor (a helm of speed or a pair of gauntlets of protection), or a prize amulet (an amulet of reflection or magic resistance). As soon as one of the doors is opened, the others will seal: as in EvilHack, a form of detecting the prizes is recommended if you are aiming for a specific reward.\n</p>\n<div style=\"display:none; right:10px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\"><img alt=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\" src=\"/images/f/f7/Nh367-icon.png\" width=\"32\" height=\"32\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240926190001\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.017 seconds\nReal time usage: 0.070 seconds\nPreprocessor visited node count: 103/1000000\nPreprocessor generated node count: 491/1000000\nPost‐expand include size: 1665/2097152 bytes\nTemplate argument size: 437/2097152 bytes\nHighest expansion depth: 8/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 0/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%   25.841      1 -total\n 76.27%   19.708      1 Template:Nethack-367\n 55.61%   14.370      1 Template:Version_icon\n 48.98%   12.656      1 Template:Top_icon\n 22.71%    5.868      1 Template:Upcoming\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:4573-0!canonical and timestamp 20240926190001 and revision id 166680\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Sokoban_Level_4b&amp;oldid=166680\">https://nethackwiki.com/index.php?title=Sokoban_Level_4b&amp;oldid=166680</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Categories</a>: <ul><li><a href=\"/wiki/Category:Upcoming\" title=\"Category:Upcoming\">Upcoming</a></li><li><a href=\"/wiki/Category:Nethack-367_articles\" title=\"Category:Nethack-367 articles\">Nethack-367 articles</a></li><li><a href=\"/wiki/Category:Sokoban\" title=\"Category:Sokoban\">Sokoban</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Sokoban+Level+4b\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Sokoban+Level+4b\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Sokoban_Level_4b\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Sokoban_Level_4b\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Sokoban_Level_4b\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Sokoban_Level_4b&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Sokoban_Level_4b&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Sokoban_Level_4b\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Sokoban_Level_4b\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Sokoban_Level_4b&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Sokoban_Level_4b&amp;oldid=166680\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Sokoban_Level_4b&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 17 April 2024, at 01:38.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.017\",\"walltime\":\"0.070\",\"ppvisitednodes\":{\"value\":103,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":491,\"limit\":1000000},\"postexpandincludesize\":{\"value\":1665,\"limit\":2097152},\"templateargumentsize\":{\"value\":437,\"limit\":2097152},\"expansiondepth\":{\"value\":8,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":0,\"limit\":5000000},\"timingprofile\":[\"100.00%   25.841      1 -total\",\" 76.27%   19.708      1 Template:Nethack-367\",\" 55.61%   14.370      1 Template:Version_icon\",\" 48.98%   12.656      1 Template:Top_icon\",\" 22.71%    5.868      1 Template:Upcoming\"]},\"cachereport\":{\"timestamp\":\"20240926190001\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":35});});</script>\n\t</body>\n</html>\n","rawPage":"'''Sokoban Level 4b''' is one of two possible maps for the last level of [[Sokoban]] in ''[[NetHack]]'', and is among the various possible maps for that level in variants of ''NetHack''. Behind the holes is a [[treasure zoo]] with three doors - inside one of the doors is the branch prize, which has an equal chance of being a [[bag of holding]] or an [[amulet of reflection]]. There are 20 [[boulder]]s and 18 [[hole]]s, leaving two spare boulders.\n\n{{upcoming|NetHack 3.7.0|Both prizes are no longer equally likely for each floor. Instead, floor 4a has a 75% chance for a bag of holding, and this floor has a 75% chance for an amulet of reflection.}}\n\n 0 boulder\n ^ hole\n @ starting position/downstairs\n   no upstairs\n\n   ------------------------\n   |..^^^^^^^^^^^^^^^^^^..|\n   |..-------------------.|\n ----.|    -----        |.|\n |..|0--  --...|        |.|\n |.....|--|.0..|        |.|\n |.00..|..|..0.|        |.|\n --..00|...00.--        |.|\n  |0..0...|0..|   ------|.|\n  |.00.|..|..0| --|.....|.|\n  |.0.0---|.0.| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.0..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.0...|   |.+.....|\n      |@.|..|   --|.....|\n      -------     -------\n\n== Strategy ==\nThe following solution solves the level without putting any boulders in an immobile position. Faster solutions which do not necessarily leave every boulder free might exist.\n\nAll boulders are replaced by letters so they can be referred to. Moving the boulders is shortened to '''r''' for right, '''l''' for left, '''u''' for up, '''d''' for down. An asterisk is used to denote the last move filled a hole (and thus removed the boulder from the game). So '''Nddrr*''' means move boulder '''N''' two times down and two times to the right into a hole.\n\nThe general strategy for this level is to enter through the right room into the middle of the left room. There the boulders should be organized precisely so that the left room can be cleared.\n\nYou can also [http://alt.org/nethack/trd/?file=http://alt.org/nethack/userdata/t/tjraux02/ttyrec/2011-06-07.01:46:57.ttyrec.bz2 watch an instructional TTYREC video] or [https://youtu.be/KmLH4RZS-Fw a YouTube video].\n\nAt first the '''T''' boulder should be pushed into the right room, because the entrance above the '''T''' should stay clear:\n   ------------------------ '''T''' rrru uuu\n   |..^^^^^^^^^^^^^^^^^^..| '''R''' u\n   |..-------------------.| '''O''' uu\n ----.|    -----        |.| '''I''' u\n |..|A--  --...|        |.| '''H''' lll\n |.....|--|.B..|        |.|\n |.CD..|..|..E.|        |.|\n --..FG|...HI.--        |.|\n  |J..K...|L..|   ------|.|\n  |.MN.|..|..O| --|.....|.|\n  |.P.Q---|.R.| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.S..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.T...|   |.+.....|\n      |@.|..|   --|.....|\n      -------     -------\n\nIn the left room align the boulders to form a 2x3 area in which you are able to turn boulders around. These moves are the most crucial to successfully finishing this level:\n   ------------------------ '''K''' ll\n   |..^^^^^^^^^^^^^^^^^^..| '''N''' d\n   |..-------------------.| '''F''' u\n ----.|    -----        |.| '''G''' u\n |..|A--  --...|        |.|\n |.....|--|.B..|        |.|\n |.CD..|..|.IE.|        |.|\n --..FG|H@...O--        |.|\n  |J..K...|L..|   ------|.|\n  |.MN.|..|.R.| --|.....|.|\n  |.P.Q---|T..| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.S..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.....|   |.+.....|\n      |>.|..|   --|.....|\n      -------     -------\n\nFinish boulder '''A''' by moving '''C''' around. Then finish '''F''' through the 2x3 area and clear '''C''' and '''D''':\n   ------------------------ '''C''' ud\n   |..^^^^^^^^^^^^^^^^^^..| '''A''' uuur*\n   |..-------------------.| '''F''' dduu uuuu urr*\n ----.|    -----        |.| '''C''' u\n |..|A--  --...|        |.| '''D''' ruuu uurr r*\n |.....|--|.B..|        |.| '''C''' rruu uurr rr* \n |.CDFG|..|.IE.|        |.|\n --....|H....O--        |.|\n  |JK@....|L..|   ------|.|\n  |.M..|..|.R.| --|.....|.|\n  |.PNQ---|T..| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.S..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.....|   |.+.....|\n      |>.|..|   --|.....|\n      -------     -------\n\nClear the rest of the left room:\n   ------------------------ '''N''' uuuu uuuu urrr rr*\n   |....@.^^^^^^^^^^^^^^..| '''P''' ruuu uuuu uurr rrrr*\n   |..-------------------.| '''M''' ruuu uuuu urrr rrrr*\n ----.|    -----        |.| '''K''' uuur uuuu rrrr rrrr*\n |..|.--  --...|        |.| '''J''' uuur ruuu urrr rrrr rr*\n |.....|--|.B..|        |.|\n |....G|..|.IE.|        |.|\n --....|H....O--        |.|\n  |JK.....|L..|   ------|.|\n  |.M..|..|.R.| --|.....|.|\n  |.PNQ---|T..| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.S..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.....|   |.+.....|\n      |>.|..|   --|.....|\n      -------     -------\n\nNow it is possible to either clear the remaining boulders in the left room, or continue with the middle and right room. Note that to move '''T''' we must pass to the north opening of the small room with the stairs:\n   ------------------------ '''H''' dlll uuuu uuur rrrr rrrr r*\n   |.........@.^^^^^^^^^..| '''R''' d\n   |..-------------------.| '''L''' ulll dlll uuuu uuur rrrr rrrr rr*\n ----.|    -----        |.| '''T''' uuul lldl lluu uuuu urrr rrrr rrrr r*\n |..|.--  --...|        |.| '''R''' luuu llld lllu uuuu uurr rrrr rrrr rrr*\n |.....|--|.B..|        |.| '''B''' r\n |....G|..|.IE.|        |.| '''I''' dddl uull ldll luuu uuuu rrrr rrrr rrrr rr*\n --....|H....O--        |.| '''E''' lldl lldl lluu uuuu urrr rrrr rrrr rrrr*\n  |.......|L..|   ------|.| '''B''' dlld llld lllu uuuu uurr rrrr rrrr rrrr rr*\n  |....|..|.R.| --|.....|.| '''G''' ddlu uuuu uurr rrrr rrrr rrrr rrr*\n  |...Q---|T..| |.+.....|.| '''Q''' uulu uuuu uurr rrrr rrrr rrrr rrrr*\n  |.......|..-- |-|.....|.|\n  ----.S..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.....|   |.+.....|\n      |>.|..|   --|.....|\n      -------     -------\n\nIn the large room behind the door is a [[treasure zoo]]. Behind one of the three doors in the zoo is a square with the prize item atop a burnt \"[[Elbereth]]\" and a cursed [[scroll of scare monster]]. Also remember to check under boulder '''S''' for usable items.\n\n   ------------------------\n   |......................|\n   |..-------------------.|\n ----.|    -----        |.|\n |..|.--  --...|        |.|\n |.....|--|....|        |.|\n |.....|..|....|        |.|\n --....|.....O--        |.|\n  |.......|...|   ------|.|\n  |....|..|...| --|.....|.|\n  |....---|...| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.S..|.--  |.+.....+@|\n     ---.--.|   |-|.....|--\n      |.....|   |.+.....|\n      |>.|..|   --|.....|\n      -------     -------\n\n==History==\nIn [[NetHack 3.4.3]] and earlier versions, including some [[variant]]s based on these versions, the prize is always an amulet of reflection, with no cursed scroll of scare monster underneath it. As of [[NetHack 3.6.0]], the cursed scroll of scare monster is added, and there is a 50% chance for the prize to be either a bag of holding or an amulet of reflection.\n\n==Variants==\n===UnNetHack===\nIn [[UnNetHack]], this level may be flipped horizontally or vertically like all Sokoban levels. The prize is also changed to a choice from one of the following: a bag of holding, a [[cloak]] (of magic resistance or [[cloak of displacement|displacement]]) and an [[amulet]] (of reflection, [[amulet of life saving|life saving]] or [[amulet of flying|flying]]).\n\n===EvilHack===\nIn [[EvilHack]], the choice is between a prize tool (a bag of holding or a [[magic marker]]), a prize armor (a [[helm of speed]] or a pair of [[gauntlets of protection]]), or a prize amulet (an amulet of reflection or [[amulet of magic resistance|magic resistance]]). As soon as one of the doors is opened, the others will seal: some form of [[object detection]] is recommended if you are aiming for a specific reward.\n\n===Hack'EM===\nIn [[Hack'EM]], this level is named '''\"Reflectoban\"'''. Like EvilHack, the choice is between a prize tool (a bag of holding or a magic marker), a prize armor (a helm of speed or a pair of gauntlets of protection), or a prize amulet (an amulet of reflection or magic resistance). As soon as one of the doors is opened, the others will seal: as in EvilHack, a form of detecting the prizes is recommended if you are aiming for a specific reward.\n{{nethack-367}}\n[[Category:Sokoban|4b]]"}