{"title":"DynaHack","url":"https://nethackwiki.com/wiki/DynaHack","type":"markdown","data":"[![](/images/thumb/5/50/Dynahack-more-menu-full.png/300px-Dynahack-more-menu-full.png)](/wiki/File:Dynahack-more-menu-full.png)\n\n\n\nScreenshot of DynaHack\n\n**DynaHack** is a variant of [NitroHack](/wiki/NitroHack \"NitroHack\") maintained by [tungtn](/wiki/User:Tungtn \"User:Tungtn\"). It features more content (from UnNetHack) and significant changes to its interface and gameplay compared to [NetHack](/wiki/NetHack \"NetHack\").\n\nIt can be downloaded ready-to-play on Windows, and can also be compiled to run on OS X and Linux.\n\nIt started life as [UnNetHack](/wiki/UnNetHack \"UnNetHack\")'s content and gameplay transplanted onto NitroHack with its resizing ASCII interface, but has also come to roll in parts of [NetHack 4](/wiki/NetHack_4 \"NetHack 4\"), [GruntHack](/wiki/GruntHack \"GruntHack\"), [UnNetHackPlus](/wiki/UnNetHackPlus \"UnNetHackPlus\") and a few original changes.\n\nDynaHack is available to play on [hardfought.org](https://www.hardfought.org/) (HDF).\n\n[ ]\n\n## Contents\n\n- [1 Major differences to NetHack](#Major_differences_to_NetHack)\n\n- [2 Changelog](#Changelog)\n\n  - [2.1 DynaHack 0.6.0 (2016-02-17, 25aaf2a)](#DynaHack_0.6.0_.282016-02-17.2C_25aaf2a.29)\n\n    - [2.1.1 Highlights](#Highlights)\n    - [2.1.2 Character](#Character)\n    - [2.1.3 Dungeon](#Dungeon)\n    - [2.1.4 Wishing](#Wishing)\n    - [2.1.5 Items](#Items)\n    - [2.1.6 Monsters](#Monsters)\n    - [2.1.7 Interface](#Interface)\n    - [2.1.8 Configuration](#Configuration)\n    - [2.1.9 Miscellaneous](#Miscellaneous)\n    - [2.1.10 Technical](#Technical)\n\n  - [2.2 DynaHack 0.5.5 (2014-01-16, 78d772a)](#DynaHack_0.5.5_.282014-01-16.2C_78d772a.29)\n    - [2.2.1 Technical](#Technical_2)\n\n  - [2.3 DynaHack 0.5.4 (2014-01-06, 34706ac)](#DynaHack_0.5.4_.282014-01-06.2C_34706ac.29)\n    - [2.3.1 Technical](#Technical_3)\n\n  - [2.4 DynaHack 0.5.3 (2013-12-24, 32216b3)](#DynaHack_0.5.3_.282013-12-24.2C_32216b3.29)\n\n    - [2.4.1 Character](#Character_2)\n    - [2.4.2 Dungeon](#Dungeon_2)\n    - [2.4.3 Items](#Items_2)\n    - [2.4.4 Configuration](#Configuration_2)\n    - [2.4.5 Miscellaneous](#Miscellaneous_2)\n    - [2.4.6 Technical](#Technical_4)\n\n  - [2.5 DynaHack 0.5.2 (2013-10-07, 5f067e7)](#DynaHack_0.5.2_.282013-10-07.2C_5f067e7.29)\n    - [2.5.1 Saves](#Saves)\n\n  - [2.6 DynaHack 0.5.1 (2013-09-28, a1289c3)](#DynaHack_0.5.1_.282013-09-28.2C_a1289c3.29)\n\n    - [2.6.1 Configuration](#Configuration_3)\n    - [2.6.2 Technical](#Technical_5)\n\n  - [2.7 DynaHack 0.5.0 (2013-09-18, 65751e0)](#DynaHack_0.5.0_.282013-09-18.2C_65751e0.29)\n\n    - [2.7.1 Highlights](#Highlights_2)\n    - [2.7.2 Character](#Character_3)\n    - [2.7.3 Dungeon](#Dungeon_3)\n    - [2.7.4 Wishing](#Wishing_2)\n    - [2.7.5 Artifacts](#Artifacts)\n    - [2.7.6 Items](#Items_3)\n    - [2.7.7 Monsters](#Monsters_2)\n    - [2.7.8 Interface](#Interface_2)\n    - [2.7.9 Configuration](#Configuration_4)\n    - [2.7.10 Saves](#Saves_2)\n    - [2.7.11 Miscellaneous](#Miscellaneous_3)\n    - [2.7.12 Technical](#Technical_6)\n\n  - [2.8 NitroHack 4.0.4 (2012-02-19, 21b9774)](#NitroHack_4.0.4_.282012-02-19.2C_21b9774.29)\n\n    - [2.8.1 Interface](#Interface_3)\n    - [2.8.2 Miscellaneous](#Miscellaneous_4)\n\n  - [2.9 NitroHack 4.0.3 (2012-02-13, 3b9a876)](#NitroHack_4.0.3_.282012-02-13.2C_3b9a876.29)\n\n    - [2.9.1 Interface](#Interface_4)\n    - [2.9.2 Configuration](#Configuration_5)\n    - [2.9.3 Miscellaneous](#Miscellaneous_5)\n    - [2.9.4 Technical](#Technical_7)\n\n  - [2.10 NitroHack 4.0.2 (2012-02-05, 22c6cf3)](#NitroHack_4.0.2_.282012-02-05.2C_22c6cf3.29)\n\n    - [2.10.1 Dungeon](#Dungeon_4)\n    - [2.10.2 Items](#Items_4)\n    - [2.10.3 Interface](#Interface_5)\n    - [2.10.4 Configuration](#Configuration_6)\n    - [2.10.5 Saves](#Saves_3)\n    - [2.10.6 Network](#Network)\n    - [2.10.7 Miscellaneous](#Miscellaneous_6)\n    - [2.10.8 Technical](#Technical_8)\n\n  - [2.11 NitroHack 4.0.1 (2012-01-23, 855e8e6)](#NitroHack_4.0.1_.282012-01-23.2C_855e8e6.29)\n\n    - [2.11.1 Interface](#Interface_6)\n    - [2.11.2 Network](#Network_2)\n    - [2.11.3 Miscellaneous](#Miscellaneous_7)\n\n  - [2.12 NitroHack 4.0.0 (2012-01-15, f980165)](#NitroHack_4.0.0_.282012-01-15.2C_f980165.29)\n\n    - [2.12.1 Interface](#Interface_7)\n    - [2.12.2 Options](#Options)\n    - [2.12.3 Items](#Items_5)\n    - [2.12.4 Monsters](#Monsters_3)\n    - [2.12.5 Autopickup](#Autopickup)\n    - [2.12.6 Dungeon overview](#Dungeon_overview)\n    - [2.12.7 Character history tracking](#Character_history_tracking)\n    - [2.12.8 Dumplog](#Dumplog)\n    - [2.12.9 Interactive replays](#Interactive_replays)\n    - [2.12.10 Miscellaneous](#Miscellaneous_8)\n    - [2.12.11 Technical](#Technical_9)\n\n- [3 External links](#External_links)\n\n## Major differences to NetHack\n\n- Over 80 new special level layouts.\n- Revamped Gehennom with less mazes and more caverns and special levels.\n- Auto-resizing ASCII interface with multi-line message box, inventory side-bar, colored statuses and HP/Pw bars.\n- Item action command menus, selectable from inventory.\n- Detailed monster info with AC, resistances, attacks, etc. (press '/' and target with ';').\n- Automatically-tracked dungeon overview (Ctrl-O) and resistances (Ctrl-X).\n- Auto-unlock for doors and boxes, and auto-loot for boxes after auto-unlocking them.\n- Enhanced travel that walks around peaceful monsters and works in Sokoban.\n- Protection from walking into known traps/water/lava (optional).\n- Random magical equipment, e.g. short sword of fire.\n- Cross-training for related weapon skills.\n- Hitting with a weapon may reveal its enchantment.\n- Better ammo stacking and turn-free weapon swapping for ranged combat.\n- Polearms are no longer restricted in melee combat.\n- Responses to infinite pudding farming and throne farming.\n- Plus a whole lot more...\n\n## Changelog\n\n### DynaHack 0.6.0 (2016-02-17, 25aaf2a)\n\nDynaHack 0.6.0 marks a large departure from the 0.5.x series by introducing quite a few gameplay and content changes aimed at eliminating tedium, improving fairness, and increasing tactical and strategic variety.\n\nAs always, changes in DynaHack tend to lean in favor of the player more often than not, so players of all skill levels will find something to appreciate.\n\n#### Highlights\n\n- New body armor and shield skills: grants bonus AC and MC; heavier suits of armor and shields get bigger bonuses and train the skills faster.\n- Magic chests! Any item put into a magic chest can be looted out of any other magic chest in the dungeon, placed at set locations. This eliminates tedious stash consolidation and transporting of items to and from stashes and fixed dungeon resources like altars, shops and water.\n- Mazes completely removed from Gehennom!\n- New resistance system: resistances gained from corpses and crowning only provide partial protection.\n- Reflection no longer reflects breaths (except disintegration).\n- Instant petrification completely replaced with delayed petrification: you will always have a few turns to save yourself from instant death.\n- Drawbridge instant death removed: drawbridges can only be destroyed by force bolts when closed, not open.\n- Extra turn before drowning attack instant death. Players upgrading from an older version of DynaHack should adjust their \\`msgtype\\` as described in the Configuration section of this changelog.\n- Zombie corpses may revive (lower chance if playing a priest).\n- Sokoban prizes moved to Mines End, making Sokoban much more optional.\n- Nymph level moved into Town branch; Town shops are larger to compensate.\n- Effect of skills on to-hit and damage raised in general.\n- Items that are spawned with a magical property have a much higher chance of being spawned with additional properties.\n- Slings now get damage bonuses from strength and enchantment.\n- Spells can be aborted at direction, position and item prompts without using power or hunger.\n- New \\`repeat\\_prefix\\` keymap and \\`repeat\\_num\\_auto\\` option for people accustomed to NetHack's classic number key movement scheme.\n- New \\`msg\\_per\\_line\\` option: Shows each message on a new line in the message area when enabled.\n- Potion color alchemy improved in favor of players, making it more of an alternative to NetHack's alchemy instead of a nerf.\n- Curses on armor, jewelry and eyewear are now revealed when they are worn instead of when trying to take them off.\n- More messages for things that used to happen silently: uncontrolled teleportation, finding secret doors/corridors while searching, items becoming randomly cursed.\n- Iron bars can be destroyed by acid or eaten by certain monsters.\n\n#### Character\n\n- Resistances gained from corpses and crowning only provide partial protection, and resistances from your race/role or from worn equipment are immunities (based on L's partial resistance patch). Exact partial resistance effects:\n\n  - fire, cold, shock: half damage\n  - sleep: half duration, doubled chance of awakening in case of combat\n  - disintegration: 90% chance of resisting\n  - poison: half damage, having any protects against other effects\n  - As a side effect of this patch, negative AC and half physical damage resistance no longer reduce damage from fire, cold, shock or acid attacks.\n\n- Reflection no longer reflects breaths; disintegration breath is treated as a beam to prevent unfair deaths due to this change. The breath graphic has been changed accordingly.\n\n- Changes to skills:\n\n  - New body armor skill:\n\n    - Body armor skill grants bonus AC and MC for suits of body armor based on their weight and capped by your skill, as well as weight reduction for worn body armor.\n\n    - Grants (weight / 50 - 2) bonus AC for body armor capped at +2 at basic, +4 at skilled and +7 at expert.\n\n    - Grants (weight / 100 - 1) minimum MC for body armor capped at MC1 at basic, MC2 at skilled and MC3 at expert.\n\n    - Reduces weight of worn body armor heavier than leather armor (150wt) according to the difference: 25% at basic, 50% at skilled and 75% at expert, e.g. plate mail (450wt) only weighs 225wt at expert skill. This reduced weight does not affect the AC or MC bonuses above.\n\n    - Trains to expert in between 16k and 24k turns; wearing heavier suits of body armor speeds up training.\n\n    - Maximum skill levels:\n\n      - Expert: Knight, Samurai\n      - Skilled: Barbarian, Convict, Priest, Ranger, Valkyrie\n      - Basic: Archeologist, Caveman, Rogue, Tourist\n      - Restricted: Healer, Monk, Wizard\n      - Unlike weapon skills, body armor skill always starts at unskilled.\n\n  - New shield skill:\n\n    - Shield skill grants bonus AC and MC for shields based on their weight and base AC, and is capped by your skill.\n\n    - Grants (weight / 20 + base AC) bonus AC for shields capped at +2 at basic, +4 at skilled and +7 at expert.\n\n    - Grants (base AC + \\[1 if weight > 50]) minimum MC for shields capped at MC1 at basic, MC2 at skilled and MC3 at expert.\n\n    - Trains to expert in between 11.2k and 16.8k turns; wearing heavier shields speeds up training.\n\n    - Maximum skill levels:\n\n      - Expert: Knight, Priest, Valkyrie\n      - Skilled: Archeologist, Barbarian, Ranger, Rogue, Samurai\n      - Basic: Caveman, Convict, Tourist\n      - Restricted: Healer, Monk, Wizard\n      - Unlike weapon skills, shield skill always starts at unskilled.\n\n  - Martial arts and bare-handed combat now get to-hit bonuses from skills just as weapons do (from SporkHack).\n\n  - Allow 1-damage hits to still train relevant skills; in NetHack, hitting with a weapon at unskilled gives -2 to damage, so weapons that couldn't roll at least a 4 on damage wouldn't be trained at all!\n\n  - Accelerate heavyshot skill training: hitting with a heavyshot weapon trains the relevant skill by 1dX points similar to its damage multiplier.\n\n  - Training of spellcasting skills restored to NetHack values: 20/80/180 for basic/skilled/expert (was 100/200/400).\n\n  - Effect of skills on to-hit and damage raised in general (from dNetHack):\n\n    - Expert weapon skill gives +5/+3 to-hit/damage (was +3/+2).\n    - Expert two-weapon skill gives -2/+2 to-hit/damage (was -3/+1).\n    - Skilled riding gives +2 to damage (was +1).\n    - Expert riding gives +2/+5 to-hit/damage (was +0/+2).\n    - Restricted weapon skill gives -5 to damage (was -2).\n\n  - Feeling more confident in your skills now interrupts multi-turn actions.\n\n  - Unskilled no longer causes thrown/fired projectiles to slip due to low skill level; this is now limited to restricted skill.\n\n  - Allow monks to reach expert skill in shuriken.\n\n- Increased sling damage: slings now get the strength damage bonus (otherwise reserved for melee) and sling enchantment affects damage of fired projectiles (normally launcher enchantment only affects to-hit); their damage now even competes with thrown daggers!\n\n- Change effect of luck on to-hit to +(Luck / 3) across the board (previously it was +Luck to everything except melee; from SporkHack).\n\n- Spells can be aborted at direction, position and item prompts without using power or hunger.\n\n- Teleport control allows teleportation to be cancelled without using a turn and in the case of deliberate teleports consuming hunger.\n\n- Punishment (i.e. being attached to a ball and chain) no longer stops you from displacing pets.\n\n- Movement at low HP (less than 10, or 5 if polymorphed) is stopped at strained (the same encumbrance that causes HP loss on movement) instead of stressed, which simplifies the relationship between encumbrance, HP loss and stopped movement a bit:\n\n  - Before:\n\n    - Stressed\n      - cannot move with less than 10 HP (5 if polymorphed)\n\n    - Strained\n\n      - lose 1 HP every 30 turns if moving\n      - lose 1 HP every 3 turns if attacking\n\n  - After:\n\n    - Strained\n\n      - cannot move with less than 10 HP (5 if polymorphed)\n      - lose 1 HP every 30 turns if moving\n      - lose 1 HP every 3 turns if attacking\n\n- Rogues start with a +1 short sword (was +0).\n\n- Samurai start with a +3 wakizashi (was +0), which slightly out-damages their starting +0 katana.\n\n- Player vampires no longer try to drink blood when biting or abuse dexterity while satiated (from UnNetHack).\n\n- Player vampires may bite petrifying, sliming or disintegrating monsters if stunned, confused or hallucinating (from UnNetHackPlus).\n  - Players polymorphed into mind flayers will stop themselves from biting petrifying, sliming and disintegrating monsters, as long as they are not stunned, confused or hallucinating (from UnNetHackPlus).\n\n- Prevent player vampires from trying and consequently failing to bite shades.\n\n- Show message when trying and failing to engulf a huge monster while polymorphed as an engulfing monster (from UnNetHackPlus via UnNetHack).\n\n- Fix C343-238: \"(Unix and VMS only) The 'Who are you?' prompt does not accept digits in the response.\" The official bug description is inaccurate: it's names that START with a digit that aren't accepted by vault guards, and it applies to all platforms.\n\n- Fix ring of sustain ability blocking -1 strength change when becoming weak from hunger, allowing it to be exploited to gain strength on demand.\n\n- Fix off-hand weapon properties remaining after ending two-weapon combat.\n\n#### Dungeon\n\n- New dungeon feature: magic chests!\n\n  - Any item placed in a magic chest can be looted out of any other magic chest in the dungeon, removing the need to consolidate stashes.\n\n  - Magic chests are placed in set locations near useful resources such as altars, shops and water, reducing the distance that items need to be hauled to such resources. The set locations are:\n\n    - Minetown\n    - Sokoban entry level\n    - Fort Ludios\n    - Quest home level\n    - Castle\n    - Valley of the Dead\n    - Orcus-town\n    - Fake Wizard's Tower\n\n  - Magic chests are fixed to the ground and therefore cannot be tipped.\n\n  - Attempting to put a corpse set to revive into a magic chest will revive it immediately, to prevent exploiting them to get rid of such corpses.\n\n- New trap type: shuriken traps, which only appear in quest levels of certain roles. Replaces dart traps in monk and samurai quests, and also sometimes for ranger and rogue quests.\n\n- Changes to quest levels:\n\n  - Add guaranteed tinning kit to the Valkyrie quest home level to give players an alternative to eating giant corpses whole for strength and waiting out the satiation outside of the quest portal.\n  - Remove squeeze gap in Caveman quest home level.\n  - Redesign Ranger quest home level with a more organic layout and wider corridors (from dNetHack, originally by Khor).\n    - Redesign Ranger quest goal level with water, trees and an altar (dNetHack).\n\n- Changes to standard rooms-and-corridors level generation:\n\n  - Grid room level style (from K-Mod).\n  - Raise chance of special rooms-and-corridors level style from 10% to 20%.\n\n- Changes to Medusa's Island:\n\n  - Give the shortsighted flag to new Medusa's Island levels from UnNetHack, to reduce swarming from ravens/snakes turning those levels into glorified Big Rooms with more water.\n  - The shield of reflection in the statue of Perseus now has the same chance of being blessed or cursed as any other item, instead of being cursed or uncursed with the probability based on the map encountered.\n\n- Changes to Gehennom:\n\n  - Mazes completely removed from Gehennom! Both fill levels and filler around special levels consist of lava caverns.\n  - Add demon lairs for Geryon, Dispater, and Yeenoghu (from GruntHack).\n\n- Changes to the Town branch:\n\n  - Nymph level is now guaranteed and appears between the Town surface and filler levels.\n\n    - Nymph level no longer contains traps (squeaky board or otherwise).\n    - 90% of spawns on the Nymph level are nymphs and leprechauns.\n\n  - Town surface level has larger shops.\n\n- Changes to Vlad's Tower:\n  - New entrance level to Vlad's Tower with trees, water, vampires, zombies, ravens and a drawbridge entrance leading to the traditional tower levels (from dNetHack).\n\n- Changes to the End Game:\n  - Moving on the Plane of Air is generally much easier, as it now only stops movement when failing a d20 roll against your dexterity (was previously 75% of the time for all characters).\n\n- Sokoban prizes moved to Mines End; the end of Sokoban now has a guaranteed sack containing 8 rings and wands (the ring and wand on each level has been removed as a result). This makes Sokoban much more optional in DynaHack than it is in NetHack.\n\n- Remove lava from one of the versions of the Castle level.\n\n- Levels between Medusa's Island and the Castle are now water caverns instead of lava caverns, and have less evil monsters.\n\n- Allow magic mapping of the Valley of the Dead and the last Dragon Caves level.\n\n- Iron bars can be dissolved by acid (from UnNetHack).\n\n- Destroying iron bars in Sokoban counts against its shortcut conduct.\n\n- Drawbridge instant death removed: drawbridges can only be destroyed by force bolts when closed, not open.\n\n- Prevent magic traps from being created above dungeon level 5.\n\n- Reduce initial scuffing of randomly-placed engravings to increase the chance that they can be read when they're first encountered.\n\n- Fix the cosmetic issue of horizontally-flipped levels appearing slightly misaligned in the map area.\n\n- Fix waking monsters level-wide when entering courts, swamps, morgues, zoos and nymph gardens for the first time without stealth; only monsters in the room being entered have a chance of being woken.\n\n- Fix tracking of upward branches with \\`#history\\`, and make a note when entering any new level and not just deeper ones (from NetHack4).\n\n#### Wishing\n\n- Wands of wishing are generated with at least one charge (1-3 instead of 0-2, from UnNetHack 5).\n\n- Players can wish for up to (and including) 100 projectiles (from UnNetHackPlus via UnNetHack).\n\n- New alternate spellings recognized by the wish parser:\n\n  - \"wolfsbane\" (sprig of wolfsbane)\n  - \"scroll of teleport\" (scroll of teleportation)\n\n#### Items\n\n- New item: silver short sword (SLASH'EM), d6 damage (d8 vs. large), weight 36.\n\n- Potion color alchemy improved in favor of players, making it more of an alternative to NetHack's alchemy instead of a nerf:\n\n  - All color-based random potion descriptions are now guaranteed to map to an in-game potion. Previously, with 25 random potions and 37 descriptions for them, some colors would fall into the gap, making it impossible to use them in alchemy and cutting out useful mixtures.\n  - Potions of full healing, gain level and gain ability are guaranteed to map to secondary colors (i.e. puce, magenta, orange, amber, emerald, dark green) or the browns (i.e. ochre, brown), so they will always be the outcome of some alchemy combinations.\n\n- More formal identification for items under certain circumstances:\n\n  - Formal ID tin whistles and magic whistles when used.\n  - Formal ID magic flutes and magic harps when used.\n  - Formal ID enchant armor scrolls when they turn dragon scales into dragon scale mail.\n  - Formal ID rings of stealth and elven cloaks when wearing or taking them off gives or takes away stealth, to make them consistent with elven boots.\n\n- Changes to the Amulet of Yendor:\n\n  - Amulet of Yendor need only be carried to give hints about nearby magic portals, instead of having to wield or wear it (from SporkHack).\n  - Amulet of Yendor has a much higher chance of giving hints about nearby magic portals, and may map/detect them if carried in inventory.\n  - Amulet of Yendor no longer teleports when dropped.\n\n- Guarantee a wand of cancellation in the Castle chest that can be used for blanking scrolls and potions.\n\n- The shield of reflection now weighs 50 (was 75) due to the introduction of the new shield skill.\n\n- Wielding or unwielding a weapon of stealth identifies the stealth property on that weapon and gives identifying messages similar to wearing other items that grant stealth.\n\n- Hitting a monster with a weapon of stealth identifies the stealth property on that weapon.\n\n- Improve stacking of random candles by removing random chance of them being blessed or cursed (from AceHack). Between wax and tallow candles, and blessed, uncursed and cursed status, an inventory could be filled with 6 different candle stacks, even with DynaHack's improved item stacking!\n\n- Grant +1 to-hit for all short swords (from K-Mod).\n\n- Allow knife and stiletto as possible tin-opening tools (from K-Mod).\n\n- Items that are spawned with a magical property have a much higher chance of being spawned with additional properties.\n\n- The \"magical\" prefix on items is only omitted once all properties on it have been identified instead of once any of them have been, making it easier to discover items that have more than one property.\n\n- Show which hand a ring of levitation was on when a sink forcefully removes it.\n\n- Rings with enchantment +3 or lower no longer have a chance of exploding when charged, and rings at -5 or lower will only explode from cursed charging (from SporkHack).\n  - Remove ring destruction from shock damage.\n\n- Quest artifacts that are spawned at the final level of the Quest will be generated fixed/erodeproofed.\n\n- Having free action reduces paralysis from using a crystal ball from 1-10 turns down to 1-2.\n\n- Land mines and beartraps weigh less (200/100 respectively, previously 300/200; from UnNetHackPlus via UnNetHack).\n\n- Changes to shuriken:\n\n  - Shuriken no longer break when thrown at monsters.\n  - Shuriken now weigh 3 (previously 1) and cost 10 zorkmids (previously 5).\n\n- Crossbow bolts only break half as often as other projectiles when fired at and hitting monsters.\n\n- Fire, cold and shock immunity prevent item destruction.\n  - Wearing a cloak of protection prevents 80% of all item destruction.\n\n- Fix prefixes like \"magical\" and \"prize\" not appearing on rings, wands, spellbooks and iron balls under certain circumstances.\n\n- Fix C343-146: \"Unseen wand of striking becomes known if zapped by unseen monster and it hits a door.\"\n\n- Fix wielding of a cockatrice corpse bare-handed while wearing chromatic dragon scales or scale mail not triggering petrification.\n\n- Fix leaking of descriptions of prizes selected from level memory with far-look after the prize itself has vanished.\n\n- Fix contents of containers created on special levels not being included in the initial container weight.\n\n- Fix completely eroded armor being destroyed by further erosion when greased or erodeproofed.\n\n- Fix crash when item is unequipped or lost while being equipped (from NetHack4).\n  - Fix ring worn message being shown after it is forcefully removed by a sink when wearing a ring of levitation over a sink.\n\n#### Monsters\n\n- Instant petrification completely replaced with delayed petrification: you will always have a few turns to save yourself from instant death.\n- Drowning attacks give two turns for players to react before instant death (was one turn); a monster \"pulls you towards the water\" before it drowns you.\n- Zombie corpses may revive (lower chance if playing a priest).\n- All eels in water can now be seen from afar, like other monsters.\n- Metallivores and disintegrators can eat through iron bars (from UnNetHack).\n- Allow Demogorgon to be bribed.\n- Tone back demon bribery amounts inherited from UnNetHack: demons now only ask for 1000 to 2000 gold.\n  - Giving within 80% of the money demanded for a demon bribe succeeds between 25% to 75% of the time depending on how close your offer is to the demanded amount.\n- Tone back 1-to-1 initial monster population difficulty inherited from NetHack4: it is now only like that for the first 10 levels, then 1-to-2 for the remainder. This gives a progression similar to that of NetHack.\n- Tone back on the effect of a monster's level on its raw spell damage; otherwise Asmodeus cold spell-casting attack could do over twice the damage of Master Kaen without cold resistance, which is too much even for overprepared characters.\n- Gnomes that spawn with candles will only get a single candle instead of a whole stack of candles.\n- Pets never displace the player from the stairs when entering a level.\n- Ninja have a 50% chance of being spawned with some shuriken.\n- Remove distintegrators.\n- Nymphs always generate asleep (was 80%).\n- Fix monsters getting your racial armor bonuses instead of theirs.\n\n#### Interface\n\n- More messages for things that used to happen silently:\n\n  - Show message when teleported without teleport control.\n  - Show message when searching finds secret doors or corridors.\n  - Show messages for and reveal BUC of items that are randomly cursed by e.g. the Wizard of Yendor or sitting on a throne with bad luck.\n  - Show a message of the identity of whistles and instruments when they are discovered on use.\n  - Show message when pets or other monsters grow up (from SLASH'EM Extended).\n  - Attacking with a weapon of stealth, as well as with a knife while stealthy, gives a message that you \"silently hit\" or \"silently kill\" monsters, hinting at options for fighting without awakening nearby monsters. These messages are new, but the mechanic itself is not.\n\n- Make wearing and taking off messages more descriptive, e.g. \"You finish taking off a +0 leather armor\" instead of \"You finish taking off your suit.\"\n\n- Curses on armor, jewelry and eyewear are now revealed when they are worn instead of when trying to take them off.\n\n- Skill training progress is now visible in the \\`#enhance\\` menu, e.g. \"long sword \\[basic] 20%\" means the long sword skill is 20% of the way to advancing to skilled.\n\n  - Mark skills that have reached their maximum as \"MAX\", and show it as soon as the level is reached.\n  - Suppress \"0%\" in \\`#enhance\\` menu for untrained skills.\n  - Show skill caps in \\`#enhance\\` menu, e.g. \"long sword \\[basic / expert]\".\n  - Show skill slot cost to enhance skills when choosing a skill from the \\`#enhance\\` menu, e.g. \"Enhance knife to Basic for 1 slot (2 slots left)? \\[yn] (n)\"\n\n- Show your character's race, role, gender and alignment when asked to enter a name for that character (based on the same change in NetHack4).\n\n- Highlight lit light sources in item listings, e.g. inventory sidebar.\n\n- Adjust \\`safe\\_water\\` and \\`safe\\_lava\\` behavior: they only warn of walking into such hazards in your INPUTTED direction, but won't stop you if stunning or confusion causes you to stumble sideways into them.\n\n- Show the tombstone on death even if skipping disclosure information.\n  - Extend the tombstone by a line for longer death causes, e.g. \"petrified by kicking a chickatrice corpse\".\n\n- Allow aborting of position prompts for jumping, polearm pounding, grappling hooks, scrolls of stinking cloud (still consumes the scroll), paying with multiple shopkeepers in sight and spells of fireball and cone of cold.\n\n- Dungeon \\`#overview\\` can toggle showing levels with no notable features.\n  - Dungeon \\`#overview\\` no longer exits after viewing a single level.\n\n- Make extended command prompt case insensitive, like NetHack's (from NetHack4).\n\n- Change default corridor character back to \\`#\\` in Unicode graphics mode.\n\n- Show warning level 0 for very weak monsters when the player has a source of warning (previously these monsters were not shown at all).\n\n- Pressing escape at \"--More--\" now shows the last messages in the message area instead of simply cutting them off.\n\n- Improve numpad key recognition for default PuTTY configuration where application keypad mode is enabled by default.\n\n- Fix the color of the Wizard's Tower walls when viewed from another level using the \\`Ctrl-O\\` dungeon overview.\n\n- Fix \"T - take off\" not appearing in the item action menu of meat rings.\n\n- Fix coordinates reported when getting a position from the player.\n\n- Fix Rogue level graphics leaking onto other levels when Unicode graphics option is set but Unicode support is not detected.\n\n- Fix ugly borders in PuTTY by replacing ncurses box drawing characters with Unicode box drawing characters.\n\n#### Configuration\n\n- New \\`repeat\\_prefix\\` in the \\`keymap\\` option: Custom key to begin entering repeat prefixes for commands, e.g. set to \"n\" so \"n20s\" searches for 20 turns.\n- New \\`repeat\\_num\\_auto\\` option: toggle whether or not pressing a number key automatically begins entering repeat prefixes; people who have a habit of using the top-row number keys for diagonal movement can toggle this option off and map those keys to the movement commands under the \\`keymap\\` option.\n- New \\`msg\\_per\\_line\\` option: Shows each message on a new line in the message area when enabled; can improve readability of messages when the message area is large.\n- \"\\* pulls you towards the water!\" mapped to MORE action under \\`msgtype\\` submenu option for the message given in the new extra turn before monster drowning attacks.\n- Frames and borders now respect the 'graphics' option, using Unicode box drawing characters in Unicode mode, and ASCII replacements in plain mode.\n\n#### Miscellaneous\n\n- Scramble some words in messages on April Fools Day (from NAO).\n- Fix end-of-game scores for non-ascending games being doubled like ascending ones.\n\n#### Technical\n\n- xlogfile patch (via NetHack 4).\n\n- Allow certain directories to be customized on game launch:\n\n  - \\`-H \\<dir>\\` to set the data dir (e.g. nhdat, license)\n  - \\`-V \\<dir>\\` to set the var data \"playground\" dir (e.g. xlogfile, bones)\n  - \\`-U \\<dir>\\` to set the user dir (e.g. player saves and config files)\n\n- Set file permissions on \\*nix-like operating systems (e.g. Linux and OS X) to 644 for player config files, preserved save log files, dumplogs, \\`logfile\\`, \\`xlogfile\\` and \\`record\\`.\n\n- Rename launch script for \\*nix-like operating systems (e.g. Linux and OS X) from \\`dynahack\\` to \\`dynahack.sh\\` to prevent it from overwriting the actual game or confusing and being ignored by the installation system in case the build system is accidentally set with identical \\`SHELLDIR\\` and \\`BINDIR\\` paths.\n\n- Replace \\`LD\\_LIBRARY\\_PATH\\` in \\`dynahack.sh\\` \\*nix-like launch script with an rpath configured on the \\`dynahack\\` binary.\n\n- Allow \\`INSTALL\\_BASE\\` to be passed to the initial cmake invocation to quickly set \\`BINDIR\\`, \\`LIBDIR\\`, \\`DATADIR\\` and \\`SHELLDIR\\` to sensible default paths under it.\n\n- Clean up timer debugging code a bit.\n\n- Limit name of character to \\`PL\\_NSIZ\\` bytes.\n\n- Clear and redraw the screen every 100 turns to stop dgamelaunch from replaying the entire session when trying to spectate a game.\n\n- Improvements to static builds (i.e. build configured with \\`ALL\\_STATIC\\` enabled):\n\n  - \\`-fPIC\\` no longer included with static builds.\n  - \\`libnitrohack.a\\` no longer installed with static builds, since it's already rolled into the game binary.\n\n- Treat improperly-truncated save files like crashed ones, instead of trying and failing to load/restore them.\n\n- Verify integrity of timers and light sources attached to monsters and objects to prevent unloadable save files.\n  - Fix timers being transferred into timer chains out-of-order (NetHack 4).\n\n- Fix warning when leaving bones while wielding an attached heavy iron ball.\n\n- Fix infinite loop when placing a branch entrance on joined cavern levels.\n\n- Allow SPILL lev\\_comp command to accept 0 as a size for e.g. breaking holes in cavern walls.\n\n- Fix some replay desyncs due to uninitialized data.\n\n- Prevent random chance of same-race polymorph in wizard mode.\n\n- lev\\_comp: New \\`prize\\` flag for \\`OBJECT\\` statements, denoting objects that should be considered a prize of that level; prizes are ignored by monsters, don't fall down holes, are ignored by autopickup, and picking up a prize causes other prizes on that level to vanish.\n\n- Fix crash in encumbrance display due to weight underflow e.g. when wishing for 12 million (12 with six zeros) loadstones in wizard mode.\n\n- Fix \"bad fruit\" warnings when slime mold is in inventory while inventory sidebar is updated while saving bones.\n\n- Fix handling of end-of-line comments in \\`DynaHack.conf\\` and \\`curses.conf\\`.\n\n- Prevent some potential unbounded reads by placing limits on \"%s\" format specifiers in \\`scanf()\\` family functions used while reading save file headers.\n\n- Prevent infinite looping for disconnected player input by aborting, in case the hangup signal handler doesn't abort for some reason.\n\n- Force cursor to be visible after quitting the game.\n\n- Convert inversed 10-minus-AC D\\&D-style armor values with just the armor's regular AC value in \\`src/objects.c\\`.\n\n### DynaHack 0.5.5 (2014-01-16, 78d772a)\n\nDynaHack 0.5.5 was a bugfix release for a potential crash with items contained in statues interacting with the timer-related fixes in the previous releases.\n\n#### Technical\n\n- Prevent a crash when the timer-related fixes of the past couple of releases touched items contained in statues due to the latter's failure to correctly set their level.\n\n### DynaHack 0.5.4 (2014-01-06, 34706ac)\n\nDynaHack 0.5.4 was a hotfix release for a timer-related issue.\n\n#### Technical\n\n- Fix lights and timers failing to follow the items they were attached to when the items were moved between levels, causing affected games to fail to load.\n\n### DynaHack 0.5.3 (2013-12-24, 32216b3)\n\nDynaHack 0.5.3 was a bugfix release that fixed a panic when loading a game with timed items in the Advent Calendar as well as a few other bugs, and adds the new \\`darkmsg\\` option to control whether past messages are darkened.\n\n#### Character\n\n- Fix warning when trying to take off merged dragon skin.\n\n#### Dungeon\n\n- Prevent the Advent Calendar exit portal from being created in one of its closets (from UnNetHack).\n\n#### Items\n\n- Various \\`#tip\\` fixes from the same feature in UnNetHack:\n\n  - Tipping a trapped container triggers the trap.\n  - Fix tipping of a zero-charge bag of tricks being used as a normal bag.\n  - Prevent autopickup from picking up tipped items.\n  - Observe cat when tipping boxes dropped by quantum mechanics.\n\n#### Configuration\n\n- \\`darkmsg\\` option: toggle whether or not older messages are colored dark blue in the message box.\n\n#### Miscellaneous\n\n- Fix blank lines being eaten when viewing license and version history in-game.\n\n#### Technical\n\n- Fix billing of items in nested containers and crediting of contained gold in the deep recesses of the shop code that could lead those things suddenly and silently becoming shopkeeper property, even if they didn't typically sell them!\n- Fix utilities updating but failing to rebuild the data files that depended on them; stale data files like the ones packaged with DynaHack 0.5.0 should be a thing of the past.\n- Fix crash when positioning a revived monster on entering a level.\n- Fix panic due to timers failing to find the Advent Calendar level during loading (the last level of the ledger in general), preventing affected games from being loaded.\n\n### DynaHack 0.5.2 (2013-10-07, 5f067e7)\n\nDynaHack 0.5.2 was a hotfix release that greatly increased save file integrity and ability to recover save files by fixing cases of incomplete data being logged that were overlooked by NitroHack and NetHack4.\n\n#### Saves\n\n- Fix systemic oversight in save code ported from NetHack4 that failed to ensure that diffs of the binary save section were being fully written to the log, leading to save corruption.\n- Fix \\`autopickup\\_rules\\` and \\`msgtype\\` failing to ensure that changes to them were being fully written to the log, leading to save corruption.\n\n### DynaHack 0.5.1 (2013-09-28, a1289c3)\n\nDynaHack 0.5.1 was a hotfix release to fix a packaging mistake with the Windows release that caused special levels to fail to load.\n\n#### Configuration\n\n- Disable \\`darkroom\\` by default when \\`darkgray\\` is also off by default, since it led to ugly dark blue for almost everything not in direct line-of-sight.\n\n#### Technical\n\n- Fix a major packaging mistake with the pre-compiled Windows build where certain special level data files had a version number incompatible with the shipped game executable and thus refusing to load them and show a generic full-level maze instead.\n\n### DynaHack 0.5.0 (2013-09-18, 65751e0)\n\nDynaHack 0.5.0 is the first public release of DynaHack. It was originally intended to be a port of UnNetHack using NitroHack instead of NetHack 3.4.3 as a base (in fact it was originally named \"UnNitroHack\", though no version with that name was ever officially released), but has since taken on a life of its own with interface and reliability improvements from NetHack4, highlights from other NetHack variants such as random magical equipment from GruntHack and monster spoiler info from UnNetHackPlus, plus many of its own changes.\n\nUnNetHack itself is a NetHack variant that features more randomness, challenges, levels and fun, rolling in many community patches, selected changes from other NetHack forks like SporkHack and SLASH'EM, and many original changes.\n\nThe majority of changes listed below come from UnNetHack. The remainder are sourced according to the following legend:\n\n- \\[NEW] = changes originally made for DynaHack specifically\n- \\[NH4] = changes ported from NetHack4\n- \\[Gr] = changes ported from GruntHack\n- \\[UnP] = changes ported from UnNetHackPlus\n- \\[KMd] = changes ported from K-Mod\n\n#### Highlights\n\n- New vampire starting race.\n\n- New convict starting role.\n\n- Over 80 new layouts for special levels.\n\n- Gehennom now has caves, lava and more special levels mixed with its mazes.\n\n- Changes to Sokoban:\n\n  - Choice of Sokoban prize: bag (holding), cloak (magic resistance or displacement) or amulet (reflection, life saving or ESP).\n  - Sokoban is one level shorter, i.e. 3 levels instead of 4.\n  - Sokoban luck penalty removed, cheating is tracked as a conduct instead.\n\n- New branches: Advent Calendar, Town, Black Market, Dragon Caves.\n\n- New random rooms: nymph gardens, dilapidated armories, pool rooms.\n\n- New shops: tin shops, instrument shops, pet stores.\n\n- New terrain types: dead trees, muddy swamps.\n\n- New items: chromatic dragon scales, chromatic dragon scale mail, gold dragon scales, gold dragon scale mail, iron safes, Thiefbane, rings of gain intelligence/wisdom/dexterity, tinfoil hats, potions of blood/vampire blood, Luck Blade, The Iron Ball of Liberation.\n\n- New monsters: One-eyed Sam, chromatic dragon, Tiamat, gold dragon, snow ant, vorpal jabberwock, disintegrator, Aphrodite, Cthulhu, giant turtle, wax golem, enormous rat, rodent of unusual size, miner, prison guard, lava demon, inmate, Robert the Lifer, Warden Arriana, locust.\n\n- \\[NEW] New mechanics:\n\n  - \\[NEW] Heavyshot: Certain thrown/fired weapons get a 1dX multiplier to damage instead of multishot.\n  - \\[NEW] Skill cross-training: high level skills accelerate the training of related lesser skills.\n\n- \\[Gr] Random magical properties for weapons, armors and jewelry: fire, frost, thirsty (draining), reflection, telepathy, searching, warning, stealth, fumbling, hunger, aggravation, vorpal (blades only), detonation, speed, oilskin, power, dexterity, brilliance, displacement, clairvoyance.\n\n- \\[Gr] Add \\`#tip\\` command to empty container contents onto the floor, allowing e.g. reaching holy water in a bag when hands are stuck to a cursed two-handed weapon.\n\n- Randomized dragon appearances.\n\n- Wishes made less common/numerous, and wishes not from a wand cannot grant magical items.\n\n- Weak unique monsters made tougher: Vlad the Impaler, Juiblex.\n\n- Changes to Elbereth:\n\n  - Monsters that now ignore Elbereth: Vlad the Impaler, quest nemesis, all unique demons.\n  - Minotaurs now get scared away by Elbereth.\n\n- Scrolls of gold detection can no longer be used to detect magic portals.\n\n- Scrolls of genocide made weaker.\n\n- Bags of holding scatter their contents instead of destroying them when they blow up.\n\n- Mysterious Force replaced with no-teleport.\n\n- Fighting wakes up nearby monsters.\n\n- Limit pudding farming: puddings split by max HP instead of current HP and never leave death drops.\n\n- Improvements to weaker artifacts: Banes, Heart of Ahriman.\n\n- Artifact naming bug fixed.\n\n- Color alchemy: potions mix by description color instead of base potion type.\n\n- Poison instadeath replaced with max HP damage.\n\n- \\[NEW] Colored walls and floors: Use more colors for special levels, terrain and dungeon features; toggle with \\`mapcolors\\` option.\n\n- \\[NH4] Known intrinsic tracking: reached by pressing \\`Ctrl-X\\`.\n\n- \\[UnP] Detailed monster info: select monsters or enter their name with \\`/\\` to view speed, base AC, resistances, attacks and more.\n\n- \\[NH4] Autoexplore: bound to \\`v\\` by default.\n\n- \\`msgtype\\` option: force \"--More--\" for or hide messages based on patterns.\n\n- \\[NEW] Show total weight and available slots of inventory.\n\n- \\[NEW] Borders change color when low on HP: <75% yellow, <50% orange, <25% red.\n\n- \\[NEW] Show number of turns used after multi-turn actions, e.g. \"You finish your dressing maneuver. \\[6 turns]\" (toggle with \\`delay\\_msg\\` option).\n\n- \\[NEW] Pressing \\`??\\` shows quick command key reference, reorganized to show commands by topic instead of alphabetically.\n\n- \\[NEW] Show \"(very) rotten\" on corpses old enough to give food poisoning.\n\n- \\[NH4] Neater, more informative AceHack-style status area.\n\n  - Show dungeon name in the status area.\n  - \\[NEW] Show player race in the 3-line status area.\n\n#### Character\n\n- New vampire starting race:\n\n  - Can start as barbarians, convicts, rogues and wizards.\n  - Can only feed by biting enemies in combat or drinking potions of blood or vampire blood.\n  - Always flies, starts with -5 alignment and -1 luck.\n  - Vampires stop themselves from biting monsters that are dangerous on contact, e.g. petrify, slime, disintegrate, Riders.\n\n- New convict starting role:\n\n  - Can be played as humans, orcs and vampires.\n  - Starts with a cursed striped shirt, some rocks, a pet rat and chained to a heavy iron ball that they can wield which uses the flail skill.\n  - Enters the dungeon on the verge of hunger, but lasts twice as long at hungry and below.\n  - Fights Warden Arriana for The Iron Ball of Liberation.\n\n- Exotic pets:\n\n  - Rogues may start with a pet monkey.\n  - Rangers and cavement may start with a pet wolf or winter wolf cub.\n  - Tourists may start with a pet baby crocodile.\n\n- Cap to-hit accuracy to 75% for weapons at unskilled or non-weapon items.\n  - \\[NEW] Remove luck attribute from to-hit calculations since it was skewing them way too much. Monk to-hit penalty when wearing body armor has been reduced to -10 (from -20) to compensate.\n\n- Items thrown at restricted/unskilled have a higher chance of slipping.\n\n- Fighting wakes up nearby monsters, with noise reduced by having stealth and/or using light weapons.\n\n- Increased 'hits' needed to advance skill levels:\n\n  - basic = 100 (was 20)\n  - skilled = 200 (was 80)\n  - expert = 400 (was 180)\n  - master = 800 (was 320)\n  - grand master = 1600 (was 500)\n\n- \\[NEW] New mechanics:\n\n  - \\[NEW] Heavyshot: Crossbows, spears, javelins, shuriken and boomerangs get a 1dX multiplier to damage instead of multishot.\n\n    - \\[NEW] Elves, dwarves and orcs get +1 heavyshot for throwing spears of their matching race.\n    - \\[NEW] Javelins get +1 heavyshot for basic skill and above, so the bonus is 1/2/3/4 (versus 1/1/2/3) for unskilled/basic/skilled/expert.\n\n  - \\[NEW] Skill cross-training: high level skills accelerate the training of related lesser skills.\n\n    - Short Blades: dagger, knife, short sword\n    - Chopping Blades: axe, pick-axe, broadsword\n    - Swords: short sword, broadsword, long sword, two-handed sword, scimitar, saber\n    - Bludgeons: club, mace, morning star, flail, hammer, quarterstaff\n    - Flails: morning star, flail, whip\n    - Polearms: quarterstaff, polearm, spear, javelin, trident, lance, unicorn horn\n    - Launchers: bow, sling, crossbow\n    - Thrown: javelin, sling, dart, shuriken, boomerang\n\n- Around 1-in-5 items may be randomly removed when bones are left.\n\n- Allow quest to be entered at experience level 10 (was 14).\n\n- Extended Conducts: Birth options can be set to declare conducts and set up characters for them appropriately: ascet, athiest, illiterate, pacifist, nudist, thievery, vegan, vegetarian, zen.\n\n- Track number of times Elbereth is used as a conduct.\n\n- Track number of bones levels encoutered and show it with conducts.\n\n- Track only wearing racial armor as a conduct.\n\n- The chance of instant death when taking poison damage without resistance is replaced with damage to max HP.\n\n- DYWYPISI patch: Show unknown properties of items between square brackets when identifying inventory on death.\n\n- Show more info about the character on death.\n\n- \\[NEW] Stacks of daggers in initial inventory start quivered.\n\n- Put \"!\" next to spells that are about to be forgotten.\n\n- 25 strength grants +7 bonus to damage (was +6).\n  - Double damage bonus/penalty for two-handed weapons.\n\n- Grant 1 extra AC for every piece of armor matching your race.\n\n- Killing your quest leader unlocks the stairs to your role's quest, in case they are angered and won't allow you in otherwise.\n\n- Reduce instances of amnesia:\n\n  - Scroll of amnesia replaced with scroll of flood.\n  - Mind flayers no longer cause amnesia.\n  - Only Cthulhu can still inflict amnesia.\n\n- \\[NH4] Swapping weapons with \\`x\\` is instant instead of taking a turn.\n\n- \\[NH4] Allow the quest to be entered before turn 2000; mostly of interest to speedrunners.\n\n#### Dungeon\n\n- Heck^2 patch: Mixes caves and special levels with Gehennom's mazes.\n\n  - Gehennom filler levels may sometimes be lava caves.\n  - Give hints when walking near the Vibrating Square.\n  - Allow digging beams to dig more than one wall in Gehennom, like in the rest of the dungeon.\n\n- New branches:\n\n  - Advent Calendar, appears early in the dungeon in the days of December leading up to Christmas, with closets with small prizes that unlock for each day.\n  - Town, an upward branch whose entrance is just below Sokoban's, and whose end has many random shops.\n  - Black Market, a huge megastore reached from a hidden portal near the depth of Medusa's Island, owned by One-eyed Sam who wields Thiefbane.\n  - Dragon Caves, found deep in Gehennom, consists of open caves with trees, water, swamps and home to many dragons.\n\n- Changes to Sokoban:\n\n  - Choice of Sokoban prize: bag (holding), cloak (magic resistance or displacement) or amulet (reflection, life saving or ESP). Picking up one will cause the others to vanish.\n    - Sokoban prize have their base item type obscured until picked up to prevent identification meta-gaming.\n  - Sokoban is now only 3 levels (was 4).\n  - Sokoban luck penalty removed, cheating is tracked as a conduct instead.\n\n- New Nymph Level, with many nymphs, trees, fountains, squeaky board traps and unique nymph Aphrodite.\n\n- New level layouts for existing special levels:\n\n  - 6 new layouts for Big Room.\n  - 2 new layouts for the Castle.\n  - 2 new layouts for Medusa's Island.\n  - 27 new layouts for Sokoban.\n  - 2 new layouts for Fort Ludios.\n  - New layout for Minetown: Orcish Town, walled off by iron bars, the inhabitants killed and has many orcs.\n  - New layouts for the Valley of the Dead and the lairs of Asmodeus, Baalzebub and Orcus.\n  - Moloch's Sanctum now has lava, iron bars and drawbridges.\n\n- New random rooms:\n\n  - nymph gardens with trees and fountains\n  - dilapidated armories with puddings, \\`R\\` class monsters and damaged weapons and armors\n  - pool rooms ringed with lava or water\n\n- New shops:\n\n  - tin shops with tins and sometimes an ice box with corpses\n  - instrument shops\n  - pet stores with figurines, whistles, tripe, leashes and saddles.\n\n- New terrain types:\n\n  - dead trees\n  - muddy swamps\n\n- Randomized order for Elemental Planes instead of being fixed to Earth, Air, Fire and Water.\n\n- Sokoban prize randomized: either final level layout can provide an amulet of reflection or bag of holding.\n\n- Special levels may appear flipped horizontally or vertically.\n  - \\[NEW] Exclude Sokoban from level flipping.\n\n- Drawbridge closing fails 1 in 5 times.\n  - Huge monsters prevent the drawbridge from closing.\n\n- Dungeon growths:\n\n  - Trees may grow near other trees over time.\n  - Trees randomly drop fruits and eucalyptus leaves.\n  - Herbs on the ground and kelp fronds in water may grow over time.\n\n- New effects when dropping rings of teleportation, polymorph, polymorph control and warning down sinks.\n\n- Level teleporting beyond the end of a dungeon branch performs a random level teleport instead of teleporting to the lowest possible level from your current position. The main dungeon is an exception: teleporting too deep will place you in the Valley of the Dead.\n\n- Doors no longer resist being opened.\n\n- Standard levels may have iron bars.\n\n- Describe how far players fall down holes and trapdoors instead of giving no message.\n\n- \\[NEW] Occasionally connect rooms in standard levels with corridors in star or loop formations.\n\n- \\[NEW] Occasionally generate split rooms in standard levels.\n\n- Entering a co-aligned temple on the Astral Plane will no longer cause monsters to flee.\n\n- \\[NEW] Medusa's Island is guaranteed to have a shield of reflection in the statue of Perseus.\n\n- \\[NEW] To prevent throne farming, \\`#loot\\` on a throne while confused takes time and has a chance of making the throne vanish.\n\n- Give portal to Fort Ludios a much higher chance of appearing in the dungeon.\n\n#### Wishing\n\n- Only wands of wishing can grant wishes for magical items. Other sources (thrones, fountains, magic lamps) can only provide non-magical items.\n- Random wish effect when sitting on thrones replaced with restoration of lost attributes.\n- Wands of wishing are created with less charges; they come recharged once, and have 0 to 2 charges instead of 1 to 3.\n- Due to randomized dragons, wishes for specific dragon armors only work when they have already been formally identified. Wishes for dragon armor by their randomized names are still granted as usual.\n- Prevent wishes from accidentally being cancelled when pressing escape.\n- Allow magic lamps to be wished for and come from polymorphed tools.\n- \\[UnP] Wishing no longer sets prayer timeout.\n\n#### Artifacts\n\n- New artifact: Thiefbane, two-handed sword, 10% chance of beheading \\`@\\` class monsters, held by One-eyed Sam, cannot be wished for, reverts to a regular weapon when dropped in bones.\n\n- Improvements to Bane artifacts:\n\n  - Bane artifacts now have a 1-in-6 chance of cancelling the target monster.\n  - Bane artifacts now warn of their target monster.\n  - Wielding Demonbane prevents demons from summoning other demons.\n  - Wielding Trollsbane grants hungerless regeneration.\n  - Wielding Giantslayer grants 18/\\*\\* strength.\n\n- The Heart of Ahriman now grants displacement and faster power regeneration instead of stealth.\n\n- Vorpal Blade does +1d8 damage vs. all monsters (was +1).\n\n- Fix the artifact naming bug, where trying to give mundane items the names of artifacts could trivially reveal the otherwise randomized base item type.\n\n- Prevent Magicbane from cancelling monster inventories.\n\n- \\[NEW] The Wizard of Yendor can no longer steal your quest artifact; only your quest nemesis can steal it now.\n  - \\[NEW] Carrying your role's quest artifact grants magic resistance.\n\n#### Items\n\n- New items:\n\n  - Chromatic dragon scales and chromatic dragon scale mail, grants reflection, resists fire, cold, sleep, disintegration, poison, acid and petrification.\n  - Gold dragon scales and gold dragon scale mail, provide permanent light when worn.\n  - Iron safes that can be unlocked with stethoscopes.\n  - Rings of gain intelligence, wisdom and dexterity.\n  - Tinfoil hats that block spellcasting, telepathy, clairvoyance, psychic blasts and the psi bolt monster spell.\n  - Potion of blood, provides a bit of nutrition for vampires.\n  - Potion of vampire blood, provides nutrition and heals vampires, polymorphs player into a vampire/vampire lord/vampire bat permanently while angering lawful gods.\n  - Striped shirt, causes shopkeepers to deny entry to shops if they see it worn, even if you return without it or cover it.\n  - Luck Blade, artifact, intelligent chaotic broadsword with +d5 to-hit and +d6 to damage versus all monsters, guaranteed first sacrifice gift for convicts.\n  - The Iron Ball of Liberation, convict quest artifact, intelligent neutral 300wt heavy iron ball, grants magic resistance, displacement and automatic searching when carried, grants intrinsic phasing when invoked, chains itself to you when touched or invoked.\n\n- \\[Gr] Random magical properties for weapons, armors and jewelry: fire, frost, thirsty (draining), reflection, telepathy, searching, warning, steatlh, fumbling, hunger, aggravation, vorpal (blades only), detonation, speed, oilskin, power, dexterity, brilliance, displacement, clairvoyance.\n\n- \\[Gr] Add \\`#tip\\` command to empty container contents onto the floor, allowing e.g. reaching holy water in a bag when hands are stuck to a cursed two-handed weapon.\n\n- Changes to the Amulet of Yendor:\n\n  - Amulet of Yendor may teleport if dropped.\n  - Astral escape: Alternate endings if the Amulet of Yendor is invoked on a high altar on the Astral Plane.\n  - Mysterious Force removed, holding the Amulet of Yendor instead prevents teleportation.\n  - Unique monsters no longer fight each other for the Amulet of Yendor.\n\n- Changes to weapons:\n\n  - \\[NEW] Polearms and lances can be used in melee even when unmounted.\n  - \\[NEW] Allow spellcasting when hands are stuck to a cursed quarterstaff.\n  - \\[NEW] Weapon enchantment has a small chance of being revealed on each hit, based on skill and doubled if it is of your race.\n\n- Changes to armor:\n\n  - Dragon scales now only give 1 AC (was 3), dragon scale mail only give 5 AC (was 9).\n  - Dragon scale mail reverts to dragon scales when cancelled.\n  - Armor-damaging effects will destroy completely eroded armor.\n  - Shields of reflection made 50% heavier and non-magical for wishing purposes.\n\n- Changes to amulets:\n\n  - Cursed amulets of life saving may fail 1-in-4 times.\n  - Amulet of unchanging can no longer be polymorphed.\n\n- Changes to rings:\n\n  - Auto-ID rings of regeneration when put on at less than max HP.\n  - Auto-ID rings dropped down sinks when they give a unique message.\n\n- Changes to tools:\n\n  - Magic markers are created with 20-79 charges (was 30-99).\n\n  - Improve crystal balls:\n\n    - Blessed crystal balls are easier to use, checking d13 vs. intelligence rather than d20.\n    - \\[NEW] Using a blessed crystal ball or having 18 intelligence prevents it from exploding.\n\n  - Unicorn horns no longer restore lost attributes.\n\n  - Bags of tricks have many more random effects and may be used like sacks once they run out of charges.\n\n  - Candles are more abundant:\n\n    - Add guaranteed candles to the Big Room.\n    - Add abandoned lighting shops to Orcus-town.\n    - Gnomes may be created with candles.\n    - Wax golems drop candles on death.\n\n  - Bags of holding scatter their contents instead of destroying them when they blow up.\n\n  - Stethoscopes can be used to identify eggs on the ground.\n\n  - \\[NH4] Light source fuel is revealed if the item is identified or gives a fuel-consuming message.\n\n  - \\[NH4] Mark cursed light sources as cursed when they fail to light.\n\n  - \\[NH4] Weight of Candelabrum of Invocation includes its attached candles.\n\n- Changes to scrolls:\n\n  - Scrolls of gold detection detects a random item class instead of traps when read while confused.\n\n  - Scrolls of genocide made weaker:\n\n    - Blessed scrolls of genocide work on a single monster (like old uncursed scrolls).\n    - Uncursed scrolls of genocide only kill all of a single monster on the current level.\n    - \\[NEW] Fix new genocide behavior when used against shape changers.\n\n  - Replace scroll of amnesia with scroll of flood that creates pools of water around you when read.\n\n  - Boulders dropped by a scroll of earth hit engulfing monster when read while engulfed.\n\n  - Uncursed scrolls of magic mapping also reveal secret doors, blessed scrolls do that and also detect objects.\n\n  - \\[NEW] Scrolls of identify always identify 3 to 6 items regardless of blessing or curses, encouraging using them on-the-go instead of saving them en masse for a giant stash, increasing early-game options and reducing back-tracking.\n\n  - \\[NEW] Water damage may destroy scrolls.\n\n  - \\[NEW] Scrolls of enchant weapon and enchant armor give the warning vibration for overenchantment for all weapons and armor, not just elven gear.\n\n- Changes to potions:\n\n  - Color alchemy: potions mix by description color instead of base potion type.\n  - Potions of gain ability only raise one attribute, and BUC increases the number of retries when it selects an attribute already at its maximum.\n  - \\[NEW] Pure potions can be dipped into diluted potions of the same type to combine them into a single stack of diluted potions.\n  - \\[NEW] Remove the alchemy tax: dipping potions into each other to create new potions no longer costs a potion.\n  - \\[NEW] Quaffing a potion of enlightenment while polymorphed into a dragon or baby dragon formally identifies its matching scales and scale mail.\n\n- Changes to wands:\n\n  - Zapping a cursed wand has a 1-in-30 chance of blowing it up (was 1-in-100).\n  - Applying wands no longer breaks wands; \\`#invoke\\` must be used instead.\n  - \\[NH4] Zapping or engraving an empty wand identifies its charges.\n  - \\[NH4] Formal-ID wands when they give a unique message when engraved.\n  - \\[NEW] Probing a dragon or baby dragon formally identifies its matching scales and scale mail.\n\n- Sale/price quotes for shops vary per-shopkeeper instead of per-pickup/drop, so no more need to repeatedly pickup and drop items in shops.\n\n- Many new random item descriptions.\n\n- Items described as \"ceramic/porcelain/quartz\" may break if subjected to force.\n\n- Cursed items may hit the ceiling and fall on your head when thrown.\n\n- Increase chance of non-zero enchantments on random items.\n\n- Fix long-standing NetHack bug where uncursed and blessed food weren't getting their grace period against rotting.\n\n- \\[NEW] Fix wielded potions of blindness granting resistance to certain sources of blindness, e.g. exploding yellow lights and archon gazes.\n\n- Prevent the Book of the Dead from being destroyed when falling into lava.\n\n- \\[NH4] Charging an item reveals its number of remaining charges.\n\n- \\[NEW] Allow items to stack regardless of differing knowledge bits (e.g. BUC, enchantment, rustproofing), improving inventory space usage and allowing things like arrows found to stack with identical ones dropped on an altar.\n  - \\[NH4] Prevent named items from stacking with unnamed items.\n\n- \\[NH4] Fix turn usage when applying items, including C343-353: Aborting key or lock pick with escape uses a turn.\n\n- \\[NEW] Show \"(very) rotten\" on corpses old enough to give food poisoning.\n\n- \\[NEW] Make rustproofing on items known by default, since all cases of it existing or being applied to items are non-random and known by the player.\n\n#### Monsters\n\n- New monsters:\n\n  - One-eyed Sam: Shopkeeper of the Black Market, wields Thiefbane, can break boulders in her way.\n  - Chromatic dragon: Rare dragons that resist multiple elements, have random breaths, not a valid random polymorph form, may be found in the new Dragon Caves branch.\n  - Tiamat: New name for the caveman quest nemesis.\n  - Gold dragon: Permenantly lit fire-breathing dragon, drops scales that are also a permanent source of light.\n  - Snow ant: Fire ants but cold.\n  - Vorpal jabberwock: Purple \\`J\\`, more powerful jabberwock with four 3d10 attacks, two of which have a 1-in-40 chance of decapitating.\n  - Disintegrator: Bright green \\`R\\`, slow, tunnels, disintegrates weapons/armor/you on contact.\n  - Aphrodite: Unique purple \\`n\\`, found on the Nymph Level.\n  - Cthulhu: Unique purple \\`h\\`, now holds the Amulet of Yendor instead of the high priest of Moloch, sucks brains, grabs, gazes to confuse, very high hit dice, high speed and armor, dies as a stinking cloud and revives when it dissipates.\n  - Giant turtle: Bright green \\`:\\`, blocks vision like a boulder.\n  - Wax golem: Has a fire attack, drops candles on death.\n  - Enormous rat, rodent of unusual size: upgraded rats.\n  - Miner, prison guard, lava demon, inmate: convict quest monsters.\n  - Robert the Lifer: convict quest leader.\n  - Warden Arriana: convict quest nemesis.\n  - Locust: Gray \\`a\\`, normal speed, has a sickness-causing sting.\n\n- Changes to Elbereth:\n\n  - Monsters that now ignore Elbereth: Vlad the Impaler, quest nemesis, all unique demons.\n  - Minotaurs now get scared away by Elbereth.\n\n- Randomized dragon appearances: name and color of dragons map to different elements each game.\n  - New dragon names: tatzelworm, amphitere, draken, lindworm, sarkany, sirrush, wyvern, guivre.\n\n- Changes to Riders:\n\n  - Hide the names of the Riders if further than two spaces away.\n  - Riders can smash boulders that block their path.\n  - Riders get 108-164 HP (was 10-80).\n\n- Changes to the Wizard of Yendor:\n\n  - Killing the Wizard of Yendor for the first time increases difficulty of spawned monsters.\n  - \\[NEW] The Wizard of Yendor can no longer steal your quest artifact.\n\n- Changes to Medusa:\n  - Hallucination protects from the petrification of Medusa.\n\n- Changes to weak unique monsters:\n\n  - Make Vlad the Impaler tougher: 28/24/-8 hit dice, speed and AC (was 14/18/-3), sees invisible.\n  - Juiblex take half his current HP when zapped with digging from within instead of being reduced to 1 HP.\n\n- Changes to demon princes:\n  - Raised gold needed to bribe demon princes to 3000-20000 gold (previously you could bribe them with 10 gold if you put the rest in your bag).\n\n- Changes to quest leaders:\n\n  - Angered quest leaders can smash boulders that block their path.\n  - Angered quest leaders can be killed to unlock quest stairs.\n  - Quest leaders have more HP than before.\n\n- Changes to floating eyes:\n\n  - Floating eyes are now colored bright green instead of dark blue.\n  - \\[NEW] Remove 1-in-4 chance of floating eyes paralyzing for 127 turns, halve duration to (hit dice + 1)d35 instead of (hit dice + 1)d70 otherwise.\n  - \\[NEW] High wisdom limits floating eye paralysis to 10 \\* (20 - wisdom) turns, with a minimum of 10 turns.\n\n- Changes to mind flayers:\n  - Mind flayer attacks no longer cause amnesia.\n\n- Changes to muggers:\n  - Muggers can steal items.\n\n- Changes to nurses:\n  - Nurse hits heal players wielding non-weapon items as if they were empty handed, to match the message given if they are chatted to.\n\n- Changes to puddings:\n  - Limit pudding farming: puddings split by max HP instead of current HP and never leave death drops.\n\n- Changes to wraiths:\n  - \\[NEW] Wraiths no longer follow you across levels, removing the tedious wraith-luring tactic, particularly given how slow they are.\n\n- Fix Astral Call bug which could be used to discover the alignments of the high priests from afar and therefore trivially identify the otherwise randomly shuffled temple alignments.\n\n- Cancelled trolls no longer revive with e.g. the wand, Magicbane, Trollsbane.\n\n- Monsters can zap wands of cancellation at you to cancel an item in your open inventory.\n\n- Eating oily corpses may cause slippery fingers.\n\n- Grudge patch: Monsters that are enemies with each other may fight amongst themselves.\n\n- Give more HP to big monsters and less HP to small monsters.\n\n- \\[NH4] Make initial monster population on levels independent of the character's experience level.\n\n- \\[NEW] Fix C343-415: Mail daemons can be created when populating special levels with demons.\n\n- \\[NEW] Don't highlight detected monsters.\n\n#### Interface\n\n- \\[NEW] Colored walls and floors: Use more colors for special levels, special rooms, terrain and dungeon features; toggle with \\`mapcolors\\` option.\n\n- \\[NH4] Known intrinsic tracking: reached by pressing \\`Ctrl-X\\`.\n\n  - \\[NH4] Show attributes in \\`Ctrl-X\\` screen.\n  - \\[NH4] Allow kills, genocides/extinctions and conducts to be viewed from the \\`Ctrl-X\\` screen.\n  - \\[NH4] Allow \\`#enhance\\` to be reached from \\`Ctrl-X\\` as well.\n\n- \\[UnP] Detailed monster info: select monsters or enter their name with \\`/\\` to view speed, base AC, resistances, attacks and more.\n\n- \\[NH4] Autoexplore: bound to \\`v\\` by default.\n\n  - \\[NEW] Stop travel and autoexplore when becoming hungry or weak from hunger.\n  - \\[NEW] Prevent starting autoexplore when weak from hunger.\n  - \\[NEW] Fix travel and autoexplore stopping for unrevealed mimics.\n  - \\[NEW] Travel and autoexplore walk around peaceful and stationary monsters.\n  - \\[NEW] Travel and autoexplore ignore previously-read engravings.\n  - \\[NEW] Stop and disallow running, travel and autoexplore when stunned or confused.\n  - \\[NEW] Travel treats boulders like walls in Sokoban and thus no longer tries to move through them.\n\n- Improvements to item action menus:\n\n  - \\[NEW] Use mnemonic accelerators for item action menus, e.g. \"w - wield\".\n  - \\[NEW] Shorter entries, e.g. \"wield\" instead of \"Wield foo as your weapon\".\n  - \\[NEW] Add action to view detailed item description.\n  - Add action to pay for shop items.\n  - \\[NEW] Add action to name or call an item.\n  - \\[NEW] Add action to allow weapons to be unwielded.\n  - \\[NEW] Add action to \\`#adjust\\` the inventory letter of an item.\n\n- Improvements to status area:\n\n  - \\[NH4] AceHack-style status area: neater and more informative.\n\n    - \\[NEW] Show player race in the 3-line status area.\n    - Show dungeon name in status area (\\`dungeon\\_name\\` option).\n\n  - \\[NEW] Status colors: Status effects are highlighted in different colors.\n\n  - \\[NEW] Attributes color red or green when they decay or improve.\n\n  - \\[NEW] Turn count changes color based on number of turns since last input.\n\n  - \\[NH4] Show levitation, unarmed and trapped as statuses.\n\n    - Show \"Elbereth\" as a status when standing on an active Elbereth space.\n    - \\[NH4] Show \"Beartrap\" as a status.\n    - \\[NEW] Show \"Swamp\" as a status when standing in a muddy swamp.\n    - \\[NH4] Show even more statuses: greasy (hands), lame (hurt legs), \"strangle\", \"petrify\" (while turning into stone), \"held\" (by a grabber), \"fly\".\n\n  - \\[NH4] Status area describes map location under the cursor when targeting.\n\n- Unvisited stairs and portals that lead to other branches are noted in \\`#overview\\`.\n\n- Accept \"mindflayer\" as an alternate spelling of \"mind flayer\" so monks don't accidentally end up genociding themselves.\n\n- Stop multi-turn actions if HP or power are fully restored.\n  - \\[NEW] Don't stop autoexplore or travel when HP or Pw are fully restored.\n\n- \\`#chat\\` automatically chooses adjacent monster if there is only one.\n\n- Autopickup remembers dropped items and leaves them dropped.\n\n- Piles of multiple items are highlighted on the map.\n\n- Dim locations outside of line-of-sight.\n\n- \\`#loot\\` no longer asks for which container when there is only one choice.\n  - \\[NEW] \\`#loot\\` and \\`#tip\\` show multiple container choices in a menu instead of asking for each container in sequence (optional with \\`paranoid\\_loot\\`).\n\n- \\`Ctrl-E\\` to write Elbereth in the the dust with your fingers or wielded athame.\n\n- Give a reason when the player is unable to two-weapon.\n\n- Ask when trying to walk into a known trap (optional with \\`paranoid\\_trap\\`).\n\n- Automatically open doors when walking into them.\n  - Automatically ask to unlock doors when walking into locked doors.\n\n- Spiked pits can be manually entered like pits using \\`>\\`.\n  - \\[NEW] Pressing \\`<\\` will attempt to escape traps.\n\n- Being hit by cancellation gives a message: \"You are covered in sparkling lights!\"\n\n- Dropping a container on an altar reveals blessings and curses of its contents.\n\n- Pressing \\`ff\\` fires in same direction as last time.\n\n- \\[NEW] Quiver thrown items picked up by autopickup and \\`pickup\\_thrown\\` if quiver is empty.\n\n- \\[NEW] Fix graphical display of the Rogue level when viewed from \\`#overview\\`.\n\n- \\[NEW] Suggest \\`#wipe\\` when blinded by venom or thrown cream pies.\n\n- \\[NEW] Pressing \\`M\\` cycles backwards through monsters while targeting.\n\n  - \\[NEW] Pressing \\`@\\` moves the cursor the player while targeting.\n  - \\[NEW] Pressing \\`^\\` cycles through traps while targeting.\n\n- Fix crash at naming dialog with items with very long type names.\n\n- \\[NEW] Give corpses the right colors in item lists (e.g. inventory) instead of all being brown.\n\n- Show level annotation when restoring game.\n\n- hp\\_notify: Show message after turns when damage is taken, e.g. \"\\[HP-2=10]\" when taking 2 damage and being left with 10 HP.\n\n- Improve handling of counts in item selection menus.\n\n- \\[NEW] \"Auto-select every item\" now respects other item picking criteria at multi-drop/loot prompts instead of ignoring them.\n\n- \\[NEW] Show total weight and available slots of inventory.\n\n- \\[NEW] Borders change color when low on HP: <75% yellow, <50% orange, <25% red.\n\n- \\[NEW] Show number of turns used after multi-turn actions, e.g. \"You finish your dressing maneuver. \\[6 turns]\" (toggle with \\`delay\\_msg\\` option).\n\n- \\[NEW] Pressing \\`??\\` shows quick command key reference, reorganized to show commands by topic instead of alphabetically.\n\n- \\[NEW] \\`Ctrl-P\\` message log starts scrolled to the most recent messages.\n\n- \\[NEW] Show boulders as \\`[0](/wiki/0 \"0\")\\` by default instead of [backtick](/wiki/Backtick \"Backtick\").\n\n- \\[NH4] Recolor/underline monsters with duplicate colors.\n\n- \\[NH4] Show \"--More--\" by screenfuls instead of by lines.\n\n- \\[NEW] Don't (ask to) attack peaceful monsters when walking into them by default (customize with \\`safe\\_peaceful\\` option).\n\n- \\[NH4] Show number of available skill slots in \\`#enhance\\` menu.\n  - \\[NEW] Show skill slot cost to advance skills in \\`#enhance\\` menu.\n\n- \\[NH4] Stop player from walking into water and/or lava (both optional with new \\`paranoid\\_water\\` and \\`paranoid\\_lava\\` options), can be overridden using \\`m-\\<direction>\\`.\n\n- Display known-unlocked doors in bright green, known-locked doors in red and known-trapped doors in cyan.\n\n- Highlight item piles on the map.\n\n- \\[NH4] Use red backgrounds for level exits, e.g. stairs, ladders, portals.\n\n- \\[NH4] Use comma for selecting the ground for various actions:\n\n  - \\[NH4] Allow \\`a,\\` as a shortcut for \\`#loot\\`.\n  - \\[NH4] Require \\`q,\\` to quaff from sinks and fountains.\n  - \\[NH4] Comma shows floor items when eating/tinning/sacrificing.\n    - \\[NEW] Show floor items in a menu when eating/tinning/sacrificing.\n\n- Automatically ask to unlock when looting a locked container.\n  - \\[NEW] Perform \\`#loot\\` after successfully auto-unlocking a container, allowing looting to be done with one smooth sequence of inputs.\n\n- \\[NEW] Show remaining spell memory in spell lists.\n\n- \\[NH4] Wrap long lines of text in various prompts.\n\n- \\[NH4] \\`#adjust\\`ing an item onto itself merges all identical items onto it once more.\n\n- \\[NEW] Improve input handling of counts during prompts.\n  - \\[NEW] Allow \\`#adjust\\` to accept a count when it asks for a destination letter, enabling stack-splitting with the \\`#adjust\\` command when it is used via the item action menu.\n\n#### Configuration\n\n- \\`msgtype\\` option: force \"--More--\" for or hide messages based on patterns.\n  - \\[NEW] Provide a good set of default \\`msgtype\\` rules based on stth's MSGTYPE configuration on nethack.alt.org that stops on dangerous or easily missed but important messages.\n\n- Move option values next to their names instead of across from their descriptions.\n\n- Show a dialog for all selected options to prevent accidental toggling.\n\n- Improve prompt safety for certain game-changing actions:\n\n  - \\`paranoid\\_hit\\` option asks for full \"yes\" to confirm hitting peaceful monsters.\n  - \\`paranoid\\_quit\\` option asks for full \"yes\" when quitting a game or entering explore mode.\n  - \\`paranoid\\_chat\\` option to restore classic chat direction behavior.\n  - \\[NEW] \\`paranoid\\_loot\\` option to restore classic loot container behavior.\n\n- \\`paranoid\\_trap\\` option: control prompt before walking into known traps.\n\n- \\`paranoid\\_loot\\` option: toggle menu versus sequential prompts when \\`#loot\\` and \\`#tip\\` have multiple containers to choose from.\n\n- \\`pickup\\_dropped\\` option: force autopickup to grab explicitly dropped items instead of leaving them.\n\n- More sensible option defaults across the board.\n\n- \\`darkroom\\` option: toggles dimming of locations outside of line-of-sight.\n  - \\[Gr] Dim remembered items, walls and other dungeon features outside of line-of-sight when \\`darkroom\\` is enabled.\n\n- \\`spellorder\\` option: set order for letters used by spell menus.\n  - \\[NEW] Permit letter ranges for \\`spellorder\\`, e.g. \"a-zA-Z\".\n\n- \\`pilesize\\` option: control how many items must be at a stepped-on location before the \"things that are here\" dialog is shown on small terminals.\n\n- \\`mapcolors\\` option: toggles extra colors for special levels and terrain.\n\n- \\[NEW] \\`menumatch\\` option: Allow multi-drop/loot item menus to only show e.g. cursed armor when picking \"cursed\" and \"armor\", instead of all cursed items and all armor.\n\n- \\[NEW] \\`safe\\_peaceful\\` option: Control what happens when moving into peaceful monsters.\n\n- \\[KMd] Change \\`sparkle\\` option to a number that controls the speed of sparkle animations; higher values make it faster, zero disables sparkle entirely.\n\n- \\[NEW] \\`paranoid\\_water\\` and \\`paranoid\\_lava\\` options: control NetHack4's safeties for walking into water and lava respectively.\n\n- \\[NEW] \\`hilite\\_peaceful\\` option: toggle if non-tame but peaceful monsters are highlighted the same way pets are for \\`hilite\\_pet\\`.\n\n- \\[NEW] Remove the \\`blink\\` option.\n\n- \\[NH4] Allow remapping of default in-game colors to terminal colors with \\`terminal.conf\\` in the configuration directory.\n\n- \\[NEW] Remove \\`use\\_inverse\\` option.\n\n- \\[NEW] Remove \\`blink\\` option, since it was ugly, distracting and no longer needed with the new highlighting and display changes.\n\n- \\[NEW] \\`classic\\_status\\` option: Use classic NetHack-style status area instead of the new AceHack-style status area.\n\n- \\[NEW] \\`dungeon\\_name\\` option: toggle showing full dungeon name or just the depth in the status area.\n\n- \\[NEW] Allow \\`msgheight\\` option to be set to 0 to automatically resize to fill the whole terminal height.\n\n#### Saves\n\n- \\[NH4] Put dump files under the game's config directory instead of in the user's home directory in Linux.\n  - \\[NEW] Put dump files in the game's config directory instead of in Documents in Windows.\n- \\[NH4] Store save deltas of the binary save segment in the save file log on a per-turn basis. This makes save files much larger, but also makes them almost impossible to lose to corruption. Each diff line begins with a \\`\\~\\`.\n\n#### Miscellaneous\n\n- Experimental tutorial mode:\n\n  - \\[NEW] Rewrite and add command summaries to tutorial messages.\n  - \\[NEW] Split tutorial review menu into sections.\n  - \\[NEW] Indicate the latest tutorial message seen in the review menu.\n\n- Reduced score given when killing the same type of monster repeatedly.\n\n- Many new random engravings.\n\n- Many new random hallucinated monster descriptions.\n\n- Certain items can be read for flavor text: gold, tins, cans of grease, candy bars, credit cards, magic markers, the Orb of Fate, Stormbringer, runed items.\n\n- Characters that start on Towel Day (May 25) start with a complementary towel.\n\n- Cream pies get a different name on Pi Day (March 14) or Pi Approximation Day (July 22).\n\n- Breaking a camera may free the picture-painting demon (homunculus) inside.\n\n- Randomize creator deity in intro text.\n\n- Szechuan tins may have a free fortune cookie.\n\n- Monk-specific greetings when saving and restoring.\n\n- Hallucination gives random currencies instead of \"zorkmids\" in messages.\n\n- \\[NEW] Fix fleeing monsters getting stuck in corridors.\n\n- \\[NH4] Provide more informative in-game database for items.\n\n- \\[NH4] Don't allow changing to explore mode mid-game.\n\n#### Technical\n\n- \\[NEW] Add support and detailed instructions for building the game under Cygwin (Linux-like translation layer for Windows) and MinGW (native Windows support).\n\n- \\[NEW] Add instructions for building the game for OS X.\n\n- New bytecode-driven special level compiler.\n\n  - Allow \\`x\\` to denote 'transparent' map tiles.\n  - Allow changing map regions of non-trivial shapes with selections that can be combined and intersected.\n  - Curly braces for commands in rooms, subrooms, IF conditions, containers.\n  - Rooms can set doors on a random wall.\n  - Evaluate values on a stack instead of using raw structs.\n  - Allow much more fine-grained control over OBJECT and MONSTER.\n    - Permit custom inventories for MONSTER.\n  - More control statements: LOOP, SWITCH.\n  - Support rudimentary sub-routines.\n  - Control over spawned monster generation on levels with MON\\_GENERATION.\n  - Custom level sounds with SOUNDS command.\n  - Permit loading from other files with INCLUDE.\n  - New WALLWALK command to surround the inner wall with a chosen terrain.\n  - Support for variables: string, int, coord, region, mapchar, monst, obj, array.\n    - SHUFFLE command for arrays, replacing RANDOM\\_OBJECTS, RANDOM\\_PLACES and RANDOM\\_MONSTERS.\n  - Support for arithmetic expressions.\n    - Support dice notation for values, e.g. 1d6.\n\n- \\[NEW] Bring back SHOPTYPE environment variable for wizard mode room testing.\n\n- Add \\`#rooms\\` command for testing room layouts in wizard mode.\n\n- Allow up to five possible bones files per level.\n\n- \\[NEW] Fix handling of ball and chain when blind with NitroHack's layered level memory.\n\n- \\[NEW] Fix appearance of ridden monsters with NitroHack's display system.\n\n- \\[NEW] Fix many crashes and other instances of incorrect behavior due to NitroHack's global \\`level\\` pointer being incorrectly used.\n\n- \\[NEW] Fix the notorious infinite travel bug.\n\n- \\[NH4] Eliminate object migration, deliver objects directly to their destination level instead.\n\n- \\[NEW] Ensure correct colors are used for PDCurses no matter how it is built.\n\n- \\[NH4] Make the \\`redraw\\` command actually redraw the screen.\n\n### NitroHack 4.0.4 (2012-02-19, 21b9774)\n\nNitroHack 4.0.4 is mostly a bugfix release. It is the last public release of NitroHack by Daniel Thaler, though it exists on a separate development branch to mainline on its primary Git repository at github.com/DanielT/NitroHack.\n\nIt is this version on the stable 4.0.x that DynaHack is based on.\n\n#### Interface\n\n- Fix crash when item action menu is cancelled with escape.\n- Fix muddled shop labelling in the \\`#overview\\`.\n\n#### Miscellaneous\n\n- Fix crash after activating a figurine.\n- Fix random character selection.\n\n### NitroHack 4.0.3 (2012-02-13, 3b9a876)\n\nNitroHack 4.0.3 is mostly a bugfix release.\n\n#### Interface\n\n- Use more common Unicode characters for branch stairs on Windows.\n- Fix display on Japanese Windows by using the correct code page.\n\n#### Configuration\n\n- Fix crash when keymap dialog was brought up a second time.\n\n#### Miscellaneous\n\n- Fix C343-72: Confusing messages when you stop levitating while on a flying steed (from UnNetHack).\n- Fix C343-174: Drum of earthquake gives inappropriate message (from UnNetHack).\n\n#### Technical\n\n- Fix miscompile of \\`nh\\_restore\\_game\\` with -O3 due over-eager optimization that ignored the setjmp/longjmp game exit system.\n- Fix bones file-related saving and loading bugs.\n\n### NitroHack 4.0.2 (2012-02-05, 22c6cf3)\n\n#### Dungeon\n\n- Make the Vibrating Square a trap which becomes visible once it has been discovered (from AceHack).\n\n#### Items\n\n- Formal-ID jumping boots, potions of oil and starting inventory at the beginning of each game (from AceHack).\n- Allow 'I' to select unidentified items in loot and menu drop item lists.\n- Show shop price of items while walking over them without #chatting (from UnNetHack).\n\n#### Interface\n\n- Unify controls for equipping jewelry with those of armor by allowing \\`W\\`ear/\\`T\\`ake off as substitutes for \\`P\\`ut on/\\`R\\`emove.\n\n- Change default key bindings to AceHack-style:\n\n  - \\`#adjust\\`: \\`Alt-A\\`\n  - \\`#annotate\\`: \\`Ctrl-F\\`\n  - \\`#chat\\`: \\`c\\` or \\`Alt-C\\`\n  - \\`close\\`: unbound\n  - \\`#enhance\\`: \\`Alt-E\\` or \\`Ctrl-E\\`\n  - \\`#invoke\\`: \\`V\\` or \\`Alt-I\\`\n  - \\`#monster\\`: \\`M\\` or \\`Alt-M\\`\n  - \\`#pray\\`: \\`Alt-P\\`\n  - \\`#twoweapon\\`: \\`Alt-2\\` or \\`X\\`\n  - \\`version\\` and \\`verhistory\\`: unbound\n  - \\`wait\\`: \\`.\\` (space no longer bound)\n\n- Make \\`#invoke\\` work like in AceHack, where it can invoke, rub or be used to break wands.\n\n- Improve space usage of the sidebar for floor items and inventory.\n\n#### Configuration\n\n- Change \\`unicode.conf\\` format: default entry lines start with \\`#\\` while modified lines must start with \\`!\\` to be recognized.\n- Provide a default set of autopickup rules that picks up gold, scrolls, rings, wands and potions while leaving unpaid shop items.\n\n#### Saves\n\n- Offer to delete damaged save files both locally and online.\n- Improve reliability of attempting to restore corrupted save files.\n\n#### Network\n\n- Show the version number of the game running on the server on the main menu.\n- Add an account menu to change password and email address.\n\n#### Miscellaneous\n\n- Fix C343-246: Wands can be wrested in zero turns by attempting to engrave with it while levitating.\n- Fix C343-129: Cancelling objects in or near a shop.\n- Fix C343-176: Disintegration breath on monsters is not handled properly (i.e. a steed killed and saved by life saving can be re-saddled).\n- Many bug fixes, particularly to the save system.\n\n#### Technical\n\n- Extend drawing info so that dungeon backgrounds can contain two types of symbols: walls/floor/etc. and interactive terrain like stairs/altars/etc.\n\n### NitroHack 4.0.1 (2012-01-23, 855e8e6)\n\nNitroHack 4.0.1 is mostly a bugfix release.\n\n#### Interface\n\n- Put location info under instead of over the inventory in the sidebar.\n- Start a new line in the message area for every action.\n- Show \"Bad command\" in the message area rather than in a dialog.\n- Improve shift+hjkl cursor movement near the edges of the map.\n\n#### Network\n\n- Allow server admins to send messages to all connected clients.\n\n#### Miscellaneous\n\n- Many bug fixes.\n\n### NitroHack 4.0.0 (2012-01-15, f980165)\n\nThis is the first version of NitroHack publicly released by Daniel Thaler.\n\n#### Interface\n\n- New Curses-based text mode interface:\n\n  - Unicode display with customizable display chars\n  - arrow/function key recognition\n  - multi-line message box\n  - improved status area\n  - permanent inventory sidebar (if terminal is wide enough)\n\n- Item action menus: Press the item letter in the inventory for common actions.\n\n- Main menu that lets you choose to start a new game, restore an existing one, change options and more.\n\n- Fully configurable keymap.\n\n- Arrow keys move the cursor in text prompts instead of abruptly killing them.\n\n- Item lists are sorted based on name, enchantment, BUC, erodeproofing, erosion and greasing.\n\n- Item class headings show the symbol in item lists.\n\n- The 'uncursed' status of an item can be explicitly shown in item names.\n\n- Unexplored locations, stone and dark rooms can be customized to display as different characters on the map.\n\n- Naming of monsters, items and item types occur via a menu.\n\n- Much longer message history (20k messages!).\n\n- Removing armor/jewelry always gives a prompt even if there's only one choice.\n\n- Open doors automatically when walking into them.\n\n#### Options\n\n- All options can now be changed in-game instead of using \".nethackrc\".\n- Changes to options made in-game are saved and restored. The underlying files can be found under \\`\\~/.config/NitroHack/\\`.\n- Birth options: Options like ELBERETH, REINCARNATION, SEDUCE and bones files, which previously could only be changed by rebuilding the game, can now be set on beginning a new game.\n\n#### Items\n\n- Spellbooks can be read early (while memory of the spell still exists).\n\n#### Monsters\n\n- Monsters can be cycled by pressing \\`m\\` while targeting.\n- Extinct species are shown along with genocided ones when games end.\n\n#### Autopickup\n\n- Autopickup Rules: fine-grained rules to control what autopickup picks up or leaves, e.g. the following rules pick up all food and lizard corpses but no other corpses:\n\n```\n   1. IF name matches \"*lizard*\" AND type is \"food\": < GRAB\n   2. IF name matches \"*corpse*\" AND type is \"food\":   LEAVE >\n   3. IF type is \"food\":                             < GRAB\n```\n\nIf no matching rule is found the item is left behind by default.\n\n- \\`pickup\\_thrown\\` option: Thrown or fired items will always be picked up automatically.\n\n#### Dungeon overview\n\n- \\`#overview\\`/Ctrl-O shows a list of all remembered levels and major features. Choosing a level views your memory of it.\n- You can \\`#annotate\\` a level to describe it, which appears in the overview.\n\n#### Character history tracking\n\n- Heroic deeds are logged and can be viewed with the \\`#history\\` command:\n\n  - new depth reached\n  - experience level gained\n  - wishes\n  - killing a unique monster\n  - life saved\n  - crowning\n  - artifact gift received\n  - basic quest status\n  - major oracle consultations\n  - performing the invocation\n  - gaining/losing the Amulet of Yendor (only if formally identified)\n\n#### Dumplog\n\n- When you die, a text file will be created with the following information:\n\n  - final screenshot (in ASCII)\n  - character stats\n  - inventory and contents of carried containers\n  - character attributes\n  - known spells\n  - skills\n  - conducts\n  - vanquished opponents\n  - final messages\n  - dungeon overview\n  - heroic deeds (as seen in \\`#history\\`)\n\n#### Interactive replays\n\n- Saved and finished games can be replayed with a viewer built into the game client. Commands like view inventory can be performed while viewing a replay.\n\n#### Miscellaneous\n\n- Improve died-while-helpless descriptions.\n- Fixed about 10% of all known NetHack bugs.\n\n#### Technical\n\n- NitroHack network protocol: Supports network play without telnet or ssh. The protocol is based on JSON and makes it easier to implement a browser-based NitroHack client (TODO!).\n  - The game is divided into a client and server: the client has a copy of the game for independent local play but can also connect to a server for online play.\n\n- New save game format: NetHack's save format was mostly just a dump of binary structures to disk. The new format has two sections:\n\n  1. A log of the initial random seed and every game action performed, written continuously as the game is played.\n  2. If the game is not being played, a binary save appended after the log. This section uses a fixed-width, fixed-endian architecture and compiler-independent format which resembles NetHack's format but can be loaded on any system the game will run on.\n\n- Full separation of interface code from game code.\n\n  - The game core has been moved into a library (libnitrohack.so/nitrohack.dll), exposing an API of 23 functions and is largely OS independent.\n  - The display code is part of the OS/platform and must provide a list of callbacks (windowprocs) to the game.\n  - The core game and display code have no shared global state.\n\n- Rewritten input system: The game core never requests raw keys from the interface. All interactions happen on an abstract level: the interface sends commands to the game core as strings (\"wait\", \"move\", etc.), and the game core may ask for a direction or position, etc.\n\n- Layered drawing: The game core provides a set of display items for each location instead of just setting the topmost like NetHack. The Curses interface blinks between them; this can be toggled with an option.\n\n- Mersenne Twister random number generator: Required to make game logs replayable.\n\n- Re-runnable game core: Several main data structures have been made const, all others are carefully re-initialized when a game is started or restored.\n\n  - This makes it possible to provide the main menu.\n  - NitroHack now uses a setjmp/longjmp exception mechanism to escape from deep call-chains when the game ends or panics.\n\n- Temporary level files and lock files removed.\n\n  - All levels are now kept in memory at all times, making a lot of locking unnecessary, and allowing them to be viewed even from other levels.\n  - Only active game logs are locked, and even then only using OS-provided non-file-based locking (fcntl on UNIX and LockFile on Windows).\n\n- No more support for antique systems and compilers.\n\n  - Dropped operating systems: BE, DOS, Classic Mac, Atari, VMS, Ultrix, etc.\n  - Supported compilers has been reduced to gcc, clang and msvc (probably Intel's compiler too).\n  - Doing this allowed the removal of lots of crufty code and compat macros, e.g. all current compilers support \\`void\\` and \\`static\\` so wrapping them in defines is no longer needed.\n\n- Code cleanups.\n\n  - Number of \\`#ifdef FOO\\` has been cut down from 1938 to just 51, making the code much more readable since indentation isn't being interrupted every couple of lines. Compile options that weren't turned into birth options were removed as a result. Functions have been converted to use standard prototypes rather than pre-C89 K\\&R declarations. Ugly things like prototype widening and follow-on \\`FOO\\_P\\` defines were removed too. Thanks to these changes, tools like \\`git diff\\` can now correctly show what function a line is in.\n  - All instances of the \\`register\\` keyword have been removed since optimizing compilers handle this for us.\n  - NEARDATA has been removed since it only made sense on 16-bit computers.\n\n- New CMake-based build system.\n\n  - This removes the need to manually edit Makefiles and header files just to build the game.\n  - Provides safe parallel builds with colorized output on Linux, and generates Visual Studio project files that build without problems on Windows.\n\n## External links\n\n- [DynaHack website](https://tung.github.io/DynaHack/)\n- [GitHub project page](https://github.com/tung/DynaHack)\n- [Release post on /r/nethack](http://www.reddit.com/r/nethack/comments/1mvrdt/dynahack_050_new_nethack_variant_with_new_content/)\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>DynaHack - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"DynaHack\",\"wgTitle\":\"DynaHack\",\"wgCurRevisionId\":151115,\"wgRevisionId\":151115,\"wgArticleId\":22415,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Variants\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"DynaHack\",\"wgRelevantArticleId\":22415,\"wgRequestId\":\"2be2af37691d87475605e295\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"DynaHack is a variant of NitroHack maintained by tungtn. It features more content (from UnNetHack) and significant changes to its interface and gameplay compared to NetHack.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/DynaHack\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-DynaHack rootpage-DynaHack skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">DynaHack</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:302px;\"><a href=\"/wiki/File:Dynahack-more-menu-full.png\" class=\"image\"><img alt=\"\" src=\"/images/thumb/5/50/Dynahack-more-menu-full.png/300px-Dynahack-more-menu-full.png\" width=\"300\" height=\"155\" class=\"thumbimage\" srcset=\"/images/thumb/5/50/Dynahack-more-menu-full.png/450px-Dynahack-more-menu-full.png 1.5x, /images/thumb/5/50/Dynahack-more-menu-full.png/600px-Dynahack-more-menu-full.png 2x\" /></a>  <div class=\"thumbcaption\"><div class=\"magnify\"><a href=\"/wiki/File:Dynahack-more-menu-full.png\" class=\"internal\" title=\"Enlarge\"></a></div>Screenshot of DynaHack</div></div></div>\n<p><b>DynaHack</b> is a variant of <a href=\"/wiki/NitroHack\" title=\"NitroHack\">NitroHack</a> maintained by <a href=\"/wiki/User:Tungtn\" title=\"User:Tungtn\">tungtn</a>. It features more content (from UnNetHack) and significant changes to its interface and gameplay compared to <a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a>.\n</p><p>It can be downloaded ready-to-play on Windows, and can also be compiled to run on OS X and Linux.\n</p><p>It started life as <a href=\"/wiki/UnNetHack\" title=\"UnNetHack\">UnNetHack</a>'s content and gameplay transplanted onto NitroHack with its resizing ASCII interface, but has also come to roll in parts of <a href=\"/wiki/NetHack_4\" title=\"NetHack 4\">NetHack 4</a>, <a href=\"/wiki/GruntHack\" title=\"GruntHack\">GruntHack</a>, <a href=\"/wiki/UnNetHackPlus\" title=\"UnNetHackPlus\">UnNetHackPlus</a> and a few original changes.\n</p><p>DynaHack is available to play on <span id=\"hardfought.org\"><a class=\"external text\" href=\"https://www.hardfought.org/\">hardfought.org</a> (HDF)</span>.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Major_differences_to_NetHack\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Major differences to NetHack</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Changelog\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Changelog</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#DynaHack_0.6.0_.282016-02-17.2C_25aaf2a.29\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">DynaHack 0.6.0 (2016-02-17, 25aaf2a)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-4\"><a href=\"#Highlights\"><span class=\"tocnumber\">2.1.1</span> <span class=\"toctext\">Highlights</span></a></li>\n<li class=\"toclevel-3 tocsection-5\"><a href=\"#Character\"><span class=\"tocnumber\">2.1.2</span> <span class=\"toctext\">Character</span></a></li>\n<li class=\"toclevel-3 tocsection-6\"><a href=\"#Dungeon\"><span class=\"tocnumber\">2.1.3</span> <span class=\"toctext\">Dungeon</span></a></li>\n<li class=\"toclevel-3 tocsection-7\"><a href=\"#Wishing\"><span class=\"tocnumber\">2.1.4</span> <span class=\"toctext\">Wishing</span></a></li>\n<li class=\"toclevel-3 tocsection-8\"><a href=\"#Items\"><span class=\"tocnumber\">2.1.5</span> <span class=\"toctext\">Items</span></a></li>\n<li class=\"toclevel-3 tocsection-9\"><a href=\"#Monsters\"><span class=\"tocnumber\">2.1.6</span> <span class=\"toctext\">Monsters</span></a></li>\n<li class=\"toclevel-3 tocsection-10\"><a href=\"#Interface\"><span class=\"tocnumber\">2.1.7</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-11\"><a href=\"#Configuration\"><span class=\"tocnumber\">2.1.8</span> <span class=\"toctext\">Configuration</span></a></li>\n<li class=\"toclevel-3 tocsection-12\"><a href=\"#Miscellaneous\"><span class=\"tocnumber\">2.1.9</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-3 tocsection-13\"><a href=\"#Technical\"><span class=\"tocnumber\">2.1.10</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-14\"><a href=\"#DynaHack_0.5.5_.282014-01-16.2C_78d772a.29\"><span class=\"tocnumber\">2.2</span> <span class=\"toctext\">DynaHack 0.5.5 (2014-01-16, 78d772a)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-15\"><a href=\"#Technical_2\"><span class=\"tocnumber\">2.2.1</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-16\"><a href=\"#DynaHack_0.5.4_.282014-01-06.2C_34706ac.29\"><span class=\"tocnumber\">2.3</span> <span class=\"toctext\">DynaHack 0.5.4 (2014-01-06, 34706ac)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-17\"><a href=\"#Technical_3\"><span class=\"tocnumber\">2.3.1</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-18\"><a href=\"#DynaHack_0.5.3_.282013-12-24.2C_32216b3.29\"><span class=\"tocnumber\">2.4</span> <span class=\"toctext\">DynaHack 0.5.3 (2013-12-24, 32216b3)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-19\"><a href=\"#Character_2\"><span class=\"tocnumber\">2.4.1</span> <span class=\"toctext\">Character</span></a></li>\n<li class=\"toclevel-3 tocsection-20\"><a href=\"#Dungeon_2\"><span class=\"tocnumber\">2.4.2</span> <span class=\"toctext\">Dungeon</span></a></li>\n<li class=\"toclevel-3 tocsection-21\"><a href=\"#Items_2\"><span class=\"tocnumber\">2.4.3</span> <span class=\"toctext\">Items</span></a></li>\n<li class=\"toclevel-3 tocsection-22\"><a href=\"#Configuration_2\"><span class=\"tocnumber\">2.4.4</span> <span class=\"toctext\">Configuration</span></a></li>\n<li class=\"toclevel-3 tocsection-23\"><a href=\"#Miscellaneous_2\"><span class=\"tocnumber\">2.4.5</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-3 tocsection-24\"><a href=\"#Technical_4\"><span class=\"tocnumber\">2.4.6</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-25\"><a href=\"#DynaHack_0.5.2_.282013-10-07.2C_5f067e7.29\"><span class=\"tocnumber\">2.5</span> <span class=\"toctext\">DynaHack 0.5.2 (2013-10-07, 5f067e7)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-26\"><a href=\"#Saves\"><span class=\"tocnumber\">2.5.1</span> <span class=\"toctext\">Saves</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-27\"><a href=\"#DynaHack_0.5.1_.282013-09-28.2C_a1289c3.29\"><span class=\"tocnumber\">2.6</span> <span class=\"toctext\">DynaHack 0.5.1 (2013-09-28, a1289c3)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-28\"><a href=\"#Configuration_3\"><span class=\"tocnumber\">2.6.1</span> <span class=\"toctext\">Configuration</span></a></li>\n<li class=\"toclevel-3 tocsection-29\"><a href=\"#Technical_5\"><span class=\"tocnumber\">2.6.2</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-30\"><a href=\"#DynaHack_0.5.0_.282013-09-18.2C_65751e0.29\"><span class=\"tocnumber\">2.7</span> <span class=\"toctext\">DynaHack 0.5.0 (2013-09-18, 65751e0)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-31\"><a href=\"#Highlights_2\"><span class=\"tocnumber\">2.7.1</span> <span class=\"toctext\">Highlights</span></a></li>\n<li class=\"toclevel-3 tocsection-32\"><a href=\"#Character_3\"><span class=\"tocnumber\">2.7.2</span> <span class=\"toctext\">Character</span></a></li>\n<li class=\"toclevel-3 tocsection-33\"><a href=\"#Dungeon_3\"><span class=\"tocnumber\">2.7.3</span> <span class=\"toctext\">Dungeon</span></a></li>\n<li class=\"toclevel-3 tocsection-34\"><a href=\"#Wishing_2\"><span class=\"tocnumber\">2.7.4</span> <span class=\"toctext\">Wishing</span></a></li>\n<li class=\"toclevel-3 tocsection-35\"><a href=\"#Artifacts\"><span class=\"tocnumber\">2.7.5</span> <span class=\"toctext\">Artifacts</span></a></li>\n<li class=\"toclevel-3 tocsection-36\"><a href=\"#Items_3\"><span class=\"tocnumber\">2.7.6</span> <span class=\"toctext\">Items</span></a></li>\n<li class=\"toclevel-3 tocsection-37\"><a href=\"#Monsters_2\"><span class=\"tocnumber\">2.7.7</span> <span class=\"toctext\">Monsters</span></a></li>\n<li class=\"toclevel-3 tocsection-38\"><a href=\"#Interface_2\"><span class=\"tocnumber\">2.7.8</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-39\"><a href=\"#Configuration_4\"><span class=\"tocnumber\">2.7.9</span> <span class=\"toctext\">Configuration</span></a></li>\n<li class=\"toclevel-3 tocsection-40\"><a href=\"#Saves_2\"><span class=\"tocnumber\">2.7.10</span> <span class=\"toctext\">Saves</span></a></li>\n<li class=\"toclevel-3 tocsection-41\"><a href=\"#Miscellaneous_3\"><span class=\"tocnumber\">2.7.11</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-3 tocsection-42\"><a href=\"#Technical_6\"><span class=\"tocnumber\">2.7.12</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-43\"><a href=\"#NitroHack_4.0.4_.282012-02-19.2C_21b9774.29\"><span class=\"tocnumber\">2.8</span> <span class=\"toctext\">NitroHack 4.0.4 (2012-02-19, 21b9774)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-44\"><a href=\"#Interface_3\"><span class=\"tocnumber\">2.8.1</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-45\"><a href=\"#Miscellaneous_4\"><span class=\"tocnumber\">2.8.2</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-46\"><a href=\"#NitroHack_4.0.3_.282012-02-13.2C_3b9a876.29\"><span class=\"tocnumber\">2.9</span> <span class=\"toctext\">NitroHack 4.0.3 (2012-02-13, 3b9a876)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-47\"><a href=\"#Interface_4\"><span class=\"tocnumber\">2.9.1</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-48\"><a href=\"#Configuration_5\"><span class=\"tocnumber\">2.9.2</span> <span class=\"toctext\">Configuration</span></a></li>\n<li class=\"toclevel-3 tocsection-49\"><a href=\"#Miscellaneous_5\"><span class=\"tocnumber\">2.9.3</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-3 tocsection-50\"><a href=\"#Technical_7\"><span class=\"tocnumber\">2.9.4</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-51\"><a href=\"#NitroHack_4.0.2_.282012-02-05.2C_22c6cf3.29\"><span class=\"tocnumber\">2.10</span> <span class=\"toctext\">NitroHack 4.0.2 (2012-02-05, 22c6cf3)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-52\"><a href=\"#Dungeon_4\"><span class=\"tocnumber\">2.10.1</span> <span class=\"toctext\">Dungeon</span></a></li>\n<li class=\"toclevel-3 tocsection-53\"><a href=\"#Items_4\"><span class=\"tocnumber\">2.10.2</span> <span class=\"toctext\">Items</span></a></li>\n<li class=\"toclevel-3 tocsection-54\"><a href=\"#Interface_5\"><span class=\"tocnumber\">2.10.3</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-55\"><a href=\"#Configuration_6\"><span class=\"tocnumber\">2.10.4</span> <span class=\"toctext\">Configuration</span></a></li>\n<li class=\"toclevel-3 tocsection-56\"><a href=\"#Saves_3\"><span class=\"tocnumber\">2.10.5</span> <span class=\"toctext\">Saves</span></a></li>\n<li class=\"toclevel-3 tocsection-57\"><a href=\"#Network\"><span class=\"tocnumber\">2.10.6</span> <span class=\"toctext\">Network</span></a></li>\n<li class=\"toclevel-3 tocsection-58\"><a href=\"#Miscellaneous_6\"><span class=\"tocnumber\">2.10.7</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-3 tocsection-59\"><a href=\"#Technical_8\"><span class=\"tocnumber\">2.10.8</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-60\"><a href=\"#NitroHack_4.0.1_.282012-01-23.2C_855e8e6.29\"><span class=\"tocnumber\">2.11</span> <span class=\"toctext\">NitroHack 4.0.1 (2012-01-23, 855e8e6)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-61\"><a href=\"#Interface_6\"><span class=\"tocnumber\">2.11.1</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-62\"><a href=\"#Network_2\"><span class=\"tocnumber\">2.11.2</span> <span class=\"toctext\">Network</span></a></li>\n<li class=\"toclevel-3 tocsection-63\"><a href=\"#Miscellaneous_7\"><span class=\"tocnumber\">2.11.3</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-64\"><a href=\"#NitroHack_4.0.0_.282012-01-15.2C_f980165.29\"><span class=\"tocnumber\">2.12</span> <span class=\"toctext\">NitroHack 4.0.0 (2012-01-15, f980165)</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-65\"><a href=\"#Interface_7\"><span class=\"tocnumber\">2.12.1</span> <span class=\"toctext\">Interface</span></a></li>\n<li class=\"toclevel-3 tocsection-66\"><a href=\"#Options\"><span class=\"tocnumber\">2.12.2</span> <span class=\"toctext\">Options</span></a></li>\n<li class=\"toclevel-3 tocsection-67\"><a href=\"#Items_5\"><span class=\"tocnumber\">2.12.3</span> <span class=\"toctext\">Items</span></a></li>\n<li class=\"toclevel-3 tocsection-68\"><a href=\"#Monsters_3\"><span class=\"tocnumber\">2.12.4</span> <span class=\"toctext\">Monsters</span></a></li>\n<li class=\"toclevel-3 tocsection-69\"><a href=\"#Autopickup\"><span class=\"tocnumber\">2.12.5</span> <span class=\"toctext\">Autopickup</span></a></li>\n<li class=\"toclevel-3 tocsection-70\"><a href=\"#Dungeon_overview\"><span class=\"tocnumber\">2.12.6</span> <span class=\"toctext\">Dungeon overview</span></a></li>\n<li class=\"toclevel-3 tocsection-71\"><a href=\"#Character_history_tracking\"><span class=\"tocnumber\">2.12.7</span> <span class=\"toctext\">Character history tracking</span></a></li>\n<li class=\"toclevel-3 tocsection-72\"><a href=\"#Dumplog\"><span class=\"tocnumber\">2.12.8</span> <span class=\"toctext\">Dumplog</span></a></li>\n<li class=\"toclevel-3 tocsection-73\"><a href=\"#Interactive_replays\"><span class=\"tocnumber\">2.12.9</span> <span class=\"toctext\">Interactive replays</span></a></li>\n<li class=\"toclevel-3 tocsection-74\"><a href=\"#Miscellaneous_8\"><span class=\"tocnumber\">2.12.10</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-3 tocsection-75\"><a href=\"#Technical_9\"><span class=\"tocnumber\">2.12.11</span> <span class=\"toctext\">Technical</span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-76\"><a href=\"#External_links\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">External links</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Major_differences_to_NetHack\">Major differences to NetHack</span></h2>\n<ul><li>Over 80 new special level layouts.</li>\n<li>Revamped Gehennom with less mazes and more caverns and special levels.</li>\n<li>Auto-resizing ASCII interface with multi-line message box, inventory side-bar, colored statuses and HP/Pw bars.</li>\n<li>Item action command menus, selectable from inventory.</li>\n<li>Detailed monster info with AC, resistances, attacks, etc. (press '/' and target with ';').</li>\n<li>Automatically-tracked dungeon overview (Ctrl-O) and resistances (Ctrl-X).</li>\n<li>Auto-unlock for doors and boxes, and auto-loot for boxes after auto-unlocking them.</li>\n<li>Enhanced travel that walks around peaceful monsters and works in Sokoban.</li>\n<li>Protection from walking into known traps/water/lava (optional).</li>\n<li>Random magical equipment, e.g. short sword of fire.</li>\n<li>Cross-training for related weapon skills.</li>\n<li>Hitting with a weapon may reveal its enchantment.</li>\n<li>Better ammo stacking and turn-free weapon swapping for ranged combat.</li>\n<li>Polearms are no longer restricted in melee combat.</li>\n<li>Responses to infinite pudding farming and throne farming.</li>\n<li>Plus a whole lot more...</li></ul>\n<h2><span class=\"mw-headline\" id=\"Changelog\">Changelog</span></h2>\n<h3><span id=\"DynaHack_0.6.0_(2016-02-17,_25aaf2a)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.6.0_.282016-02-17.2C_25aaf2a.29\">DynaHack 0.6.0 (2016-02-17, 25aaf2a)</span></h3>\n<p>DynaHack 0.6.0 marks a large departure from the 0.5.x series by introducing\nquite a few gameplay and content changes aimed at eliminating tedium, improving\nfairness, and increasing tactical and strategic variety.\n</p><p>As always, changes in DynaHack tend to lean in favor of the player more\noften than not, so players of all skill levels will find something to\nappreciate.\n</p>\n<h4><span class=\"mw-headline\" id=\"Highlights\">Highlights</span></h4>\n<ul><li>New body armor and shield skills: grants bonus AC and MC; heavier suits of armor and shields get bigger bonuses and train the skills faster.</li>\n<li>Magic chests!  Any item put into a magic chest can be looted out of any other magic chest in the dungeon, placed at set locations.  This eliminates tedious stash consolidation and transporting of items to and from stashes and fixed dungeon resources like altars, shops and water.</li>\n<li>Mazes completely removed from Gehennom!</li>\n<li>New resistance system: resistances gained from corpses and crowning only provide partial protection.</li>\n<li>Reflection no longer reflects breaths (except disintegration).</li>\n<li>Instant petrification completely replaced with delayed petrification: you will always have a few turns to save yourself from instant death.</li>\n<li>Drawbridge instant death removed: drawbridges can only be destroyed by force bolts when closed, not open.</li>\n<li>Extra turn before drowning attack instant death.  Players upgrading from an older version of DynaHack should adjust their `msgtype` as described in the Configuration section of this changelog.</li>\n<li>Zombie corpses may revive (lower chance if playing a priest).</li>\n<li>Sokoban prizes moved to Mines End, making Sokoban much more optional.</li>\n<li>Nymph level moved into Town branch; Town shops are larger to compensate.</li>\n<li>Effect of skills on to-hit and damage raised in general.</li>\n<li>Items that are spawned with a magical property have a much higher chance of being spawned with additional properties.</li>\n<li>Slings now get damage bonuses from strength and enchantment.</li>\n<li>Spells can be aborted at direction, position and item prompts without using power or hunger.</li>\n<li>New `repeat_prefix` keymap and `repeat_num_auto` option for people accustomed to NetHack's classic number key movement scheme.</li>\n<li>New `msg_per_line` option: Shows each message on a new line in the message area when enabled.</li>\n<li>Potion color alchemy improved in favor of players, making it more of an alternative to NetHack's alchemy instead of a nerf.</li>\n<li>Curses on armor, jewelry and eyewear are now revealed when they are worn instead of when trying to take them off.</li>\n<li>More messages for things that used to happen silently: uncontrolled teleportation, finding secret doors/corridors while searching, items becoming randomly cursed.</li>\n<li>Iron bars can be destroyed by acid or eaten by certain monsters.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Character\">Character</span></h4>\n<ul><li>Resistances gained from corpses and crowning only provide partial protection, and resistances from your race/role or from worn equipment are immunities (based on L's partial resistance patch).  Exact partial resistance effects:\n<ul><li>fire, cold, shock: half damage</li>\n<li>sleep: half duration, doubled chance of awakening in case of combat</li>\n<li>disintegration: 90% chance of resisting</li>\n<li>poison: half damage, having any protects against other effects</li>\n<li>As a side effect of this patch, negative AC and half physical damage resistance no longer reduce damage from fire, cold, shock or acid attacks.</li></ul></li>\n<li>Reflection no longer reflects breaths; disintegration breath is treated as a beam to prevent unfair deaths due to this change.  The breath graphic has been changed accordingly.</li>\n<li>Changes to skills:\n<ul><li>New body armor skill:\n<ul><li>Body armor skill grants bonus AC and MC for suits of body armor based on their weight and capped by your skill, as well as weight reduction for worn body armor.</li>\n<li>Grants (weight / 50 - 2) bonus AC for body armor capped at +2 at basic, +4 at skilled and +7 at expert.</li>\n<li>Grants (weight / 100 - 1) minimum MC for body armor capped at MC1 at basic, MC2 at skilled and MC3 at expert.</li>\n<li>Reduces weight of worn body armor heavier than leather armor (150wt) according to the difference: 25% at basic, 50% at skilled and 75% at expert, e.g. plate mail (450wt) only weighs 225wt at expert skill. This reduced weight does not affect the AC or MC bonuses above.</li>\n<li>Trains to expert in between 16k and 24k turns; wearing heavier suits of body armor speeds up training.</li>\n<li>Maximum skill levels:\n<ul><li>Expert: Knight, Samurai</li>\n<li>Skilled: Barbarian, Convict, Priest, Ranger, Valkyrie</li>\n<li>Basic: Archeologist, Caveman, Rogue, Tourist</li>\n<li>Restricted: Healer, Monk, Wizard</li>\n<li>Unlike weapon skills, body armor skill always starts at unskilled.</li></ul></li></ul></li>\n<li>New shield skill:\n<ul><li>Shield skill grants bonus AC and MC for shields based on their weight and base AC, and is capped by your skill.</li>\n<li>Grants (weight / 20 + base AC) bonus AC for shields capped at +2 at basic, +4 at skilled and +7 at expert.</li>\n<li>Grants (base AC + [1 if weight &gt; 50]) minimum MC for shields capped at MC1 at basic, MC2 at skilled and MC3 at expert.</li>\n<li>Trains to expert in between 11.2k and 16.8k turns; wearing heavier shields speeds up training.</li>\n<li>Maximum skill levels:\n<ul><li>Expert: Knight, Priest, Valkyrie</li>\n<li>Skilled: Archeologist, Barbarian, Ranger, Rogue, Samurai</li>\n<li>Basic: Caveman, Convict, Tourist</li>\n<li>Restricted: Healer, Monk, Wizard</li>\n<li>Unlike weapon skills, shield skill always starts at unskilled.</li></ul></li></ul></li>\n<li>Martial arts and bare-handed combat now get to-hit bonuses from skills just as weapons do (from SporkHack).</li>\n<li>Allow 1-damage hits to still train relevant skills; in NetHack, hitting with a weapon at unskilled gives -2 to damage, so weapons that couldn't roll at least a 4 on damage wouldn't be trained at all!</li>\n<li>Accelerate heavyshot skill training: hitting with a heavyshot weapon trains the relevant skill by 1dX points similar to its damage multiplier.</li>\n<li>Training of spellcasting skills restored to NetHack values: 20/80/180 for basic/skilled/expert (was 100/200/400).</li>\n<li>Effect of skills on to-hit and damage raised in general (from dNetHack):\n<ul><li>Expert weapon skill gives +5/+3 to-hit/damage (was +3/+2).</li>\n<li>Expert two-weapon skill gives -2/+2 to-hit/damage (was -3/+1).</li>\n<li>Skilled riding gives +2 to damage (was +1).</li>\n<li>Expert riding gives +2/+5 to-hit/damage (was +0/+2).</li>\n<li>Restricted weapon skill gives -5 to damage (was -2).</li></ul></li>\n<li>Feeling more confident in your skills now interrupts multi-turn actions.</li>\n<li>Unskilled no longer causes thrown/fired projectiles to slip due to low skill level; this is now limited to restricted skill.</li>\n<li>Allow monks to reach expert skill in shuriken.</li></ul></li>\n<li>Increased sling damage: slings now get the strength damage bonus (otherwise reserved for melee) and sling enchantment affects damage of fired projectiles (normally launcher enchantment only affects to-hit); their damage now even competes with thrown daggers!</li>\n<li>Change effect of luck on to-hit to +(Luck / 3) across the board (previously it was +Luck to everything except melee; from SporkHack).</li>\n<li>Spells can be aborted at direction, position and item prompts without using power or hunger.</li>\n<li>Teleport control allows teleportation to be cancelled without using a turn and in the case of deliberate teleports consuming hunger.</li>\n<li>Punishment (i.e. being attached to a ball and chain) no longer stops you from displacing pets.</li>\n<li>Movement at low HP (less than 10, or 5 if polymorphed) is stopped at strained (the same encumbrance that causes HP loss on movement) instead of stressed, which simplifies the relationship between encumbrance, HP loss and stopped movement a bit:\n<ul><li>Before:\n<ul><li>Stressed\n<ul><li>cannot move with less than 10 HP (5 if polymorphed)</li></ul></li>\n<li>Strained\n<ul><li>lose 1 HP every 30 turns if moving</li>\n<li>lose 1 HP every 3 turns if attacking</li></ul></li></ul></li>\n<li>After:\n<ul><li>Strained\n<ul><li>cannot move with less than 10 HP (5 if polymorphed)</li>\n<li>lose 1 HP every 30 turns if moving</li>\n<li>lose 1 HP every 3 turns if attacking</li></ul></li></ul></li></ul></li>\n<li>Rogues start with a +1 short sword (was +0).</li>\n<li>Samurai start with a +3 wakizashi (was +0), which slightly out-damages their starting +0 katana.</li>\n<li>Player vampires no longer try to drink blood when biting or abuse dexterity while satiated (from UnNetHack).</li>\n<li>Player vampires may bite petrifying, sliming or disintegrating monsters if stunned, confused or hallucinating (from UnNetHackPlus).\n<ul><li>Players polymorphed into mind flayers will stop themselves from biting petrifying, sliming and disintegrating monsters, as long as they are not stunned, confused or hallucinating (from UnNetHackPlus).</li></ul></li>\n<li>Prevent player vampires from trying and consequently failing to bite shades.</li>\n<li>Show message when trying and failing to engulf a huge monster while polymorphed as an engulfing monster (from UnNetHackPlus via UnNetHack).</li>\n<li>Fix C343-238: \"(Unix and VMS only) The 'Who are you?' prompt does not accept digits in the response.\"  The official bug description is inaccurate: it's names that START with a digit that aren't accepted by vault guards, and it applies to all platforms.</li>\n<li>Fix ring of sustain ability blocking -1 strength change when becoming weak from hunger, allowing it to be exploited to gain strength on demand.</li>\n<li>Fix off-hand weapon properties remaining after ending two-weapon combat.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Dungeon\">Dungeon</span></h4>\n<ul><li>New dungeon feature: magic chests!\n<ul><li>Any item placed in a magic chest can be looted out of any other magic chest in the dungeon, removing the need to consolidate stashes.</li>\n<li>Magic chests are placed in set locations near useful resources such as altars, shops and water, reducing the distance that items need to be hauled to such resources.  The set locations are:\n<ul><li>Minetown</li>\n<li>Sokoban entry level</li>\n<li>Fort Ludios</li>\n<li>Quest home level</li>\n<li>Castle</li>\n<li>Valley of the Dead</li>\n<li>Orcus-town</li>\n<li>Fake Wizard's Tower</li></ul></li>\n<li>Magic chests are fixed to the ground and therefore cannot be tipped.</li>\n<li>Attempting to put a corpse set to revive into a magic chest will revive it immediately, to prevent exploiting them to get rid of such corpses.</li></ul></li>\n<li>New trap type: shuriken traps, which only appear in quest levels of certain roles.  Replaces dart traps in monk and samurai quests, and also sometimes for ranger and rogue quests.</li>\n<li>Changes to quest levels:\n<ul><li>Add guaranteed tinning kit to the Valkyrie quest home level to give players an alternative to eating giant corpses whole for strength and waiting out the satiation outside of the quest portal.</li>\n<li>Remove squeeze gap in Caveman quest home level.</li>\n<li>Redesign Ranger quest home level with a more organic layout and wider corridors (from dNetHack, originally by Khor).\n<ul><li>Redesign Ranger quest goal level with water, trees and an altar (dNetHack).</li></ul></li></ul></li>\n<li>Changes to standard rooms-and-corridors level generation:\n<ul><li>Grid room level style (from K-Mod).</li>\n<li>Raise chance of special rooms-and-corridors level style from 10% to 20%.</li></ul></li>\n<li>Changes to Medusa's Island:\n<ul><li>Give the shortsighted flag to new Medusa's Island levels from UnNetHack, to reduce swarming from ravens/snakes turning those levels into glorified Big Rooms with more water.</li>\n<li>The shield of reflection in the statue of Perseus now has the same chance of being blessed or cursed as any other item, instead of being cursed or uncursed with the probability based on the map encountered.</li></ul></li>\n<li>Changes to Gehennom:\n<ul><li>Mazes completely removed from Gehennom!  Both fill levels and filler around special levels consist of lava caverns.</li>\n<li>Add demon lairs for Geryon, Dispater, and Yeenoghu (from GruntHack).</li></ul></li>\n<li>Changes to the Town branch:\n<ul><li>Nymph level is now guaranteed and appears between the Town surface and filler levels.\n<ul><li>Nymph level no longer contains traps (squeaky board or otherwise).</li>\n<li>90% of spawns on the Nymph level are nymphs and leprechauns.</li></ul></li>\n<li>Town surface level has larger shops.</li></ul></li>\n<li>Changes to Vlad's Tower:\n<ul><li>New entrance level to Vlad's Tower with trees, water, vampires, zombies, ravens and a drawbridge entrance leading to the traditional tower levels (from dNetHack).</li></ul></li>\n<li>Changes to the End Game:\n<ul><li>Moving on the Plane of Air is generally much easier, as it now only stops movement when failing a d20 roll against your dexterity (was previously 75% of the time for all characters).</li></ul></li>\n<li>Sokoban prizes moved to Mines End; the end of Sokoban now has a guaranteed sack containing 8 rings and wands (the ring and wand on each level has been removed as a result).  This makes Sokoban much more optional in DynaHack than it is in NetHack.</li>\n<li>Remove lava from one of the versions of the Castle level.</li>\n<li>Levels between Medusa's Island and the Castle are now water caverns instead of lava caverns, and have less evil monsters.</li>\n<li>Allow magic mapping of the Valley of the Dead and the last Dragon Caves level.</li>\n<li>Iron bars can be dissolved by acid (from UnNetHack).</li>\n<li>Destroying iron bars in Sokoban counts against its shortcut conduct.</li>\n<li>Drawbridge instant death removed: drawbridges can only be destroyed by force bolts when closed, not open.</li>\n<li>Prevent magic traps from being created above dungeon level 5.</li>\n<li>Reduce initial scuffing of randomly-placed engravings to increase the chance that they can be read when they're first encountered.</li>\n<li>Fix the cosmetic issue of horizontally-flipped levels appearing slightly misaligned in the map area.</li>\n<li>Fix waking monsters level-wide when entering courts, swamps, morgues, zoos and nymph gardens for the first time without stealth; only monsters in the room being entered have a chance of being woken.</li>\n<li>Fix tracking of upward branches with `#history`, and make a note when entering any new level and not just deeper ones (from NetHack4).</li></ul>\n<h4><span class=\"mw-headline\" id=\"Wishing\">Wishing</span></h4>\n<ul><li>Wands of wishing are generated with at least one charge (1-3 instead of 0-2, from UnNetHack 5).</li>\n<li>Players can wish for up to (and including) 100 projectiles (from UnNetHackPlus via UnNetHack).</li>\n<li>New alternate spellings recognized by the wish parser:\n<ul><li>\"wolfsbane\" (sprig of wolfsbane)</li>\n<li>\"scroll of teleport\" (scroll of teleportation)</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Items\">Items</span></h4>\n<ul><li>New item: silver short sword (SLASH'EM), d6 damage (d8 vs. large), weight 36.</li>\n<li>Potion color alchemy improved in favor of players, making it more of an alternative to NetHack's alchemy instead of a nerf:\n<ul><li>All color-based random potion descriptions are now guaranteed to map to an in-game potion.  Previously, with 25 random potions and 37 descriptions for them, some colors would fall into the gap, making it impossible to use them in alchemy and cutting out useful mixtures.</li>\n<li>Potions of full healing, gain level and gain ability are guaranteed to map to secondary colors (i.e. puce, magenta, orange, amber, emerald, dark green) or the browns (i.e. ochre, brown), so they will always be the outcome of some alchemy combinations.</li></ul></li>\n<li>More formal identification for items under certain circumstances:\n<ul><li>Formal ID tin whistles and magic whistles when used.</li>\n<li>Formal ID magic flutes and magic harps when used.</li>\n<li>Formal ID enchant armor scrolls when they turn dragon scales into dragon scale mail.</li>\n<li>Formal ID rings of stealth and elven cloaks when wearing or taking them off gives or takes away stealth, to make them consistent with elven boots.</li></ul></li>\n<li>Changes to the Amulet of Yendor:\n<ul><li>Amulet of Yendor need only be carried to give hints about nearby magic portals, instead of having to wield or wear it (from SporkHack).</li>\n<li>Amulet of Yendor has a much higher chance of giving hints about nearby magic portals, and may map/detect them if carried in inventory.</li>\n<li>Amulet of Yendor no longer teleports when dropped.</li></ul></li>\n<li>Guarantee a wand of cancellation in the Castle chest that can be used for blanking scrolls and potions.</li>\n<li>The shield of reflection now weighs 50 (was 75) due to the introduction of the new shield skill.</li>\n<li>Wielding or unwielding a weapon of stealth identifies the stealth property on that weapon and gives identifying messages similar to wearing other items that grant stealth.</li>\n<li>Hitting a monster with a weapon of stealth identifies the stealth property on that weapon.</li>\n<li>Improve stacking of random candles by removing random chance of them being blessed or cursed (from AceHack).  Between wax and tallow candles, and blessed, uncursed and cursed status, an inventory could be filled with 6 different candle stacks, even with DynaHack's improved item stacking!</li>\n<li>Grant +1 to-hit for all short swords (from K-Mod).</li>\n<li>Allow knife and stiletto as possible tin-opening tools (from K-Mod).</li>\n<li>Items that are spawned with a magical property have a much higher chance of being spawned with additional properties.</li>\n<li>The \"magical\" prefix on items is only omitted once all properties on it have been identified instead of once any of them have been, making it easier to discover items that have more than one property.</li>\n<li>Show which hand a ring of levitation was on when a sink forcefully removes it.</li>\n<li>Rings with enchantment +3 or lower no longer have a chance of exploding when charged, and rings at -5 or lower will only explode from cursed charging (from SporkHack).\n<ul><li>Remove ring destruction from shock damage.</li></ul></li>\n<li>Quest artifacts that are spawned at the final level of the Quest will be generated fixed/erodeproofed.</li>\n<li>Having free action reduces paralysis from using a crystal ball from 1-10 turns down to 1-2.</li>\n<li>Land mines and beartraps weigh less (200/100 respectively, previously 300/200; from UnNetHackPlus via UnNetHack).</li>\n<li>Changes to shuriken:\n<ul><li>Shuriken no longer break when thrown at monsters.</li>\n<li>Shuriken now weigh 3 (previously 1) and cost 10 zorkmids (previously 5).</li></ul></li>\n<li>Crossbow bolts only break half as often as other projectiles when fired at and hitting monsters.</li>\n<li>Fire, cold and shock immunity prevent item destruction.\n<ul><li>Wearing a cloak of protection prevents 80% of all item destruction.</li></ul></li>\n<li>Fix prefixes like \"magical\" and \"prize\" not appearing on rings, wands, spellbooks and iron balls under certain circumstances.</li>\n<li>Fix C343-146: \"Unseen wand of striking becomes known if zapped by unseen monster and it hits a door.\"</li>\n<li>Fix wielding of a cockatrice corpse bare-handed while wearing chromatic dragon scales or scale mail not triggering petrification.</li>\n<li>Fix leaking of descriptions of prizes selected from level memory with far-look after the prize itself has vanished.</li>\n<li>Fix contents of containers created on special levels not being included in the initial container weight.</li>\n<li>Fix completely eroded armor being destroyed by further erosion when greased or erodeproofed.</li>\n<li>Fix crash when item is unequipped or lost while being equipped (from NetHack4).\n<ul><li>Fix ring worn message being shown after it is forcefully removed by a sink when wearing a ring of levitation over a sink.</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Monsters\">Monsters</span></h4>\n<ul><li>Instant petrification completely replaced with delayed petrification: you will always have a few turns to save yourself from instant death.</li>\n<li>Drowning attacks give two turns for players to react before instant death (was one turn); a monster \"pulls you towards the water\" before it drowns you.</li>\n<li>Zombie corpses may revive (lower chance if playing a priest).</li>\n<li>All eels in water can now be seen from afar, like other monsters.</li>\n<li>Metallivores and disintegrators can eat through iron bars (from UnNetHack).</li>\n<li>Allow Demogorgon to be bribed.</li>\n<li>Tone back demon bribery amounts inherited from UnNetHack: demons now only ask for 1000 to 2000 gold.\n<ul><li>Giving within 80% of the money demanded for a demon bribe succeeds between 25% to 75% of the time depending on how close your offer is to the demanded amount.</li></ul></li>\n<li>Tone back 1-to-1 initial monster population difficulty inherited from NetHack4: it is now only like that for the first 10 levels, then 1-to-2 for the remainder.  This gives a progression similar to that of NetHack.</li>\n<li>Tone back on the effect of a monster's level on its raw spell damage; otherwise Asmodeus cold spell-casting attack could do over twice the damage of Master Kaen without cold resistance, which is too much even for overprepared characters.</li>\n<li>Gnomes that spawn with candles will only get a single candle instead of a whole stack of candles.</li>\n<li>Pets never displace the player from the stairs when entering a level.</li>\n<li>Ninja have a 50% chance of being spawned with some shuriken.</li>\n<li>Remove distintegrators.</li>\n<li>Nymphs always generate asleep (was 80%).</li>\n<li>Fix monsters getting your racial armor bonuses instead of theirs.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Interface\">Interface</span></h4>\n<ul><li>More messages for things that used to happen silently:\n<ul><li>Show message when teleported without teleport control.</li>\n<li>Show message when searching finds secret doors or corridors.</li>\n<li>Show messages for and reveal BUC of items that are randomly cursed by e.g. the Wizard of Yendor or sitting on a throne with bad luck.</li>\n<li>Show a message of the identity of whistles and instruments when they are discovered on use.</li>\n<li>Show message when pets or other monsters grow up (from SLASH'EM Extended).</li>\n<li>Attacking with a weapon of stealth, as well as with a knife while stealthy, gives a message that you \"silently hit\" or \"silently kill\" monsters, hinting at options for fighting without awakening nearby monsters.  These messages are new, but the mechanic itself is not.</li></ul></li>\n<li>Make wearing and taking off messages more descriptive, e.g. \"You finish taking off a +0 leather armor\" instead of \"You finish taking off your suit.\"</li>\n<li>Curses on armor, jewelry and eyewear are now revealed when they are worn instead of when trying to take them off.</li>\n<li>Skill training progress is now visible in the `#enhance` menu, e.g. \"long sword [basic] 20%\" means the long sword skill is 20% of the way to advancing to skilled.\n<ul><li>Mark skills that have reached their maximum as \"MAX\", and show it as soon as the level is reached.</li>\n<li>Suppress \"0%\" in `#enhance` menu for untrained skills.</li>\n<li>Show skill caps in `#enhance` menu, e.g. \"long sword [basic / expert]\".</li>\n<li>Show skill slot cost to enhance skills when choosing a skill from the `#enhance` menu, e.g. \"Enhance knife to Basic for 1 slot (2 slots left)? [yn] (n)\"</li></ul></li>\n<li>Show your character's race, role, gender and alignment when asked to enter a name for that character (based on the same change in NetHack4).</li>\n<li>Highlight lit light sources in item listings, e.g. inventory sidebar.</li>\n<li>Adjust `safe_water` and `safe_lava` behavior: they only warn of walking into such hazards in your INPUTTED direction, but won't stop you if stunning or confusion causes you to stumble sideways into them.</li>\n<li>Show the tombstone on death even if skipping disclosure information.\n<ul><li>Extend the tombstone by a line for longer death causes, e.g. \"petrified by kicking a chickatrice corpse\".</li></ul></li>\n<li>Allow aborting of position prompts for jumping, polearm pounding, grappling hooks, scrolls of stinking cloud (still consumes the scroll), paying with multiple shopkeepers in sight and spells of fireball and cone of cold.</li>\n<li>Dungeon `#overview` can toggle showing levels with no notable features.\n<ul><li>Dungeon `#overview` no longer exits after viewing a single level.</li></ul></li>\n<li>Make extended command prompt case insensitive, like NetHack's (from NetHack4).</li>\n<li>Change default corridor character back to `#` in Unicode graphics mode.</li>\n<li>Show warning level 0 for very weak monsters when the player has a source of warning (previously these monsters were not shown at all).</li>\n<li>Pressing escape at \"--More--\" now shows the last messages in the message area instead of simply cutting them off.</li>\n<li>Improve numpad key recognition for default PuTTY configuration where application keypad mode is enabled by default.</li>\n<li>Fix the color of the Wizard's Tower walls when viewed from another level using the `Ctrl-O` dungeon overview.</li>\n<li>Fix \"T - take off\" not appearing in the item action menu of meat rings.</li>\n<li>Fix coordinates reported when getting a position from the player.</li>\n<li>Fix Rogue level graphics leaking onto other levels when Unicode graphics option is set but Unicode support is not detected.</li>\n<li>Fix ugly borders in PuTTY by replacing ncurses box drawing characters with Unicode box drawing characters.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Configuration\">Configuration</span></h4>\n<ul><li>New `repeat_prefix` in the `keymap` option: Custom key to begin entering repeat prefixes for commands, e.g. set to \"n\" so \"n20s\" searches for 20 turns.</li>\n<li>New `repeat_num_auto` option: toggle whether or not pressing a number key automatically begins entering repeat prefixes; people who have a habit of using the top-row number keys for diagonal movement can toggle this option off and map those keys to the movement commands under the `keymap` option.</li>\n<li>New `msg_per_line` option: Shows each message on a new line in the message area when enabled; can improve readability of messages when the message area is large.</li>\n<li>\"* pulls you towards the water!\" mapped to MORE action under `msgtype` submenu option for the message given in the new extra turn before monster drowning attacks.</li>\n<li>Frames and borders now respect the 'graphics' option, using Unicode box drawing characters in Unicode mode, and ASCII replacements in plain mode.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous\">Miscellaneous</span></h4>\n<ul><li>Scramble some words in messages on April Fools Day (from NAO).</li>\n<li>Fix end-of-game scores for non-ascending games being doubled like ascending ones.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical\">Technical</span></h4>\n<ul><li>xlogfile patch (via NetHack 4).</li>\n<li>Allow certain directories to be customized on game launch:\n<ul><li>`-H &lt;dir&gt;` to set the data dir (e.g. nhdat, license)</li>\n<li>`-V &lt;dir&gt;` to set the var data \"playground\" dir (e.g. xlogfile, bones)</li>\n<li>`-U &lt;dir&gt;` to set the user dir (e.g. player saves and config files)</li></ul></li>\n<li>Set file permissions on *nix-like operating systems (e.g. Linux and OS X) to 644 for player config files, preserved save log files, dumplogs, `logfile`, `xlogfile` and `record`.</li>\n<li>Rename launch script for *nix-like operating systems (e.g. Linux and OS X) from `dynahack` to `dynahack.sh` to prevent it from overwriting the actual game or confusing and being ignored by the installation system in case the build system is accidentally set with identical `SHELLDIR` and `BINDIR` paths.</li>\n<li>Replace `LD_LIBRARY_PATH` in `dynahack.sh` *nix-like launch script with an rpath configured on the `dynahack` binary.</li>\n<li>Allow `INSTALL_BASE` to be passed to the initial cmake invocation to quickly set `BINDIR`, `LIBDIR`, `DATADIR` and `SHELLDIR` to sensible default paths under it.</li>\n<li>Clean up timer debugging code a bit.</li>\n<li>Limit name of character to `PL_NSIZ` bytes.</li>\n<li>Clear and redraw the screen every 100 turns to stop dgamelaunch from replaying the entire session when trying to spectate a game.</li>\n<li>Improvements to static builds (i.e. build configured with `ALL_STATIC` enabled):\n<ul><li>`-fPIC` no longer included with static builds.</li>\n<li>`libnitrohack.a` no longer installed with static builds, since it's already rolled into the game binary.</li></ul></li>\n<li>Treat improperly-truncated save files like crashed ones, instead of trying and failing to load/restore them.</li>\n<li>Verify integrity of timers and light sources attached to monsters and objects to prevent unloadable save files.\n<ul><li>Fix timers being transferred into timer chains out-of-order (NetHack 4).</li></ul></li>\n<li>Fix warning when leaving bones while wielding an attached heavy iron ball.</li>\n<li>Fix infinite loop when placing a branch entrance on joined cavern levels.</li>\n<li>Allow SPILL lev_comp command to accept 0 as a size for e.g. breaking holes in cavern walls.</li>\n<li>Fix some replay desyncs due to uninitialized data.</li>\n<li>Prevent random chance of same-race polymorph in wizard mode.</li>\n<li>lev_comp: New `prize` flag for `OBJECT` statements, denoting objects that should be considered a prize of that level; prizes are ignored by monsters, don't fall down holes, are ignored by autopickup, and picking up a prize causes other prizes on that level to vanish.</li>\n<li>Fix crash in encumbrance display due to weight underflow e.g. when wishing for 12 million (12 with six zeros) loadstones in wizard mode.</li>\n<li>Fix \"bad fruit\" warnings when slime mold is in inventory while inventory sidebar is updated while saving bones.</li>\n<li>Fix handling of end-of-line comments in `DynaHack.conf` and `curses.conf`.</li>\n<li>Prevent some potential unbounded reads by placing limits on \"%s\" format specifiers in `scanf()` family functions used while reading save file headers.</li>\n<li>Prevent infinite looping for disconnected player input by aborting, in case the hangup signal handler doesn't abort for some reason.</li>\n<li>Force cursor to be visible after quitting the game.</li>\n<li>Convert inversed 10-minus-AC D&amp;D-style armor values with just the armor's regular AC value in `src/objects.c`.</li></ul>\n<h3><span id=\"DynaHack_0.5.5_(2014-01-16,_78d772a)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.5.5_.282014-01-16.2C_78d772a.29\">DynaHack 0.5.5 (2014-01-16, 78d772a)</span></h3>\n<p>DynaHack 0.5.5 was a bugfix release for a potential crash with items contained\nin statues interacting with the timer-related fixes in the previous releases.\n</p>\n<h4><span class=\"mw-headline\" id=\"Technical_2\">Technical</span></h4>\n<ul><li>Prevent a crash when the timer-related fixes of the past couple of releases touched items contained in statues due to the latter's failure to correctly set their level.</li></ul>\n<h3><span id=\"DynaHack_0.5.4_(2014-01-06,_34706ac)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.5.4_.282014-01-06.2C_34706ac.29\">DynaHack 0.5.4 (2014-01-06, 34706ac)</span></h3>\n<p>DynaHack 0.5.4 was a hotfix release for a timer-related issue.\n</p>\n<h4><span class=\"mw-headline\" id=\"Technical_3\">Technical</span></h4>\n<ul><li>Fix lights and timers failing to follow the items they were attached to when the items were moved between levels, causing affected games to fail to load.</li></ul>\n<h3><span id=\"DynaHack_0.5.3_(2013-12-24,_32216b3)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.5.3_.282013-12-24.2C_32216b3.29\">DynaHack 0.5.3 (2013-12-24, 32216b3)</span></h3>\n<p>DynaHack 0.5.3 was a bugfix release that fixed a panic when loading a game with\ntimed items in the Advent Calendar as well as a few other bugs, and adds the\nnew `darkmsg` option to control whether past messages are darkened.\n</p>\n<h4><span class=\"mw-headline\" id=\"Character_2\">Character</span></h4>\n<ul><li>Fix warning when trying to take off merged dragon skin.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Dungeon_2\">Dungeon</span></h4>\n<ul><li>Prevent the Advent Calendar exit portal from being created in one of its closets (from UnNetHack).</li></ul>\n<h4><span class=\"mw-headline\" id=\"Items_2\">Items</span></h4>\n<ul><li>Various `#tip` fixes from the same feature in UnNetHack:\n<ul><li>Tipping a trapped container triggers the trap.</li>\n<li>Fix tipping of a zero-charge bag of tricks being used as a normal bag.</li>\n<li>Prevent autopickup from picking up tipped items.</li>\n<li>Observe cat when tipping boxes dropped by quantum mechanics.</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Configuration_2\">Configuration</span></h4>\n<ul><li>`darkmsg` option: toggle whether or not older messages are colored dark blue in the message box.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_2\">Miscellaneous</span></h4>\n<ul><li>Fix blank lines being eaten when viewing license and version history in-game.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical_4\">Technical</span></h4>\n<ul><li>Fix billing of items in nested containers and crediting of contained gold in the deep recesses of the shop code that could lead those things suddenly and silently becoming shopkeeper property, even if they didn't typically sell them!</li>\n<li>Fix utilities updating but failing to rebuild the data files that depended on them; stale data files like the ones packaged with DynaHack 0.5.0 should be a thing of the past.</li>\n<li>Fix crash when positioning a revived monster on entering a level.</li>\n<li>Fix panic due to timers failing to find the Advent Calendar level during loading (the last level of the ledger in general), preventing affected games from being loaded.</li></ul>\n<h3><span id=\"DynaHack_0.5.2_(2013-10-07,_5f067e7)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.5.2_.282013-10-07.2C_5f067e7.29\">DynaHack 0.5.2 (2013-10-07, 5f067e7)</span></h3>\n<p>DynaHack 0.5.2 was a hotfix release that greatly increased save file integrity\nand ability to recover save files by fixing cases of incomplete data being\nlogged that were overlooked by NitroHack and NetHack4.\n</p>\n<h4><span class=\"mw-headline\" id=\"Saves\">Saves</span></h4>\n<ul><li>Fix systemic oversight in save code ported from NetHack4 that failed to ensure that diffs of the binary save section were being fully written to the log, leading to save corruption.</li>\n<li>Fix `autopickup_rules` and `msgtype` failing to ensure that changes to them were being fully written to the log, leading to save corruption.</li></ul>\n<h3><span id=\"DynaHack_0.5.1_(2013-09-28,_a1289c3)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.5.1_.282013-09-28.2C_a1289c3.29\">DynaHack 0.5.1 (2013-09-28, a1289c3)</span></h3>\n<p>DynaHack 0.5.1 was a hotfix release to fix a packaging mistake with the Windows\nrelease that caused special levels to fail to load.\n</p>\n<h4><span class=\"mw-headline\" id=\"Configuration_3\">Configuration</span></h4>\n<ul><li>Disable `darkroom` by default when `darkgray` is also off by default, since it led to ugly dark blue for almost everything not in direct line-of-sight.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical_5\">Technical</span></h4>\n<ul><li>Fix a major packaging mistake with the pre-compiled Windows build where certain special level data files had a version number incompatible with the shipped game executable and thus refusing to load them and show a generic full-level maze instead.</li></ul>\n<h3><span id=\"DynaHack_0.5.0_(2013-09-18,_65751e0)\"></span><span class=\"mw-headline\" id=\"DynaHack_0.5.0_.282013-09-18.2C_65751e0.29\">DynaHack 0.5.0 (2013-09-18, 65751e0)</span></h3>\n<p>DynaHack 0.5.0 is the first public release of DynaHack.  It was originally\nintended to be a port of UnNetHack using NitroHack instead of NetHack 3.4.3 as\na base (in fact it was originally named \"UnNitroHack\", though no version with\nthat name was ever officially released), but has since taken on a life of its\nown with interface and reliability improvements from NetHack4, highlights from\nother NetHack variants such as random magical equipment from GruntHack and\nmonster spoiler info from UnNetHackPlus, plus many of its own changes.\n</p><p>UnNetHack itself is a NetHack variant that features more randomness, challenges,\nlevels and fun, rolling in many community patches, selected changes from other\nNetHack forks like SporkHack and SLASH'EM, and many original changes.\n</p><p>The majority of changes listed below come from UnNetHack.  The remainder are\nsourced according to the following legend:\n</p>\n<ul><li>[NEW] = changes originally made for DynaHack specifically</li>\n<li>[NH4] = changes ported from NetHack4</li>\n<li>[Gr] = changes ported from GruntHack</li>\n<li>[UnP] = changes ported from UnNetHackPlus</li>\n<li>[KMd] = changes ported from K-Mod</li></ul>\n<h4><span class=\"mw-headline\" id=\"Highlights_2\">Highlights</span></h4>\n<ul><li>New vampire starting race.</li>\n<li>New convict starting role.</li>\n<li>Over 80 new layouts for special levels.</li>\n<li>Gehennom now has caves, lava and more special levels mixed with its mazes.</li>\n<li>Changes to Sokoban:\n<ul><li>Choice of Sokoban prize: bag (holding), cloak (magic resistance or displacement) or amulet (reflection, life saving or ESP).</li>\n<li>Sokoban is one level shorter, i.e. 3 levels instead of 4.</li>\n<li>Sokoban luck penalty removed, cheating is tracked as a conduct instead.</li></ul></li>\n<li>New branches: Advent Calendar, Town, Black Market, Dragon Caves.</li>\n<li>New random rooms: nymph gardens, dilapidated armories, pool rooms.</li>\n<li>New shops: tin shops, instrument shops, pet stores.</li>\n<li>New terrain types: dead trees, muddy swamps.</li>\n<li>New items: chromatic dragon scales, chromatic dragon scale mail, gold dragon scales, gold dragon scale mail, iron safes, Thiefbane, rings of gain intelligence/wisdom/dexterity, tinfoil hats, potions of blood/vampire blood, Luck Blade, The Iron Ball of Liberation.</li>\n<li>New monsters: One-eyed Sam, chromatic dragon, Tiamat, gold dragon, snow ant, vorpal jabberwock, disintegrator, Aphrodite, Cthulhu, giant turtle, wax golem, enormous rat, rodent of unusual size, miner, prison guard, lava demon, inmate, Robert the Lifer, Warden Arriana, locust.</li>\n<li>[NEW] New mechanics:\n<ul><li>[NEW] Heavyshot: Certain thrown/fired weapons get a 1dX multiplier to damage instead of multishot.</li>\n<li>[NEW] Skill cross-training: high level skills accelerate the training of related lesser skills.</li></ul></li>\n<li>[Gr] Random magical properties for weapons, armors and jewelry: fire, frost, thirsty (draining), reflection, telepathy, searching, warning, stealth, fumbling, hunger, aggravation, vorpal (blades only), detonation, speed, oilskin, power, dexterity, brilliance, displacement, clairvoyance.</li>\n<li>[Gr] Add `#tip` command to empty container contents onto the floor, allowing e.g. reaching holy water in a bag when hands are stuck to a cursed two-handed weapon.</li>\n<li>Randomized dragon appearances.</li>\n<li>Wishes made less common/numerous, and wishes not from a wand cannot grant magical items.</li>\n<li>Weak unique monsters made tougher: Vlad the Impaler, Juiblex.</li>\n<li>Changes to Elbereth:\n<ul><li>Monsters that now ignore Elbereth: Vlad the Impaler, quest nemesis, all unique demons.</li>\n<li>Minotaurs now get scared away by Elbereth.</li></ul></li>\n<li>Scrolls of gold detection can no longer be used to detect magic portals.</li>\n<li>Scrolls of genocide made weaker.</li>\n<li>Bags of holding scatter their contents instead of destroying them when they blow up.</li>\n<li>Mysterious Force replaced with no-teleport.</li>\n<li>Fighting wakes up nearby monsters.</li>\n<li>Limit pudding farming: puddings split by max HP instead of current HP and never leave death drops.</li>\n<li>Improvements to weaker artifacts: Banes, Heart of Ahriman.</li>\n<li>Artifact naming bug fixed.</li>\n<li>Color alchemy: potions mix by description color instead of base potion type.</li>\n<li>Poison instadeath replaced with max HP damage.</li>\n<li>[NEW] Colored walls and floors: Use more colors for special levels, terrain and dungeon features; toggle with `mapcolors` option.</li>\n<li>[NH4] Known intrinsic tracking: reached by pressing `Ctrl-X`.</li>\n<li>[UnP] Detailed monster info: select monsters or enter their name with `/` to view speed, base AC, resistances, attacks and more.</li>\n<li>[NH4] Autoexplore: bound to `v` by default.</li>\n<li>`msgtype` option: force \"--More--\" for or hide messages based on patterns.</li>\n<li>[NEW] Show total weight and available slots of inventory.</li>\n<li>[NEW] Borders change color when low on HP: &lt;75% yellow, &lt;50% orange, &lt;25% red.</li>\n<li>[NEW] Show number of turns used after multi-turn actions, e.g. \"You finish your dressing maneuver.  [6 turns]\" (toggle with `delay_msg` option).</li>\n<li>[NEW] Pressing `??` shows quick command key reference, reorganized to show commands by topic instead of alphabetically.</li>\n<li>[NEW] Show \"(very) rotten\" on corpses old enough to give food poisoning.</li>\n<li>[NH4] Neater, more informative AceHack-style status area.\n<ul><li>Show dungeon name in the status area.</li>\n<li>[NEW] Show player race in the 3-line status area.</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Character_3\">Character</span></h4>\n<ul><li>New vampire starting race:\n<ul><li>Can start as barbarians, convicts, rogues and wizards.</li>\n<li>Can only feed by biting enemies in combat or drinking potions of blood or vampire blood.</li>\n<li>Always flies, starts with -5 alignment and -1 luck.</li>\n<li>Vampires stop themselves from biting monsters that are dangerous on contact, e.g. petrify, slime, disintegrate, Riders.</li></ul></li>\n<li>New convict starting role:\n<ul><li>Can be played as humans, orcs and vampires.</li>\n<li>Starts with a cursed striped shirt, some rocks, a pet rat and chained to a heavy iron ball that they can wield which uses the flail skill.</li>\n<li>Enters the dungeon on the verge of hunger, but lasts twice as long at hungry and below.</li>\n<li>Fights Warden Arriana for The Iron Ball of Liberation.</li></ul></li>\n<li>Exotic pets:\n<ul><li>Rogues may start with a pet monkey.</li>\n<li>Rangers and cavement may start with a pet wolf or winter wolf cub.</li>\n<li>Tourists may start with a pet baby crocodile.</li></ul></li>\n<li>Cap to-hit accuracy to 75% for weapons at unskilled or non-weapon items.\n<ul><li>[NEW] Remove luck attribute from to-hit calculations since it was skewing them way too much.  Monk to-hit penalty when wearing body armor has been reduced to -10 (from -20) to compensate.</li></ul></li>\n<li>Items thrown at restricted/unskilled have a higher chance of slipping.</li>\n<li>Fighting wakes up nearby monsters, with noise reduced by having stealth and/or using light weapons.</li>\n<li>Increased 'hits' needed to advance skill levels:\n<ul><li>basic = 100 (was 20)</li>\n<li>skilled = 200 (was 80)</li>\n<li>expert = 400 (was 180)</li>\n<li>master = 800 (was 320)</li>\n<li>grand master = 1600 (was 500)</li></ul></li>\n<li>[NEW] New mechanics:\n<ul><li>[NEW] Heavyshot: Crossbows, spears, javelins, shuriken and boomerangs get a 1dX multiplier to damage instead of multishot.\n<ul><li>[NEW] Elves, dwarves and orcs get +1 heavyshot for throwing spears of their matching race.</li>\n<li>[NEW] Javelins get +1 heavyshot for basic skill and above, so the bonus is 1/2/3/4 (versus 1/1/2/3) for unskilled/basic/skilled/expert.</li></ul></li>\n<li>[NEW] Skill cross-training: high level skills accelerate the training of related lesser skills.\n<ul><li>Short Blades: dagger, knife, short sword</li>\n<li>Chopping Blades: axe, pick-axe, broadsword</li>\n<li>Swords: short sword, broadsword, long sword, two-handed sword, scimitar, saber</li>\n<li>Bludgeons: club, mace, morning star, flail, hammer, quarterstaff</li>\n<li>Flails: morning star, flail, whip</li>\n<li>Polearms: quarterstaff, polearm, spear, javelin, trident, lance, unicorn horn</li>\n<li>Launchers: bow, sling, crossbow</li>\n<li>Thrown: javelin, sling, dart, shuriken, boomerang</li></ul></li></ul></li>\n<li>Around 1-in-5 items may be randomly removed when bones are left.</li>\n<li>Allow quest to be entered at experience level 10 (was 14).</li>\n<li>Extended Conducts: Birth options can be set to declare conducts and set up characters for them appropriately: ascet, athiest, illiterate, pacifist, nudist, thievery, vegan, vegetarian, zen.</li>\n<li>Track number of times Elbereth is used as a conduct.</li>\n<li>Track number of bones levels encoutered and show it with conducts.</li>\n<li>Track only wearing racial armor as a conduct.</li>\n<li>The chance of instant death when taking poison damage without resistance is replaced with damage to max HP.</li>\n<li>DYWYPISI patch: Show unknown properties of items between square brackets when identifying inventory on death.</li>\n<li>Show more info about the character on death.</li>\n<li>[NEW] Stacks of daggers in initial inventory start quivered.</li>\n<li>Put \"!\" next to spells that are about to be forgotten.</li>\n<li>25 strength grants +7 bonus to damage (was +6).\n<ul><li>Double damage bonus/penalty for two-handed weapons.</li></ul></li>\n<li>Grant 1 extra AC for every piece of armor matching your race.</li>\n<li>Killing your quest leader unlocks the stairs to your role's quest, in case they are angered and won't allow you in otherwise.</li>\n<li>Reduce instances of amnesia:\n<ul><li>Scroll of amnesia replaced with scroll of flood.</li>\n<li>Mind flayers no longer cause amnesia.</li>\n<li>Only Cthulhu can still inflict amnesia.</li></ul></li>\n<li>[NH4] Swapping weapons with `x` is instant instead of taking a turn.</li>\n<li>[NH4] Allow the quest to be entered before turn 2000; mostly of interest to speedrunners.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Dungeon_3\">Dungeon</span></h4>\n<ul><li>Heck^2 patch: Mixes caves and special levels with Gehennom's mazes.\n<ul><li>Gehennom filler levels may sometimes be lava caves.</li>\n<li>Give hints when walking near the Vibrating Square.</li>\n<li>Allow digging beams to dig more than one wall in Gehennom, like in the rest of the dungeon.</li></ul></li>\n<li>New branches:\n<ul><li>Advent Calendar, appears early in the dungeon in the days of December leading up to Christmas, with closets with small prizes that unlock for each day.</li>\n<li>Town, an upward branch whose entrance is just below Sokoban's, and whose end has many random shops.</li>\n<li>Black Market, a huge megastore reached from a hidden portal near the depth of Medusa's Island, owned by One-eyed Sam who wields Thiefbane.</li>\n<li>Dragon Caves, found deep in Gehennom, consists of open caves with trees, water, swamps and home to many dragons.</li></ul></li>\n<li>Changes to Sokoban:\n<ul><li>Choice of Sokoban prize: bag (holding), cloak (magic resistance or displacement) or amulet (reflection, life saving or ESP).  Picking up one will cause the others to vanish.\n<ul><li>Sokoban prize have their base item type obscured until picked up to prevent identification meta-gaming.</li></ul></li>\n<li>Sokoban is now only 3 levels (was 4).</li>\n<li>Sokoban luck penalty removed, cheating is tracked as a conduct instead.</li></ul></li>\n<li>New Nymph Level, with many nymphs, trees, fountains, squeaky board traps and unique nymph Aphrodite.</li>\n<li>New level layouts for existing special levels:\n<ul><li>6 new layouts for Big Room.</li>\n<li>2 new layouts for the Castle.</li>\n<li>2 new layouts for Medusa's Island.</li>\n<li>27 new layouts for Sokoban.</li>\n<li>2 new layouts for Fort Ludios.</li>\n<li>New layout for Minetown: Orcish Town, walled off by iron bars, the inhabitants killed and has many orcs.</li>\n<li>New layouts for the Valley of the Dead and the lairs of Asmodeus, Baalzebub and Orcus.</li>\n<li>Moloch's Sanctum now has lava, iron bars and drawbridges.</li></ul></li>\n<li>New random rooms:\n<ul><li>nymph gardens with trees and fountains</li>\n<li>dilapidated armories with puddings, `R` class monsters and damaged weapons and armors</li>\n<li>pool rooms ringed with lava or water</li></ul></li>\n<li>New shops:\n<ul><li>tin shops with tins and sometimes an ice box with corpses</li>\n<li>instrument shops</li>\n<li>pet stores with figurines, whistles, tripe, leashes and saddles.</li></ul></li>\n<li>New terrain types:\n<ul><li>dead trees</li>\n<li>muddy swamps</li></ul></li>\n<li>Randomized order for Elemental Planes instead of being fixed to Earth, Air, Fire and Water.</li>\n<li>Sokoban prize randomized: either final level layout can provide an amulet of reflection or bag of holding.</li>\n<li>Special levels may appear flipped horizontally or vertically.\n<ul><li>[NEW] Exclude Sokoban from level flipping.</li></ul></li>\n<li>Drawbridge closing fails 1 in 5 times.\n<ul><li>Huge monsters prevent the drawbridge from closing.</li></ul></li>\n<li>Dungeon growths:\n<ul><li>Trees may grow near other trees over time.</li>\n<li>Trees randomly drop fruits and eucalyptus leaves.</li>\n<li>Herbs on the ground and kelp fronds in water may grow over time.</li></ul></li>\n<li>New effects when dropping rings of teleportation, polymorph, polymorph control and warning down sinks.</li>\n<li>Level teleporting beyond the end of a dungeon branch performs a random level teleport instead of teleporting to the lowest possible level from your current position.  The main dungeon is an exception: teleporting too deep will place you in the Valley of the Dead.</li>\n<li>Doors no longer resist being opened.</li>\n<li>Standard levels may have iron bars.</li>\n<li>Describe how far players fall down holes and trapdoors instead of giving no message.</li>\n<li>[NEW] Occasionally connect rooms in standard levels with corridors in star or loop formations.</li>\n<li>[NEW] Occasionally generate split rooms in standard levels.</li>\n<li>Entering a co-aligned temple on the Astral Plane will no longer cause monsters to flee.</li>\n<li>[NEW] Medusa's Island is guaranteed to have a shield of reflection in the statue of Perseus.</li>\n<li>[NEW] To prevent throne farming, `#loot` on a throne while confused takes time and has a chance of making the throne vanish.</li>\n<li>Give portal to Fort Ludios a much higher chance of appearing in the dungeon.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Wishing_2\">Wishing</span></h4>\n<ul><li>Only wands of wishing can grant wishes for magical items.  Other sources (thrones, fountains, magic lamps) can only provide non-magical items.</li>\n<li>Random wish effect when sitting on thrones replaced with restoration of lost attributes.</li>\n<li>Wands of wishing are created with less charges; they come recharged once, and have 0 to 2 charges instead of 1 to 3.</li>\n<li>Due to randomized dragons, wishes for specific dragon armors only work when they have already been formally identified.  Wishes for dragon armor by their randomized names are still granted as usual.</li>\n<li>Prevent wishes from accidentally being cancelled when pressing escape.</li>\n<li>Allow magic lamps to be wished for and come from polymorphed tools.</li>\n<li>[UnP] Wishing no longer sets prayer timeout.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Artifacts\">Artifacts</span></h4>\n<ul><li>New artifact: Thiefbane, two-handed sword, 10% chance of beheading `@` class monsters, held by One-eyed Sam, cannot be wished for, reverts to a regular weapon when dropped in bones.</li>\n<li>Improvements to Bane artifacts:\n<ul><li>Bane artifacts now have a 1-in-6 chance of cancelling the target monster.</li>\n<li>Bane artifacts now warn of their target monster.</li>\n<li>Wielding Demonbane prevents demons from summoning other demons.</li>\n<li>Wielding Trollsbane grants hungerless regeneration.</li>\n<li>Wielding Giantslayer grants 18/** strength.</li></ul></li>\n<li>The Heart of Ahriman now grants displacement and faster power regeneration instead of stealth.</li>\n<li>Vorpal Blade does +1d8 damage vs. all monsters (was +1).</li>\n<li>Fix the artifact naming bug, where trying to give mundane items the names of artifacts could trivially reveal the otherwise randomized base item type.</li>\n<li>Prevent Magicbane from cancelling monster inventories.</li>\n<li>[NEW] The Wizard of Yendor can no longer steal your quest artifact; only your quest nemesis can steal it now.\n<ul><li>[NEW] Carrying your role's quest artifact grants magic resistance.</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Items_3\">Items</span></h4>\n<ul><li>New items:\n<ul><li>Chromatic dragon scales and chromatic dragon scale mail, grants reflection, resists fire, cold, sleep, disintegration, poison, acid and petrification.</li>\n<li>Gold dragon scales and gold dragon scale mail, provide permanent light when worn.</li>\n<li>Iron safes that can be unlocked with stethoscopes.</li>\n<li>Rings of gain intelligence, wisdom and dexterity.</li>\n<li>Tinfoil hats that block spellcasting, telepathy, clairvoyance, psychic blasts and the psi bolt monster spell.</li>\n<li>Potion of blood, provides a bit of nutrition for vampires.</li>\n<li>Potion of vampire blood, provides nutrition and heals vampires, polymorphs player into a vampire/vampire lord/vampire bat permanently while angering lawful gods.</li>\n<li>Striped shirt, causes shopkeepers to deny entry to shops if they see it worn, even if you return without it or cover it.</li>\n<li>Luck Blade, artifact, intelligent chaotic broadsword with +d5 to-hit and +d6 to damage versus all monsters, guaranteed first sacrifice gift for convicts.</li>\n<li>The Iron Ball of Liberation, convict quest artifact, intelligent neutral 300wt heavy iron ball, grants magic resistance, displacement and automatic searching when carried, grants intrinsic phasing when invoked, chains itself to you when touched or invoked.</li></ul></li>\n<li>[Gr] Random magical properties for weapons, armors and jewelry: fire, frost, thirsty (draining), reflection, telepathy, searching, warning, steatlh, fumbling, hunger, aggravation, vorpal (blades only), detonation, speed, oilskin, power, dexterity, brilliance, displacement, clairvoyance.</li>\n<li>[Gr] Add `#tip` command to empty container contents onto the floor, allowing e.g. reaching holy water in a bag when hands are stuck to a cursed two-handed weapon.</li>\n<li>Changes to the Amulet of Yendor:\n<ul><li>Amulet of Yendor may teleport if dropped.</li>\n<li>Astral escape: Alternate endings if the Amulet of Yendor is invoked on a high altar on the Astral Plane.</li>\n<li>Mysterious Force removed, holding the Amulet of Yendor instead prevents teleportation.</li>\n<li>Unique monsters no longer fight each other for the Amulet of Yendor.</li></ul></li>\n<li>Changes to weapons:\n<ul><li>[NEW] Polearms and lances can be used in melee even when unmounted.</li>\n<li>[NEW] Allow spellcasting when hands are stuck to a cursed quarterstaff.</li>\n<li>[NEW] Weapon enchantment has a small chance of being revealed on each hit, based on skill and doubled if it is of your race.</li></ul></li>\n<li>Changes to armor:\n<ul><li>Dragon scales now only give 1 AC (was 3), dragon scale mail only give 5 AC (was 9).</li>\n<li>Dragon scale mail reverts to dragon scales when cancelled.</li>\n<li>Armor-damaging effects will destroy completely eroded armor.</li>\n<li>Shields of reflection made 50% heavier and non-magical for wishing purposes.</li></ul></li>\n<li>Changes to amulets:\n<ul><li>Cursed amulets of life saving may fail 1-in-4 times.</li>\n<li>Amulet of unchanging can no longer be polymorphed.</li></ul></li>\n<li>Changes to rings:\n<ul><li>Auto-ID rings of regeneration when put on at less than max HP.</li>\n<li>Auto-ID rings dropped down sinks when they give a unique message.</li></ul></li>\n<li>Changes to tools:\n<ul><li>Magic markers are created with 20-79 charges (was 30-99).</li>\n<li>Improve crystal balls:\n<ul><li>Blessed crystal balls are easier to use, checking d13 vs. intelligence rather than d20.</li>\n<li>[NEW] Using a blessed crystal ball or having 18 intelligence prevents it from exploding.</li></ul></li>\n<li>Unicorn horns no longer restore lost attributes.</li>\n<li>Bags of tricks have many more random effects and may be used like sacks once they run out of charges.</li>\n<li>Candles are more abundant:\n<ul><li>Add guaranteed candles to the Big Room.</li>\n<li>Add abandoned lighting shops to Orcus-town.</li>\n<li>Gnomes may be created with candles.</li>\n<li>Wax golems drop candles on death.</li></ul></li>\n<li>Bags of holding scatter their contents instead of destroying them when they blow up.</li>\n<li>Stethoscopes can be used to identify eggs on the ground.</li>\n<li>[NH4] Light source fuel is revealed if the item is identified or gives a fuel-consuming message.</li>\n<li>[NH4] Mark cursed light sources as cursed when they fail to light.</li>\n<li>[NH4] Weight of Candelabrum of Invocation includes its attached candles.</li></ul></li>\n<li>Changes to scrolls:\n<ul><li>Scrolls of gold detection detects a random item class instead of traps when read while confused.</li>\n<li>Scrolls of genocide made weaker:\n<ul><li>Blessed scrolls of genocide work on a single monster (like old uncursed scrolls).</li>\n<li>Uncursed scrolls of genocide only kill all of a single monster on the current level.</li>\n<li>[NEW] Fix new genocide behavior when used against shape changers.</li></ul></li>\n<li>Replace scroll of amnesia with scroll of flood that creates pools of water around you when read.</li>\n<li>Boulders dropped by a scroll of earth hit engulfing monster when read while engulfed.</li>\n<li>Uncursed scrolls of magic mapping also reveal secret doors, blessed scrolls do that and also detect objects.</li>\n<li>[NEW] Scrolls of identify always identify 3 to 6 items regardless of blessing or curses, encouraging using them on-the-go instead of saving them en masse for a giant stash, increasing early-game options and reducing back-tracking.</li>\n<li>[NEW] Water damage may destroy scrolls.</li>\n<li>[NEW] Scrolls of enchant weapon and enchant armor give the warning vibration for overenchantment for all weapons and armor, not just elven gear.</li></ul></li>\n<li>Changes to potions:\n<ul><li>Color alchemy: potions mix by description color instead of base potion type.</li>\n<li>Potions of gain ability only raise one attribute, and BUC increases the number of retries when it selects an attribute already at its maximum.</li>\n<li>[NEW] Pure potions can be dipped into diluted potions of the same type to combine them into a single stack of diluted potions.</li>\n<li>[NEW] Remove the alchemy tax: dipping potions into each other to create new potions no longer costs a potion.</li>\n<li>[NEW] Quaffing a potion of enlightenment while polymorphed into a dragon or baby dragon formally identifies its matching scales and scale mail.</li></ul></li>\n<li>Changes to wands:\n<ul><li>Zapping a cursed wand has a 1-in-30 chance of blowing it up (was 1-in-100).</li>\n<li>Applying wands no longer breaks wands; `#invoke` must be used instead.</li>\n<li>[NH4] Zapping or engraving an empty wand identifies its charges.</li>\n<li>[NH4] Formal-ID wands when they give a unique message when engraved.</li>\n<li>[NEW] Probing a dragon or baby dragon formally identifies its matching scales and scale mail.</li></ul></li>\n<li>Sale/price quotes for shops vary per-shopkeeper instead of per-pickup/drop, so no more need to repeatedly pickup and drop items in shops.</li>\n<li>Many new random item descriptions.</li>\n<li>Items described as \"ceramic/porcelain/quartz\" may break if subjected to force.</li>\n<li>Cursed items may hit the ceiling and fall on your head when thrown.</li>\n<li>Increase chance of non-zero enchantments on random items.</li>\n<li>Fix long-standing NetHack bug where uncursed and blessed food weren't getting their grace period against rotting.</li>\n<li>[NEW] Fix wielded potions of blindness granting resistance to certain sources of blindness, e.g. exploding yellow lights and archon gazes.</li>\n<li>Prevent the Book of the Dead from being destroyed when falling into lava.</li>\n<li>[NH4] Charging an item reveals its number of remaining charges.</li>\n<li>[NEW] Allow items to stack regardless of differing knowledge bits (e.g. BUC, enchantment, rustproofing), improving inventory space usage and allowing things like arrows found to stack with identical ones dropped on an altar.\n<ul><li>[NH4] Prevent named items from stacking with unnamed items.</li></ul></li>\n<li>[NH4] Fix turn usage when applying items, including C343-353: Aborting key or lock pick with escape uses a turn.</li>\n<li>[NEW] Show \"(very) rotten\" on corpses old enough to give food poisoning.</li>\n<li>[NEW] Make rustproofing on items known by default, since all cases of it existing or being applied to items are non-random and known by the player.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Monsters_2\">Monsters</span></h4>\n<ul><li>New monsters:\n<ul><li>One-eyed Sam: Shopkeeper of the Black Market, wields Thiefbane, can break boulders in her way.</li>\n<li>Chromatic dragon: Rare dragons that resist multiple elements, have random breaths, not a valid random polymorph form, may be found in the new Dragon Caves branch.</li>\n<li>Tiamat: New name for the caveman quest nemesis.</li>\n<li>Gold dragon: Permenantly lit fire-breathing dragon, drops scales that are also a permanent source of light.</li>\n<li>Snow ant: Fire ants but cold.</li>\n<li>Vorpal jabberwock: Purple `J`, more powerful jabberwock with four 3d10 attacks, two of which have a 1-in-40 chance of decapitating.</li>\n<li>Disintegrator: Bright green `R`, slow, tunnels, disintegrates weapons/armor/you on contact.</li>\n<li>Aphrodite: Unique purple `n`, found on the Nymph Level.</li>\n<li>Cthulhu: Unique purple `h`, now holds the Amulet of Yendor instead of the high priest of Moloch, sucks brains, grabs, gazes to confuse, very high hit dice, high speed and armor, dies as a stinking cloud and revives when it dissipates.</li>\n<li>Giant turtle: Bright green `:`, blocks vision like a boulder.</li>\n<li>Wax golem: Has a fire attack, drops candles on death.</li>\n<li>Enormous rat, rodent of unusual size: upgraded rats.</li>\n<li>Miner, prison guard, lava demon, inmate: convict quest monsters.</li>\n<li>Robert the Lifer: convict quest leader.</li>\n<li>Warden Arriana: convict quest nemesis.</li>\n<li>Locust: Gray `a`, normal speed, has a sickness-causing sting.</li></ul></li>\n<li>Changes to Elbereth:\n<ul><li>Monsters that now ignore Elbereth: Vlad the Impaler, quest nemesis, all unique demons.</li>\n<li>Minotaurs now get scared away by Elbereth.</li></ul></li>\n<li>Randomized dragon appearances: name and color of dragons map to different elements each game.\n<ul><li>New dragon names: tatzelworm, amphitere, draken, lindworm, sarkany, sirrush, wyvern, guivre.</li></ul></li>\n<li>Changes to Riders:\n<ul><li>Hide the names of the Riders if further than two spaces away.</li>\n<li>Riders can smash boulders that block their path.</li>\n<li>Riders get 108-164 HP (was 10-80).</li></ul></li>\n<li>Changes to the Wizard of Yendor:\n<ul><li>Killing the Wizard of Yendor for the first time increases difficulty of spawned monsters.</li>\n<li>[NEW] The Wizard of Yendor can no longer steal your quest artifact.</li></ul></li>\n<li>Changes to Medusa:\n<ul><li>Hallucination protects from the petrification of Medusa.</li></ul></li>\n<li>Changes to weak unique monsters:\n<ul><li>Make Vlad the Impaler tougher: 28/24/-8 hit dice, speed and AC (was 14/18/-3), sees invisible.</li>\n<li>Juiblex take half his current HP when zapped with digging from within instead of being reduced to 1 HP.</li></ul></li>\n<li>Changes to demon princes:\n<ul><li>Raised gold needed to bribe demon princes to 3000-20000 gold (previously you could bribe them with 10 gold if you put the rest in your bag).</li></ul></li>\n<li>Changes to quest leaders:\n<ul><li>Angered quest leaders can smash boulders that block their path.</li>\n<li>Angered quest leaders can be killed to unlock quest stairs.</li>\n<li>Quest leaders have more HP than before.</li></ul></li>\n<li>Changes to floating eyes:\n<ul><li>Floating eyes are now colored bright green instead of dark blue.</li>\n<li>[NEW] Remove 1-in-4 chance of floating eyes paralyzing for 127 turns, halve duration to (hit dice + 1)d35 instead of (hit dice + 1)d70 otherwise.</li>\n<li>[NEW] High wisdom limits floating eye paralysis to 10 * (20 - wisdom) turns, with a minimum of 10 turns.</li></ul></li>\n<li>Changes to mind flayers:\n<ul><li>Mind flayer attacks no longer cause amnesia.</li></ul></li>\n<li>Changes to muggers:\n<ul><li>Muggers can steal items.</li></ul></li>\n<li>Changes to nurses:\n<ul><li>Nurse hits heal players wielding non-weapon items as if they were empty handed, to match the message given if they are chatted to.</li></ul></li>\n<li>Changes to puddings:\n<ul><li>Limit pudding farming: puddings split by max HP instead of current HP and never leave death drops.</li></ul></li>\n<li>Changes to wraiths:\n<ul><li>[NEW] Wraiths no longer follow you across levels, removing the tedious wraith-luring tactic, particularly given how slow they are.</li></ul></li>\n<li>Fix Astral Call bug which could be used to discover the alignments of the high priests from afar and therefore trivially identify the otherwise randomly shuffled temple alignments.</li>\n<li>Cancelled trolls no longer revive with e.g. the wand, Magicbane, Trollsbane.</li>\n<li>Monsters can zap wands of cancellation at you to cancel an item in your open inventory.</li>\n<li>Eating oily corpses may cause slippery fingers.</li>\n<li>Grudge patch: Monsters that are enemies with each other may fight amongst themselves.</li>\n<li>Give more HP to big monsters and less HP to small monsters.</li>\n<li>[NH4] Make initial monster population on levels independent of the character's experience level.</li>\n<li>[NEW] Fix C343-415: Mail daemons can be created when populating special levels with demons.</li>\n<li>[NEW] Don't highlight detected monsters.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Interface_2\">Interface</span></h4>\n<ul><li>[NEW] Colored walls and floors: Use more colors for special levels, special rooms, terrain and dungeon features; toggle with `mapcolors` option.</li>\n<li>[NH4] Known intrinsic tracking: reached by pressing `Ctrl-X`.\n<ul><li>[NH4] Show attributes in `Ctrl-X` screen.</li>\n<li>[NH4] Allow kills, genocides/extinctions and conducts to be viewed from the `Ctrl-X` screen.</li>\n<li>[NH4] Allow `#enhance` to be reached from `Ctrl-X` as well.</li></ul></li>\n<li>[UnP] Detailed monster info: select monsters or enter their name with `/` to view speed, base AC, resistances, attacks and more.</li>\n<li>[NH4] Autoexplore: bound to `v` by default.\n<ul><li>[NEW] Stop travel and autoexplore when becoming hungry or weak from hunger.</li>\n<li>[NEW] Prevent starting autoexplore when weak from hunger.</li>\n<li>[NEW] Fix travel and autoexplore stopping for unrevealed mimics.</li>\n<li>[NEW] Travel and autoexplore walk around peaceful and stationary monsters.</li>\n<li>[NEW] Travel and autoexplore ignore previously-read engravings.</li>\n<li>[NEW] Stop and disallow running, travel and autoexplore when stunned or confused.</li>\n<li>[NEW] Travel treats boulders like walls in Sokoban and thus no longer tries to move through them.</li></ul></li>\n<li>Improvements to item action menus:\n<ul><li>[NEW] Use mnemonic accelerators for item action menus, e.g. \"w - wield\".</li>\n<li>[NEW] Shorter entries, e.g. \"wield\" instead of \"Wield foo as your weapon\".</li>\n<li>[NEW] Add action to view detailed item description.</li>\n<li>Add action to pay for shop items.</li>\n<li>[NEW] Add action to name or call an item.</li>\n<li>[NEW] Add action to allow weapons to be unwielded.</li>\n<li>[NEW] Add action to `#adjust` the inventory letter of an item.</li></ul></li>\n<li>Improvements to status area:\n<ul><li>[NH4] AceHack-style status area: neater and more informative.\n<ul><li>[NEW] Show player race in the 3-line status area.</li>\n<li>Show dungeon name in status area (`dungeon_name` option).</li></ul></li>\n<li>[NEW] Status colors: Status effects are highlighted in different colors.</li>\n<li>[NEW] Attributes color red or green when they decay or improve.</li>\n<li>[NEW] Turn count changes color based on number of turns since last input.</li>\n<li>[NH4] Show levitation, unarmed and trapped as statuses.\n<ul><li>Show \"Elbereth\" as a status when standing on an active Elbereth space.</li>\n<li>[NH4] Show \"Beartrap\" as a status.</li>\n<li>[NEW] Show \"Swamp\" as a status when standing in a muddy swamp.</li>\n<li>[NH4] Show even more statuses: greasy (hands), lame (hurt legs), \"strangle\", \"petrify\" (while turning into stone), \"held\" (by a grabber), \"fly\".</li></ul></li>\n<li>[NH4] Status area describes map location under the cursor when targeting.</li></ul></li>\n<li>Unvisited stairs and portals that lead to other branches are noted in `#overview`.</li>\n<li>Accept \"mindflayer\" as an alternate spelling of \"mind flayer\" so monks don't accidentally end up genociding themselves.</li>\n<li>Stop multi-turn actions if HP or power are fully restored.\n<ul><li>[NEW] Don't stop autoexplore or travel when HP or Pw are fully restored.</li></ul></li>\n<li>`#chat` automatically chooses adjacent monster if there is only one.</li>\n<li>Autopickup remembers dropped items and leaves them dropped.</li>\n<li>Piles of multiple items are highlighted on the map.</li>\n<li>Dim locations outside of line-of-sight.</li>\n<li>`#loot` no longer asks for which container when there is only one choice.\n<ul><li>[NEW] `#loot` and `#tip` show multiple container choices in a menu instead of asking for each container in sequence (optional with `paranoid_loot`).</li></ul></li>\n<li>`Ctrl-E` to write Elbereth in the the dust with your fingers or wielded athame.</li>\n<li>Give a reason when the player is unable to two-weapon.</li>\n<li>Ask when trying to walk into a known trap (optional with `paranoid_trap`).</li>\n<li>Automatically open doors when walking into them.\n<ul><li>Automatically ask to unlock doors when walking into locked doors.</li></ul></li>\n<li>Spiked pits can be manually entered like pits using `&gt;`.\n<ul><li>[NEW] Pressing `&lt;` will attempt to escape traps.</li></ul></li>\n<li>Being hit by cancellation gives a message: \"You are covered in sparkling lights!\"</li>\n<li>Dropping a container on an altar reveals blessings and curses of its contents.</li>\n<li>Pressing `ff` fires in same direction as last time.</li>\n<li>[NEW] Quiver thrown items picked up by autopickup and `pickup_thrown` if quiver is empty.</li>\n<li>[NEW] Fix graphical display of the Rogue level when viewed from `#overview`.</li>\n<li>[NEW] Suggest `#wipe` when blinded by venom or thrown cream pies.</li>\n<li>[NEW] Pressing `M` cycles backwards through monsters while targeting.\n<ul><li>[NEW] Pressing `@` moves the cursor the player while targeting.</li>\n<li>[NEW] Pressing `^` cycles through traps while targeting.</li></ul></li>\n<li>Fix crash at naming dialog with items with very long type names.</li>\n<li>[NEW] Give corpses the right colors in item lists (e.g. inventory) instead of all being brown.</li>\n<li>Show level annotation when restoring game.</li>\n<li>hp_notify: Show message after turns when damage is taken, e.g. \"[HP-2=10]\" when taking 2 damage and being left with 10 HP.</li>\n<li>Improve handling of counts in item selection menus.</li>\n<li>[NEW] \"Auto-select every item\" now respects other item picking criteria at multi-drop/loot prompts instead of ignoring them.</li>\n<li>[NEW] Show total weight and available slots of inventory.</li>\n<li>[NEW] Borders change color when low on HP: &lt;75% yellow, &lt;50% orange, &lt;25% red.</li>\n<li>[NEW] Show number of turns used after multi-turn actions, e.g. \"You finish your dressing maneuver.  [6 turns]\" (toggle with `delay_msg` option).</li>\n<li>[NEW] Pressing `??` shows quick command key reference, reorganized to show commands by topic instead of alphabetically.</li>\n<li>[NEW] `Ctrl-P` message log starts scrolled to the most recent messages.</li>\n<li>[NEW] Show boulders as `<a href=\"/wiki/0\" title=\"0\">0</a>` by default instead of <a href=\"/wiki/Backtick\" class=\"mw-redirect\" title=\"Backtick\">backtick</a>.</li>\n<li>[NH4] Recolor/underline monsters with duplicate colors.</li>\n<li>[NH4] Show \"--More--\" by screenfuls instead of by lines.</li>\n<li>[NEW] Don't (ask to) attack peaceful monsters when walking into them by default (customize with `safe_peaceful` option).</li>\n<li>[NH4] Show number of available skill slots in `#enhance` menu.\n<ul><li>[NEW] Show skill slot cost to advance skills in `#enhance` menu.</li></ul></li>\n<li>[NH4] Stop player from walking into water and/or lava (both optional with new `paranoid_water` and `paranoid_lava` options), can be overridden using `m-&lt;direction&gt;`.</li>\n<li>Display known-unlocked doors in bright green, known-locked doors in red and known-trapped doors in cyan.</li>\n<li>Highlight item piles on the map.</li>\n<li>[NH4] Use red backgrounds for level exits, e.g. stairs, ladders, portals.</li>\n<li>[NH4] Use comma for selecting the ground for various actions:\n<ul><li>[NH4] Allow `a,` as a shortcut for `#loot`.</li>\n<li>[NH4] Require `q,` to quaff from sinks and fountains.</li>\n<li>[NH4] Comma shows floor items when eating/tinning/sacrificing.\n<ul><li>[NEW] Show floor items in a menu when eating/tinning/sacrificing.</li></ul></li></ul></li>\n<li>Automatically ask to unlock when looting a locked container.\n<ul><li>[NEW] Perform `#loot` after successfully auto-unlocking a container, allowing looting to be done with one smooth sequence of inputs.</li></ul></li>\n<li>[NEW] Show remaining spell memory in spell lists.</li>\n<li>[NH4] Wrap long lines of text in various prompts.</li>\n<li>[NH4] `#adjust`ing an item onto itself merges all identical items onto it once more.</li>\n<li>[NEW] Improve input handling of counts during prompts.\n<ul><li>[NEW] Allow `#adjust` to accept a count when it asks for a destination letter, enabling stack-splitting with the `#adjust` command when it is used via the item action menu.</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Configuration_4\">Configuration</span></h4>\n<ul><li>`msgtype` option: force \"--More--\" for or hide messages based on patterns.\n<ul><li>[NEW] Provide a good set of default `msgtype` rules based on stth's MSGTYPE configuration on nethack.alt.org that stops on dangerous or easily missed but important messages.</li></ul></li>\n<li>Move option values next to their names instead of across from their descriptions.</li>\n<li>Show a dialog for all selected options to prevent accidental toggling.</li>\n<li>Improve prompt safety for certain game-changing actions:\n<ul><li>`paranoid_hit` option asks for full \"yes\" to confirm hitting peaceful monsters.</li>\n<li>`paranoid_quit` option asks for full \"yes\" when quitting a game or entering explore mode.</li>\n<li>`paranoid_chat` option to restore classic chat direction behavior.</li>\n<li>[NEW] `paranoid_loot` option to restore classic loot container behavior.</li></ul></li>\n<li>`paranoid_trap` option: control prompt before walking into known traps.</li>\n<li>`paranoid_loot` option: toggle menu versus sequential prompts when `#loot` and `#tip` have multiple containers to choose from.</li>\n<li>`pickup_dropped` option: force autopickup to grab explicitly dropped items instead of leaving them.</li>\n<li>More sensible option defaults across the board.</li>\n<li>`darkroom` option: toggles dimming of locations outside of line-of-sight.\n<ul><li>[Gr] Dim remembered items, walls and other dungeon features outside of line-of-sight when `darkroom` is enabled.</li></ul></li>\n<li>`spellorder` option: set order for letters used by spell menus.\n<ul><li>[NEW] Permit letter ranges for `spellorder`, e.g. \"a-zA-Z\".</li></ul></li>\n<li>`pilesize` option: control how many items must be at a stepped-on location before the \"things that are here\" dialog is shown on small terminals.</li>\n<li>`mapcolors` option: toggles extra colors for special levels and terrain.</li>\n<li>[NEW] `menumatch` option: Allow multi-drop/loot item menus to only show e.g. cursed armor when picking \"cursed\" and \"armor\", instead of all cursed items and all armor.</li>\n<li>[NEW] `safe_peaceful` option: Control what happens when moving into peaceful monsters.</li>\n<li>[KMd] Change `sparkle` option to a number that controls the speed of sparkle animations; higher values make it faster, zero disables sparkle entirely.</li>\n<li>[NEW] `paranoid_water` and `paranoid_lava` options: control NetHack4's safeties for walking into water and lava respectively.</li>\n<li>[NEW] `hilite_peaceful` option: toggle if non-tame but peaceful monsters are highlighted the same way pets are for `hilite_pet`.</li>\n<li>[NEW] Remove the `blink` option.</li>\n<li>[NH4] Allow remapping of default in-game colors to terminal colors with `terminal.conf` in the configuration directory.</li>\n<li>[NEW] Remove `use_inverse` option.</li>\n<li>[NEW] Remove `blink` option, since it was ugly, distracting and no longer needed with the new highlighting and display changes.</li>\n<li>[NEW] `classic_status` option: Use classic NetHack-style status area instead of the new AceHack-style status area.</li>\n<li>[NEW] `dungeon_name` option: toggle showing full dungeon name or just the depth in the status area.</li>\n<li>[NEW] Allow `msgheight` option to be set to 0 to automatically resize to fill the whole terminal height.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Saves_2\">Saves</span></h4>\n<ul><li>[NH4] Put dump files under the game's config directory instead of in the user's home directory in Linux.\n<ul><li>[NEW] Put dump files in the game's config directory instead of in Documents in Windows.</li></ul></li>\n<li>[NH4] Store save deltas of the binary save segment in the save file log on a per-turn basis.  This makes save files much larger, but also makes them almost impossible to lose to corruption.  Each diff line begins with a `~`.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_3\">Miscellaneous</span></h4>\n<ul><li>Experimental tutorial mode:\n<ul><li>[NEW] Rewrite and add command summaries to tutorial messages.</li>\n<li>[NEW] Split tutorial review menu into sections.</li>\n<li>[NEW] Indicate the latest tutorial message seen in the review menu.</li></ul></li>\n<li>Reduced score given when killing the same type of monster repeatedly.</li>\n<li>Many new random engravings.</li>\n<li>Many new random hallucinated monster descriptions.</li>\n<li>Certain items can be read for flavor text: gold, tins, cans of grease, candy bars, credit cards, magic markers, the Orb of Fate, Stormbringer, runed items.</li>\n<li>Characters that start on Towel Day (May 25) start with a complementary towel.</li>\n<li>Cream pies get a different name on Pi Day (March 14) or Pi Approximation Day (July 22).</li>\n<li>Breaking a camera may free the picture-painting demon (homunculus) inside.</li>\n<li>Randomize creator deity in intro text.</li>\n<li>Szechuan tins may have a free fortune cookie.</li>\n<li>Monk-specific greetings when saving and restoring.</li>\n<li>Hallucination gives random currencies instead of \"zorkmids\" in messages.</li>\n<li>[NEW] Fix fleeing monsters getting stuck in corridors.</li>\n<li>[NH4] Provide more informative in-game database for items.</li>\n<li>[NH4] Don't allow changing to explore mode mid-game.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical_6\">Technical</span></h4>\n<ul><li>[NEW] Add support and detailed instructions for building the game under Cygwin (Linux-like translation layer for Windows) and MinGW (native Windows support).</li>\n<li>[NEW] Add instructions for building the game for OS X.</li>\n<li>New bytecode-driven special level compiler.\n<ul><li>Allow `x` to denote 'transparent' map tiles.</li>\n<li>Allow changing map regions of non-trivial shapes with selections that can be combined and intersected.</li>\n<li>Curly braces for commands in rooms, subrooms, IF conditions, containers.</li>\n<li>Rooms can set doors on a random wall.</li>\n<li>Evaluate values on a stack instead of using raw structs.</li>\n<li>Allow much more fine-grained control over OBJECT and MONSTER.\n<ul><li>Permit custom inventories for MONSTER.</li></ul></li>\n<li>More control statements: LOOP, SWITCH.</li>\n<li>Support rudimentary sub-routines.</li>\n<li>Control over spawned monster generation on levels with MON_GENERATION.</li>\n<li>Custom level sounds with SOUNDS command.</li>\n<li>Permit loading from other files with INCLUDE.</li>\n<li>New WALLWALK command to surround the inner wall with a chosen terrain.</li>\n<li>Support for variables: string, int, coord, region, mapchar, monst, obj, array.\n<ul><li>SHUFFLE command for arrays, replacing RANDOM_OBJECTS, RANDOM_PLACES and RANDOM_MONSTERS.</li></ul></li>\n<li>Support for arithmetic expressions.\n<ul><li>Support dice notation for values, e.g. 1d6.</li></ul></li></ul></li>\n<li>[NEW] Bring back SHOPTYPE environment variable for wizard mode room testing.</li>\n<li>Add `#rooms` command for testing room layouts in wizard mode.</li>\n<li>Allow up to five possible bones files per level.</li>\n<li>[NEW] Fix handling of ball and chain when blind with NitroHack's layered level memory.</li>\n<li>[NEW] Fix appearance of ridden monsters with NitroHack's display system.</li>\n<li>[NEW] Fix many crashes and other instances of incorrect behavior due to NitroHack's global `level` pointer being incorrectly used.</li>\n<li>[NEW] Fix the notorious infinite travel bug.</li>\n<li>[NH4] Eliminate object migration, deliver objects directly to their destination level instead.</li>\n<li>[NEW] Ensure correct colors are used for PDCurses no matter how it is built.</li>\n<li>[NH4] Make the `redraw` command actually redraw the screen.</li></ul>\n<h3><span id=\"NitroHack_4.0.4_(2012-02-19,_21b9774)\"></span><span class=\"mw-headline\" id=\"NitroHack_4.0.4_.282012-02-19.2C_21b9774.29\">NitroHack 4.0.4 (2012-02-19, 21b9774)</span></h3>\n<p>NitroHack 4.0.4 is mostly a bugfix release.  It is the last public release of\nNitroHack by Daniel Thaler, though it exists on a separate development branch\nto mainline on its primary Git repository at github.com/DanielT/NitroHack.\n</p><p>It is this version on the stable 4.0.x that DynaHack is based on.\n</p>\n<h4><span class=\"mw-headline\" id=\"Interface_3\">Interface</span></h4>\n<ul><li>Fix crash when item action menu is cancelled with escape.</li>\n<li>Fix muddled shop labelling in the `#overview`.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_4\">Miscellaneous</span></h4>\n<ul><li>Fix crash after activating a figurine.</li>\n<li>Fix random character selection.</li></ul>\n<h3><span id=\"NitroHack_4.0.3_(2012-02-13,_3b9a876)\"></span><span class=\"mw-headline\" id=\"NitroHack_4.0.3_.282012-02-13.2C_3b9a876.29\">NitroHack 4.0.3 (2012-02-13, 3b9a876)</span></h3>\n<p>NitroHack 4.0.3 is mostly a bugfix release.\n</p>\n<h4><span class=\"mw-headline\" id=\"Interface_4\">Interface</span></h4>\n<ul><li>Use more common Unicode characters for branch stairs on Windows.</li>\n<li>Fix display on Japanese Windows by using the correct code page.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Configuration_5\">Configuration</span></h4>\n<ul><li>Fix crash when keymap dialog was brought up a second time.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_5\">Miscellaneous</span></h4>\n<ul><li>Fix C343-72: Confusing messages when you stop levitating while on a flying steed (from UnNetHack).</li>\n<li>Fix C343-174: Drum of earthquake gives inappropriate message (from UnNetHack).</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical_7\">Technical</span></h4>\n<ul><li>Fix miscompile of `nh_restore_game` with -O3 due over-eager optimization that ignored the setjmp/longjmp game exit system.</li>\n<li>Fix bones file-related saving and loading bugs.</li></ul>\n<h3><span id=\"NitroHack_4.0.2_(2012-02-05,_22c6cf3)\"></span><span class=\"mw-headline\" id=\"NitroHack_4.0.2_.282012-02-05.2C_22c6cf3.29\">NitroHack 4.0.2 (2012-02-05, 22c6cf3)</span></h3>\n<h4><span class=\"mw-headline\" id=\"Dungeon_4\">Dungeon</span></h4>\n<ul><li>Make the Vibrating Square a trap which becomes visible once it has been discovered (from AceHack).</li></ul>\n<h4><span class=\"mw-headline\" id=\"Items_4\">Items</span></h4>\n<ul><li>Formal-ID jumping boots, potions of oil and starting inventory at the beginning of each game (from AceHack).</li>\n<li>Allow 'I' to select unidentified items in loot and menu drop item lists.</li>\n<li>Show shop price of items while walking over them without #chatting (from UnNetHack).</li></ul>\n<h4><span class=\"mw-headline\" id=\"Interface_5\">Interface</span></h4>\n<ul><li>Unify controls for equipping jewelry with those of armor by allowing `W`ear/`T`ake off as substitutes for `P`ut on/`R`emove.</li>\n<li>Change default key bindings to AceHack-style:\n<ul><li>`#adjust`: `Alt-A`</li>\n<li>`#annotate`: `Ctrl-F`</li>\n<li>`#chat`: `c` or `Alt-C`</li>\n<li>`close`: unbound</li>\n<li>`#enhance`: `Alt-E` or `Ctrl-E`</li>\n<li>`#invoke`: `V` or `Alt-I`</li>\n<li>`#monster`: `M` or `Alt-M`</li>\n<li>`#pray`: `Alt-P`</li>\n<li>`#twoweapon`: `Alt-2` or `X`</li>\n<li>`version` and `verhistory`: unbound</li>\n<li>`wait`: `.` (space no longer bound)</li></ul></li>\n<li>Make `#invoke` work like in AceHack, where it can invoke, rub or be used to break wands.</li>\n<li>Improve space usage of the sidebar for floor items and inventory.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Configuration_6\">Configuration</span></h4>\n<ul><li>Change `unicode.conf` format: default entry lines start with `#` while modified lines must start with `!` to be recognized.</li>\n<li>Provide a default set of autopickup rules that picks up gold, scrolls, rings, wands and potions while leaving unpaid shop items.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Saves_3\">Saves</span></h4>\n<ul><li>Offer to delete damaged save files both locally and online.</li>\n<li>Improve reliability of attempting to restore corrupted save files.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Network\">Network</span></h4>\n<ul><li>Show the version number of the game running on the server on the main menu.</li>\n<li>Add an account menu to change password and email address.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_6\">Miscellaneous</span></h4>\n<ul><li>Fix C343-246: Wands can be wrested in zero turns by attempting to engrave with it while levitating.</li>\n<li>Fix C343-129: Cancelling objects in or near a shop.</li>\n<li>Fix C343-176: Disintegration breath on monsters is not handled properly (i.e. a steed killed and saved by life saving can be re-saddled).</li>\n<li>Many bug fixes, particularly to the save system.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical_8\">Technical</span></h4>\n<ul><li>Extend drawing info so that dungeon backgrounds can contain two types of symbols: walls/floor/etc. and interactive terrain like stairs/altars/etc.</li></ul>\n<h3><span id=\"NitroHack_4.0.1_(2012-01-23,_855e8e6)\"></span><span class=\"mw-headline\" id=\"NitroHack_4.0.1_.282012-01-23.2C_855e8e6.29\">NitroHack 4.0.1 (2012-01-23, 855e8e6)</span></h3>\n<p>NitroHack 4.0.1 is mostly a bugfix release.\n</p>\n<h4><span class=\"mw-headline\" id=\"Interface_6\">Interface</span></h4>\n<ul><li>Put location info under instead of over the inventory in the sidebar.</li>\n<li>Start a new line in the message area for every action.</li>\n<li>Show \"Bad command\" in the message area rather than in a dialog.</li>\n<li>Improve shift+hjkl cursor movement near the edges of the map.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Network_2\">Network</span></h4>\n<ul><li>Allow server admins to send messages to all connected clients.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_7\">Miscellaneous</span></h4>\n<ul><li>Many bug fixes.</li></ul>\n<h3><span id=\"NitroHack_4.0.0_(2012-01-15,_f980165)\"></span><span class=\"mw-headline\" id=\"NitroHack_4.0.0_.282012-01-15.2C_f980165.29\">NitroHack 4.0.0 (2012-01-15, f980165)</span></h3>\n<p>This is the first version of NitroHack publicly released by Daniel Thaler.\n</p>\n<h4><span class=\"mw-headline\" id=\"Interface_7\">Interface</span></h4>\n<ul><li>New Curses-based text mode interface:\n<ul><li>Unicode display with customizable display chars</li>\n<li>arrow/function key recognition</li>\n<li>multi-line message box</li>\n<li>improved status area</li>\n<li>permanent inventory sidebar (if terminal is wide enough)</li></ul></li>\n<li>Item action menus: Press the item letter in the inventory for common actions.</li>\n<li>Main menu that lets you choose to start a new game, restore an existing one, change options and more.</li>\n<li>Fully configurable keymap.</li>\n<li>Arrow keys move the cursor in text prompts instead of abruptly killing them.</li>\n<li>Item lists are sorted based on name, enchantment, BUC, erodeproofing, erosion and greasing.</li>\n<li>Item class headings show the symbol in item lists.</li>\n<li>The 'uncursed' status of an item can be explicitly shown in item names.</li>\n<li>Unexplored locations, stone and dark rooms can be customized to display as different characters on the map.</li>\n<li>Naming of monsters, items and item types occur via a menu.</li>\n<li>Much longer message history (20k messages!).</li>\n<li>Removing armor/jewelry always gives a prompt even if there's only one choice.</li>\n<li>Open doors automatically when walking into them.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Options\">Options</span></h4>\n<ul><li>All options can now be changed in-game instead of using \".nethackrc\".</li>\n<li>Changes to options made in-game are saved and restored.  The underlying files can be found under `~/.config/NitroHack/`.</li>\n<li>Birth options: Options like ELBERETH, REINCARNATION, SEDUCE and bones files, which previously could only be changed by rebuilding the game, can now be set on beginning a new game.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Items_5\">Items</span></h4>\n<ul><li>Spellbooks can be read early (while memory of the spell still exists).</li></ul>\n<h4><span class=\"mw-headline\" id=\"Monsters_3\">Monsters</span></h4>\n<ul><li>Monsters can be cycled by pressing `m` while targeting.</li>\n<li>Extinct species are shown along with genocided ones when games end.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Autopickup\">Autopickup</span></h4>\n<ul><li>Autopickup Rules: fine-grained rules to control what autopickup picks up or leaves, e.g. the following rules pick up all food and lizard corpses but no other corpses:</li></ul>\n<pre>   1. IF name matches \"*lizard*\" AND type is \"food\": &lt; GRAB\n   2. IF name matches \"*corpse*\" AND type is \"food\":   LEAVE &gt;\n   3. IF type is \"food\":                             &lt; GRAB\n</pre>\n<p>If no matching rule is found the item is left behind by default.\n</p>\n<ul><li>`pickup_thrown` option: Thrown or fired items will always be picked up automatically.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Dungeon_overview\">Dungeon overview</span></h4>\n<ul><li>`#overview`/Ctrl-O shows a list of all remembered levels and major features. Choosing a level views your memory of it.</li>\n<li>You can `#annotate` a level to describe it, which appears in the overview.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Character_history_tracking\">Character history tracking</span></h4>\n<ul><li>Heroic deeds are logged and can be viewed with the `#history` command:\n<ul><li>new depth reached</li>\n<li>experience level gained</li>\n<li>wishes</li>\n<li>killing a unique monster</li>\n<li>life saved</li>\n<li>crowning</li>\n<li>artifact gift received</li>\n<li>basic quest status</li>\n<li>major oracle consultations</li>\n<li>performing the invocation</li>\n<li>gaining/losing the Amulet of Yendor (only if formally identified)</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Dumplog\">Dumplog</span></h4>\n<ul><li>When you die, a text file will be created with the following information:\n<ul><li>final screenshot (in ASCII)</li>\n<li>character stats</li>\n<li>inventory and contents of carried containers</li>\n<li>character attributes</li>\n<li>known spells</li>\n<li>skills</li>\n<li>conducts</li>\n<li>vanquished opponents</li>\n<li>final messages</li>\n<li>dungeon overview</li>\n<li>heroic deeds (as seen in `#history`)</li></ul></li></ul>\n<h4><span class=\"mw-headline\" id=\"Interactive_replays\">Interactive replays</span></h4>\n<ul><li>Saved and finished games can be replayed with a viewer built into the game client.  Commands like view inventory can be performed while viewing a replay.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Miscellaneous_8\">Miscellaneous</span></h4>\n<ul><li>Improve died-while-helpless descriptions.</li>\n<li>Fixed about 10% of all known NetHack bugs.</li></ul>\n<h4><span class=\"mw-headline\" id=\"Technical_9\">Technical</span></h4>\n<ul><li>NitroHack network protocol: Supports network play without telnet or ssh.  The protocol is based on JSON and makes it easier to implement a browser-based NitroHack client (TODO!).\n<ul><li>The game is divided into a client and server: the client has a copy of the game for independent local play but can also connect to a server for online play.</li></ul></li>\n<li>New save game format: NetHack's save format was mostly just a dump of binary structures to disk.  The new format has two sections:\n<ol><li>A log of the initial random seed and every game action performed, written continuously as the game is played.</li>\n<li>If the game is not being played, a binary save appended after the log. This section uses a fixed-width, fixed-endian architecture and compiler-independent format which resembles NetHack's format but can be loaded on any system the game will run on.</li></ol></li>\n<li>Full separation of interface code from game code.\n<ul><li>The game core has been moved into a library (libnitrohack.so/nitrohack.dll), exposing an API of 23 functions and is largely OS independent.</li>\n<li>The display code is part of the OS/platform and must provide a list of callbacks (windowprocs) to the game.</li>\n<li>The core game and display code have no shared global state.</li></ul></li>\n<li>Rewritten input system: The game core never requests raw keys from the interface.  All interactions happen on an abstract level: the interface sends commands to the game core as strings (\"wait\", \"move\", etc.), and the game core may ask for a direction or position, etc.</li>\n<li>Layered drawing: The game core provides a set of display items for each location instead of just setting the topmost like NetHack.  The Curses interface blinks between them; this can be toggled with an option.</li>\n<li>Mersenne Twister random number generator: Required to make game logs replayable.</li>\n<li>Re-runnable game core: Several main data structures have been made const, all others are carefully re-initialized when a game is started or restored.\n<ul><li>This makes it possible to provide the main menu.</li>\n<li>NitroHack now uses a setjmp/longjmp exception mechanism to escape from deep call-chains when the game ends or panics.</li></ul></li>\n<li>Temporary level files and lock files removed.\n<ul><li>All levels are now kept in memory at all times, making a lot of locking unnecessary, and allowing them to be viewed even from other levels.</li>\n<li>Only active game logs are locked, and even then only using OS-provided non-file-based locking (fcntl on UNIX and LockFile on Windows).</li></ul></li>\n<li>No more support for antique systems and compilers.\n<ul><li>Dropped operating systems: BE, DOS, Classic Mac, Atari, VMS, Ultrix, etc.</li>\n<li>Supported compilers has been reduced to gcc, clang and msvc (probably Intel's compiler too).</li>\n<li>Doing this allowed the removal of lots of crufty code and compat macros, e.g. all current compilers support `void` and `static` so wrapping them in defines is no longer needed.</li></ul></li>\n<li>Code cleanups.\n<ul><li>Number of `#ifdef FOO` has been cut down from 1938 to just 51, making the code much more readable since indentation isn't being interrupted every couple of lines.  Compile options that weren't turned into birth options were removed as a result.  Functions have been converted to use standard prototypes rather than pre-C89 K&amp;R declarations.  Ugly things like prototype widening and follow-on `FOO_P` defines were removed too. Thanks to these changes, tools like `git diff` can now correctly show what function a line is in.</li>\n<li>All instances of the `register` keyword have been removed since optimizing compilers handle this for us.</li>\n<li>NEARDATA has been removed since it only made sense on 16-bit computers.</li></ul></li>\n<li>New CMake-based build system.\n<ul><li>This removes the need to manually edit Makefiles and header files just to build the game.</li>\n<li>Provides safe parallel builds with colorized output on Linux, and generates Visual Studio project files that build without problems on Windows.</li></ul></li></ul>\n<h2><span class=\"mw-headline\" id=\"External_links\">External links</span></h2>\n<ul><li><a class=\"external text\" href=\"https://tung.github.io/DynaHack/\">DynaHack website</a></li>\n<li><a class=\"external text\" href=\"https://github.com/tung/DynaHack\">GitHub project page</a></li>\n<li><a class=\"external text\" href=\"http://www.reddit.com/r/nethack/comments/1mvrdt/dynahack_050_new_nethack_variant_with_new_content/\">Release post on /r/nethack</a></li></ul>\n\n<!-- \nNewPP limit report\nCached time: 20240926183335\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.055 seconds\nReal time usage: 0.141 seconds\nPreprocessor visited node count: 304/1000000\nPreprocessor generated node count: 310/1000000\nPostexpand include size: 0/2097152 bytes\nTemplate argument size: 0/2097152 bytes\nHighest expansion depth: 2/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip postexpand size: 0/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    0.000      1 -total\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:22415-0!canonical and timestamp 20240926183335 and revision id 151115\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=DynaHack&amp;oldid=151115\">https://nethackwiki.com/index.php?title=DynaHack&amp;oldid=151115</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Category</a>: <ul><li><a href=\"/wiki/Category:Variants\" title=\"Category:Variants\">Variants</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=DynaHack\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=DynaHack\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/DynaHack\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\" class=\"new\"><span><a href=\"/index.php?title=Talk:DynaHack&amp;action=edit&amp;redlink=1\" rel=\"discussion\" title=\"Discussion about the content page (page does not exist) [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/DynaHack\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=DynaHack&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=DynaHack&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/DynaHack\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/DynaHack\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=DynaHack&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=DynaHack&amp;oldid=151115\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=DynaHack&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 29 May 2023, at 23:47.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.055\",\"walltime\":\"0.141\",\"ppvisitednodes\":{\"value\":304,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":310,\"limit\":1000000},\"postexpandincludesize\":{\"value\":0,\"limit\":2097152},\"templateargumentsize\":{\"value\":0,\"limit\":2097152},\"expansiondepth\":{\"value\":2,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":0,\"limit\":5000000},\"timingprofile\":[\"100.00%    0.000      1 -total\"]},\"cachereport\":{\"timestamp\":\"20240926183335\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":271});});</script>\n\t</body>\n</html>\n","rawPage":"[[File:dynahack-more-menu-full.png|300px|thumb|Screenshot of DynaHack]]\n\n'''DynaHack''' is a variant of [[NitroHack]] maintained by [[User:tungtn|tungtn]]. It features more content (from UnNetHack) and significant changes to its interface and gameplay compared to [[NetHack]].\n\nIt can be downloaded ready-to-play on Windows, and can also be compiled to run on OS X and Linux.\n\nIt started life as [[UnNetHack]]'s content and gameplay transplanted onto NitroHack with its resizing ASCII interface, but has also come to roll in parts of [[NetHack 4]], [[GruntHack]], [[UnNetHackPlus]] and a few original changes.\n\nDynaHack is available to play on <span id=\"hardfought.org\">[https://www.hardfought.org/ hardfought.org] (HDF)</span>.\n\n== Major differences to NetHack ==\n\n* Over 80 new special level layouts.\n* Revamped Gehennom with less mazes and more caverns and special levels.\n* Auto-resizing ASCII interface with multi-line message box, inventory side-bar, colored statuses and HP/Pw bars.\n* Item action command menus, selectable from inventory.\n* Detailed monster info with AC, resistances, attacks, etc. (press '/' and target with ';').\n* Automatically-tracked dungeon overview (Ctrl-O) and resistances (Ctrl-X).\n* Auto-unlock for doors and boxes, and auto-loot for boxes after auto-unlocking them.\n* Enhanced travel that walks around peaceful monsters and works in Sokoban.\n* Protection from walking into known traps/water/lava (optional).\n* Random magical equipment, e.g. short sword of fire.\n* Cross-training for related weapon skills.\n* Hitting with a weapon may reveal its enchantment.\n* Better ammo stacking and turn-free weapon swapping for ranged combat.\n* Polearms are no longer restricted in melee combat.\n* Responses to infinite pudding farming and throne farming.\n* Plus a whole lot more...\n\n== Changelog ==\n\n=== DynaHack 0.6.0 (2016-02-17, 25aaf2a) ===\n\nDynaHack 0.6.0 marks a large departure from the 0.5.x series by introducing\nquite a few gameplay and content changes aimed at eliminating tedium, improving\nfairness, and increasing tactical and strategic variety.\n\nAs always, changes in DynaHack tend to lean in favor of the player more\noften than not, so players of all skill levels will find something to\nappreciate.\n\n==== Highlights ====\n\n* New body armor and shield skills: grants bonus AC and MC; heavier suits of armor and shields get bigger bonuses and train the skills faster.\n* Magic chests!  Any item put into a magic chest can be looted out of any other magic chest in the dungeon, placed at set locations.  This eliminates tedious stash consolidation and transporting of items to and from stashes and fixed dungeon resources like altars, shops and water.\n* Mazes completely removed from Gehennom!\n* New resistance system: resistances gained from corpses and crowning only provide partial protection.\n* Reflection no longer reflects breaths (except disintegration).\n* Instant petrification completely replaced with delayed petrification: you will always have a few turns to save yourself from instant death.\n* Drawbridge instant death removed: drawbridges can only be destroyed by force bolts when closed, not open.\n* Extra turn before drowning attack instant death.  Players upgrading from an older version of DynaHack should adjust their `msgtype` as described in the Configuration section of this changelog.\n* Zombie corpses may revive (lower chance if playing a priest).\n* Sokoban prizes moved to Mines End, making Sokoban much more optional.\n* Nymph level moved into Town branch; Town shops are larger to compensate.\n* Effect of skills on to-hit and damage raised in general.\n* Items that are spawned with a magical property have a much higher chance of being spawned with additional properties.\n* Slings now get damage bonuses from strength and enchantment.\n* Spells can be aborted at direction, position and item prompts without using power or hunger.\n* New `repeat_prefix` keymap and `repeat_num_auto` option for people accustomed to NetHack's classic number key movement scheme.\n* New `msg_per_line` option: Shows each message on a new line in the message area when enabled.\n* Potion color alchemy improved in favor of players, making it more of an alternative to NetHack's alchemy instead of a nerf.\n* Curses on armor, jewelry and eyewear are now revealed when they are worn instead of when trying to take them off.\n* More messages for things that used to happen silently: uncontrolled teleportation, finding secret doors/corridors while searching, items becoming randomly cursed.\n* Iron bars can be destroyed by acid or eaten by certain monsters.\n\n==== Character ====\n\n* Resistances gained from corpses and crowning only provide partial protection, and resistances from your race/role or from worn equipment are immunities (based on L's partial resistance patch).  Exact partial resistance effects:\n** fire, cold, shock: half damage\n** sleep: half duration, doubled chance of awakening in case of combat\n** disintegration: 90% chance of resisting\n** poison: half damage, having any protects against other effects\n** As a side effect of this patch, negative AC and half physical damage resistance no longer reduce damage from fire, cold, shock or acid attacks.\n* Reflection no longer reflects breaths; disintegration breath is treated as a beam to prevent unfair deaths due to this change.  The breath graphic has been changed accordingly.\n* Changes to skills:\n** New body armor skill:\n*** Body armor skill grants bonus AC and MC for suits of body armor based on their weight and capped by your skill, as well as weight reduction for worn body armor.\n*** Grants (weight / 50 - 2) bonus AC for body armor capped at +2 at basic, +4 at skilled and +7 at expert.\n*** Grants (weight / 100 - 1) minimum MC for body armor capped at MC1 at basic, MC2 at skilled and MC3 at expert.\n*** Reduces weight of worn body armor heavier than leather armor (150wt) according to the difference: 25% at basic, 50% at skilled and 75% at expert, e.g. plate mail (450wt) only weighs 225wt at expert skill. This reduced weight does not affect the AC or MC bonuses above.\n*** Trains to expert in between 16k and 24k turns; wearing heavier suits of body armor speeds up training.\n*** Maximum skill levels:\n**** Expert: Knight, Samurai\n**** Skilled: Barbarian, Convict, Priest, Ranger, Valkyrie\n**** Basic: Archeologist, Caveman, Rogue, Tourist\n**** Restricted: Healer, Monk, Wizard\n**** Unlike weapon skills, body armor skill always starts at unskilled.\n** New shield skill:\n*** Shield skill grants bonus AC and MC for shields based on their weight and base AC, and is capped by your skill.\n*** Grants (weight / 20 + base AC) bonus AC for shields capped at +2 at basic, +4 at skilled and +7 at expert.\n*** Grants (base AC + [1 if weight > 50]) minimum MC for shields capped at MC1 at basic, MC2 at skilled and MC3 at expert.\n*** Trains to expert in between 11.2k and 16.8k turns; wearing heavier shields speeds up training.\n*** Maximum skill levels:\n**** Expert: Knight, Priest, Valkyrie\n**** Skilled: Archeologist, Barbarian, Ranger, Rogue, Samurai\n**** Basic: Caveman, Convict, Tourist\n**** Restricted: Healer, Monk, Wizard\n**** Unlike weapon skills, shield skill always starts at unskilled.\n** Martial arts and bare-handed combat now get to-hit bonuses from skills just as weapons do (from SporkHack).\n** Allow 1-damage hits to still train relevant skills; in NetHack, hitting with a weapon at unskilled gives -2 to damage, so weapons that couldn't roll at least a 4 on damage wouldn't be trained at all!\n** Accelerate heavyshot skill training: hitting with a heavyshot weapon trains the relevant skill by 1dX points similar to its damage multiplier.\n** Training of spellcasting skills restored to NetHack values: 20/80/180 for basic/skilled/expert (was 100/200/400).\n** Effect of skills on to-hit and damage raised in general (from dNetHack):\n*** Expert weapon skill gives +5/+3 to-hit/damage (was +3/+2).\n*** Expert two-weapon skill gives -2/+2 to-hit/damage (was -3/+1).\n*** Skilled riding gives +2 to damage (was +1).\n*** Expert riding gives +2/+5 to-hit/damage (was +0/+2).\n*** Restricted weapon skill gives -5 to damage (was -2).\n** Feeling more confident in your skills now interrupts multi-turn actions.\n** Unskilled no longer causes thrown/fired projectiles to slip due to low skill level; this is now limited to restricted skill.\n** Allow monks to reach expert skill in shuriken.\n* Increased sling damage: slings now get the strength damage bonus (otherwise reserved for melee) and sling enchantment affects damage of fired projectiles (normally launcher enchantment only affects to-hit); their damage now even competes with thrown daggers!\n* Change effect of luck on to-hit to +(Luck / 3) across the board (previously it was +Luck to everything except melee; from SporkHack).\n* Spells can be aborted at direction, position and item prompts without using power or hunger.\n* Teleport control allows teleportation to be cancelled without using a turn and in the case of deliberate teleports consuming hunger.\n* Punishment (i.e. being attached to a ball and chain) no longer stops you from displacing pets.\n* Movement at low HP (less than 10, or 5 if polymorphed) is stopped at strained (the same encumbrance that causes HP loss on movement) instead of stressed, which simplifies the relationship between encumbrance, HP loss and stopped movement a bit:\n** Before:\n*** Stressed\n**** cannot move with less than 10 HP (5 if polymorphed)\n*** Strained\n**** lose 1 HP every 30 turns if moving\n**** lose 1 HP every 3 turns if attacking\n** After:\n*** Strained\n**** cannot move with less than 10 HP (5 if polymorphed)\n**** lose 1 HP every 30 turns if moving\n**** lose 1 HP every 3 turns if attacking\n* Rogues start with a +1 short sword (was +0).\n* Samurai start with a +3 wakizashi (was +0), which slightly out-damages their starting +0 katana.\n* Player vampires no longer try to drink blood when biting or abuse dexterity while satiated (from UnNetHack).\n* Player vampires may bite petrifying, sliming or disintegrating monsters if stunned, confused or hallucinating (from UnNetHackPlus).\n** Players polymorphed into mind flayers will stop themselves from biting petrifying, sliming and disintegrating monsters, as long as they are not stunned, confused or hallucinating (from UnNetHackPlus).\n* Prevent player vampires from trying and consequently failing to bite shades.\n* Show message when trying and failing to engulf a huge monster while polymorphed as an engulfing monster (from UnNetHackPlus via UnNetHack).\n* Fix C343-238: \"(Unix and VMS only) The 'Who are you?' prompt does not accept digits in the response.\"  The official bug description is inaccurate: it's names that START with a digit that aren't accepted by vault guards, and it applies to all platforms.\n* Fix ring of sustain ability blocking -1 strength change when becoming weak from hunger, allowing it to be exploited to gain strength on demand.\n* Fix off-hand weapon properties remaining after ending two-weapon combat.\n\n==== Dungeon ====\n\n* New dungeon feature: magic chests!\n** Any item placed in a magic chest can be looted out of any other magic chest in the dungeon, removing the need to consolidate stashes.\n** Magic chests are placed in set locations near useful resources such as altars, shops and water, reducing the distance that items need to be hauled to such resources.  The set locations are:\n*** Minetown\n*** Sokoban entry level\n*** Fort Ludios\n*** Quest home level\n*** Castle\n*** Valley of the Dead\n*** Orcus-town\n*** Fake Wizard's Tower\n** Magic chests are fixed to the ground and therefore cannot be tipped.\n** Attempting to put a corpse set to revive into a magic chest will revive it immediately, to prevent exploiting them to get rid of such corpses.\n* New trap type: shuriken traps, which only appear in quest levels of certain roles.  Replaces dart traps in monk and samurai quests, and also sometimes for ranger and rogue quests.\n* Changes to quest levels:\n** Add guaranteed tinning kit to the Valkyrie quest home level to give players an alternative to eating giant corpses whole for strength and waiting out the satiation outside of the quest portal.\n** Remove squeeze gap in Caveman quest home level.\n** Redesign Ranger quest home level with a more organic layout and wider corridors (from dNetHack, originally by Khor).\n*** Redesign Ranger quest goal level with water, trees and an altar (dNetHack).\n* Changes to standard rooms-and-corridors level generation:\n** Grid room level style (from K-Mod).\n** Raise chance of special rooms-and-corridors level style from 10% to 20%.\n* Changes to Medusa's Island:\n** Give the shortsighted flag to new Medusa's Island levels from UnNetHack, to reduce swarming from ravens/snakes turning those levels into glorified Big Rooms with more water.\n** The shield of reflection in the statue of Perseus now has the same chance of being blessed or cursed as any other item, instead of being cursed or uncursed with the probability based on the map encountered.\n* Changes to Gehennom:\n** Mazes completely removed from Gehennom!  Both fill levels and filler around special levels consist of lava caverns.\n** Add demon lairs for Geryon, Dispater, and Yeenoghu (from GruntHack).\n* Changes to the Town branch:\n** Nymph level is now guaranteed and appears between the Town surface and filler levels.\n*** Nymph level no longer contains traps (squeaky board or otherwise).\n*** 90% of spawns on the Nymph level are nymphs and leprechauns.\n** Town surface level has larger shops.\n* Changes to Vlad's Tower:\n** New entrance level to Vlad's Tower with trees, water, vampires, zombies, ravens and a drawbridge entrance leading to the traditional tower levels (from dNetHack).\n* Changes to the End Game:\n** Moving on the Plane of Air is generally much easier, as it now only stops movement when failing a d20 roll against your dexterity (was previously 75% of the time for all characters).\n* Sokoban prizes moved to Mines End; the end of Sokoban now has a guaranteed sack containing 8 rings and wands (the ring and wand on each level has been removed as a result).  This makes Sokoban much more optional in DynaHack than it is in NetHack.\n* Remove lava from one of the versions of the Castle level.\n* Levels between Medusa's Island and the Castle are now water caverns instead of lava caverns, and have less evil monsters.\n* Allow magic mapping of the Valley of the Dead and the last Dragon Caves level.\n* Iron bars can be dissolved by acid (from UnNetHack).\n* Destroying iron bars in Sokoban counts against its shortcut conduct.\n* Drawbridge instant death removed: drawbridges can only be destroyed by force bolts when closed, not open.\n* Prevent magic traps from being created above dungeon level 5.\n* Reduce initial scuffing of randomly-placed engravings to increase the chance that they can be read when they're first encountered.\n* Fix the cosmetic issue of horizontally-flipped levels appearing slightly misaligned in the map area.\n* Fix waking monsters level-wide when entering courts, swamps, morgues, zoos and nymph gardens for the first time without stealth; only monsters in the room being entered have a chance of being woken.\n* Fix tracking of upward branches with `#history`, and make a note when entering any new level and not just deeper ones (from NetHack4).\n\n==== Wishing ====\n\n* Wands of wishing are generated with at least one charge (1-3 instead of 0-2, from UnNetHack 5).\n* Players can wish for up to (and including) 100 projectiles (from UnNetHackPlus via UnNetHack).\n* New alternate spellings recognized by the wish parser:\n** \"wolfsbane\" (sprig of wolfsbane)\n** \"scroll of teleport\" (scroll of teleportation)\n\n==== Items ====\n\n* New item: silver short sword (SLASH'EM), d6 damage (d8 vs. large), weight 36.\n* Potion color alchemy improved in favor of players, making it more of an alternative to NetHack's alchemy instead of a nerf:\n** All color-based random potion descriptions are now guaranteed to map to an in-game potion.  Previously, with 25 random potions and 37 descriptions for them, some colors would fall into the gap, making it impossible to use them in alchemy and cutting out useful mixtures.\n** Potions of full healing, gain level and gain ability are guaranteed to map to secondary colors (i.e. puce, magenta, orange, amber, emerald, dark green) or the browns (i.e. ochre, brown), so they will always be the outcome of some alchemy combinations.\n* More formal identification for items under certain circumstances:\n** Formal ID tin whistles and magic whistles when used.\n** Formal ID magic flutes and magic harps when used.\n** Formal ID enchant armor scrolls when they turn dragon scales into dragon scale mail.\n** Formal ID rings of stealth and elven cloaks when wearing or taking them off gives or takes away stealth, to make them consistent with elven boots.\n* Changes to the Amulet of Yendor:\n** Amulet of Yendor need only be carried to give hints about nearby magic portals, instead of having to wield or wear it (from SporkHack).\n** Amulet of Yendor has a much higher chance of giving hints about nearby magic portals, and may map/detect them if carried in inventory.\n** Amulet of Yendor no longer teleports when dropped.\n* Guarantee a wand of cancellation in the Castle chest that can be used for blanking scrolls and potions.\n* The shield of reflection now weighs 50 (was 75) due to the introduction of the new shield skill.\n* Wielding or unwielding a weapon of stealth identifies the stealth property on that weapon and gives identifying messages similar to wearing other items that grant stealth.\n* Hitting a monster with a weapon of stealth identifies the stealth property on that weapon.\n* Improve stacking of random candles by removing random chance of them being blessed or cursed (from AceHack).  Between wax and tallow candles, and blessed, uncursed and cursed status, an inventory could be filled with 6 different candle stacks, even with DynaHack's improved item stacking!\n* Grant +1 to-hit for all short swords (from K-Mod).\n* Allow knife and stiletto as possible tin-opening tools (from K-Mod).\n* Items that are spawned with a magical property have a much higher chance of being spawned with additional properties.\n* The \"magical\" prefix on items is only omitted once all properties on it have been identified instead of once any of them have been, making it easier to discover items that have more than one property.\n* Show which hand a ring of levitation was on when a sink forcefully removes it.\n* Rings with enchantment +3 or lower no longer have a chance of exploding when charged, and rings at -5 or lower will only explode from cursed charging (from SporkHack).\n** Remove ring destruction from shock damage.\n* Quest artifacts that are spawned at the final level of the Quest will be generated fixed/erodeproofed.\n* Having free action reduces paralysis from using a crystal ball from 1-10 turns down to 1-2.\n* Land mines and beartraps weigh less (200/100 respectively, previously 300/200; from UnNetHackPlus via UnNetHack).\n* Changes to shuriken:\n** Shuriken no longer break when thrown at monsters.\n** Shuriken now weigh 3 (previously 1) and cost 10 zorkmids (previously 5).\n* Crossbow bolts only break half as often as other projectiles when fired at and hitting monsters.\n* Fire, cold and shock immunity prevent item destruction.\n** Wearing a cloak of protection prevents 80% of all item destruction.\n* Fix prefixes like \"magical\" and \"prize\" not appearing on rings, wands, spellbooks and iron balls under certain circumstances.\n* Fix C343-146: \"Unseen wand of striking becomes known if zapped by unseen monster and it hits a door.\"\n* Fix wielding of a cockatrice corpse bare-handed while wearing chromatic dragon scales or scale mail not triggering petrification.\n* Fix leaking of descriptions of prizes selected from level memory with far-look after the prize itself has vanished.\n* Fix contents of containers created on special levels not being included in the initial container weight.\n* Fix completely eroded armor being destroyed by further erosion when greased or erodeproofed.\n* Fix crash when item is unequipped or lost while being equipped (from NetHack4).\n** Fix ring worn message being shown after it is forcefully removed by a sink when wearing a ring of levitation over a sink.\n\n==== Monsters ====\n\n* Instant petrification completely replaced with delayed petrification: you will always have a few turns to save yourself from instant death.\n* Drowning attacks give two turns for players to react before instant death (was one turn); a monster \"pulls you towards the water\" before it drowns you.\n* Zombie corpses may revive (lower chance if playing a priest).\n* All eels in water can now be seen from afar, like other monsters.\n* Metallivores and disintegrators can eat through iron bars (from UnNetHack).\n* Allow Demogorgon to be bribed.\n* Tone back demon bribery amounts inherited from UnNetHack: demons now only ask for 1000 to 2000 gold.\n** Giving within 80% of the money demanded for a demon bribe succeeds between 25% to 75% of the time depending on how close your offer is to the demanded amount.\n* Tone back 1-to-1 initial monster population difficulty inherited from NetHack4: it is now only like that for the first 10 levels, then 1-to-2 for the remainder.  This gives a progression similar to that of NetHack.\n* Tone back on the effect of a monster's level on its raw spell damage; otherwise Asmodeus cold spell-casting attack could do over twice the damage of Master Kaen without cold resistance, which is too much even for overprepared characters.\n* Gnomes that spawn with candles will only get a single candle instead of a whole stack of candles.\n* Pets never displace the player from the stairs when entering a level.\n* Ninja have a 50% chance of being spawned with some shuriken.\n* Remove distintegrators.\n* Nymphs always generate asleep (was 80%).\n* Fix monsters getting your racial armor bonuses instead of theirs.\n\n==== Interface ====\n\n* More messages for things that used to happen silently:\n** Show message when teleported without teleport control.\n** Show message when searching finds secret doors or corridors.\n** Show messages for and reveal BUC of items that are randomly cursed by e.g. the Wizard of Yendor or sitting on a throne with bad luck.\n** Show a message of the identity of whistles and instruments when they are discovered on use.\n** Show message when pets or other monsters grow up (from SLASH'EM Extended).\n** Attacking with a weapon of stealth, as well as with a knife while stealthy, gives a message that you \"silently hit\" or \"silently kill\" monsters, hinting at options for fighting without awakening nearby monsters.  These messages are new, but the mechanic itself is not.\n* Make wearing and taking off messages more descriptive, e.g. \"You finish taking off a +0 leather armor\" instead of \"You finish taking off your suit.\"\n* Curses on armor, jewelry and eyewear are now revealed when they are worn instead of when trying to take them off.\n* Skill training progress is now visible in the `#enhance` menu, e.g. \"long sword [basic] 20%\" means the long sword skill is 20% of the way to advancing to skilled.\n** Mark skills that have reached their maximum as \"MAX\", and show it as soon as the level is reached.\n** Suppress \"0%\" in `#enhance` menu for untrained skills.\n** Show skill caps in `#enhance` menu, e.g. \"long sword [basic / expert]\".\n** Show skill slot cost to enhance skills when choosing a skill from the `#enhance` menu, e.g. \"Enhance knife to Basic for 1 slot (2 slots left)? [yn] (n)\"\n* Show your character's race, role, gender and alignment when asked to enter a name for that character (based on the same change in NetHack4).\n* Highlight lit light sources in item listings, e.g. inventory sidebar.\n* Adjust `safe_water` and `safe_lava` behavior: they only warn of walking into such hazards in your INPUTTED direction, but won't stop you if stunning or confusion causes you to stumble sideways into them.\n* Show the tombstone on death even if skipping disclosure information.\n** Extend the tombstone by a line for longer death causes, e.g. \"petrified by kicking a chickatrice corpse\".\n* Allow aborting of position prompts for jumping, polearm pounding, grappling hooks, scrolls of stinking cloud (still consumes the scroll), paying with multiple shopkeepers in sight and spells of fireball and cone of cold.\n* Dungeon `#overview` can toggle showing levels with no notable features.\n** Dungeon `#overview` no longer exits after viewing a single level.\n* Make extended command prompt case insensitive, like NetHack's (from NetHack4).\n* Change default corridor character back to `#` in Unicode graphics mode.\n* Show warning level 0 for very weak monsters when the player has a source of warning (previously these monsters were not shown at all).\n* Pressing escape at \"--More--\" now shows the last messages in the message area instead of simply cutting them off.\n* Improve numpad key recognition for default PuTTY configuration where application keypad mode is enabled by default.\n* Fix the color of the Wizard's Tower walls when viewed from another level using the `Ctrl-O` dungeon overview.\n* Fix \"T - take off\" not appearing in the item action menu of meat rings.\n* Fix coordinates reported when getting a position from the player.\n* Fix Rogue level graphics leaking onto other levels when Unicode graphics option is set but Unicode support is not detected.\n* Fix ugly borders in PuTTY by replacing ncurses box drawing characters with Unicode box drawing characters.\n\n==== Configuration ====\n\n* New `repeat_prefix` in the `keymap` option: Custom key to begin entering repeat prefixes for commands, e.g. set to \"n\" so \"n20s\" searches for 20 turns.\n* New `repeat_num_auto` option: toggle whether or not pressing a number key automatically begins entering repeat prefixes; people who have a habit of using the top-row number keys for diagonal movement can toggle this option off and map those keys to the movement commands under the `keymap` option.\n* New `msg_per_line` option: Shows each message on a new line in the message area when enabled; can improve readability of messages when the message area is large.\n* \"* pulls you towards the water!\" mapped to MORE action under `msgtype` submenu option for the message given in the new extra turn before monster drowning attacks.\n* Frames and borders now respect the 'graphics' option, using Unicode box drawing characters in Unicode mode, and ASCII replacements in plain mode.\n\n==== Miscellaneous ====\n\n* Scramble some words in messages on April Fools Day (from NAO).\n* Fix end-of-game scores for non-ascending games being doubled like ascending ones.\n\n==== Technical ====\n\n* xlogfile patch (via NetHack 4).\n* Allow certain directories to be customized on game launch:\n** `-H <dir>` to set the data dir (e.g. nhdat, license)\n** `-V <dir>` to set the var data \"playground\" dir (e.g. xlogfile, bones)\n** `-U <dir>` to set the user dir (e.g. player saves and config files)\n* Set file permissions on *nix-like operating systems (e.g. Linux and OS X) to 644 for player config files, preserved save log files, dumplogs, `logfile`, `xlogfile` and `record`.\n* Rename launch script for *nix-like operating systems (e.g. Linux and OS X) from `dynahack` to `dynahack.sh` to prevent it from overwriting the actual game or confusing and being ignored by the installation system in case the build system is accidentally set with identical `SHELLDIR` and `BINDIR` paths.\n* Replace `LD_LIBRARY_PATH` in `dynahack.sh` *nix-like launch script with an rpath configured on the `dynahack` binary.\n* Allow `INSTALL_BASE` to be passed to the initial cmake invocation to quickly set `BINDIR`, `LIBDIR`, `DATADIR` and `SHELLDIR` to sensible default paths under it.\n* Clean up timer debugging code a bit.\n* Limit name of character to `PL_NSIZ` bytes.\n* Clear and redraw the screen every 100 turns to stop dgamelaunch from replaying the entire session when trying to spectate a game.\n* Improvements to static builds (i.e. build configured with `ALL_STATIC` enabled):\n** `-fPIC` no longer included with static builds.\n** `libnitrohack.a` no longer installed with static builds, since it's already rolled into the game binary.\n* Treat improperly-truncated save files like crashed ones, instead of trying and failing to load/restore them.\n* Verify integrity of timers and light sources attached to monsters and objects to prevent unloadable save files.\n** Fix timers being transferred into timer chains out-of-order (NetHack 4).\n* Fix warning when leaving bones while wielding an attached heavy iron ball.\n* Fix infinite loop when placing a branch entrance on joined cavern levels.\n* Allow SPILL lev_comp command to accept 0 as a size for e.g. breaking holes in cavern walls.\n* Fix some replay desyncs due to uninitialized data.\n* Prevent random chance of same-race polymorph in wizard mode.\n* lev_comp: New `prize` flag for `OBJECT` statements, denoting objects that should be considered a prize of that level; prizes are ignored by monsters, don't fall down holes, are ignored by autopickup, and picking up a prize causes other prizes on that level to vanish.\n* Fix crash in encumbrance display due to weight underflow e.g. when wishing for 12 million (12 with six zeros) loadstones in wizard mode.\n* Fix \"bad fruit\" warnings when slime mold is in inventory while inventory sidebar is updated while saving bones.\n* Fix handling of end-of-line comments in `DynaHack.conf` and `curses.conf`.\n* Prevent some potential unbounded reads by placing limits on \"%s\" format specifiers in `scanf()` family functions used while reading save file headers.\n* Prevent infinite looping for disconnected player input by aborting, in case the hangup signal handler doesn't abort for some reason.\n* Force cursor to be visible after quitting the game.\n* Convert inversed 10-minus-AC D&D-style armor values with just the armor's regular AC value in `src/objects.c`.\n\n=== DynaHack 0.5.5 (2014-01-16, 78d772a) ===\n\nDynaHack 0.5.5 was a bugfix release for a potential crash with items contained\nin statues interacting with the timer-related fixes in the previous releases.\n\n==== Technical ====\n\n* Prevent a crash when the timer-related fixes of the past couple of releases touched items contained in statues due to the latter's failure to correctly set their level.\n\n=== DynaHack 0.5.4 (2014-01-06, 34706ac) ===\n\nDynaHack 0.5.4 was a hotfix release for a timer-related issue.\n\n==== Technical ====\n\n* Fix lights and timers failing to follow the items they were attached to when the items were moved between levels, causing affected games to fail to load.\n\n=== DynaHack 0.5.3 (2013-12-24, 32216b3) ===\n\nDynaHack 0.5.3 was a bugfix release that fixed a panic when loading a game with\ntimed items in the Advent Calendar as well as a few other bugs, and adds the\nnew `darkmsg` option to control whether past messages are darkened.\n\n==== Character ====\n\n* Fix warning when trying to take off merged dragon skin.\n\n==== Dungeon ====\n\n* Prevent the Advent Calendar exit portal from being created in one of its closets (from UnNetHack).\n\n==== Items ====\n\n* Various `#tip` fixes from the same feature in UnNetHack:\n** Tipping a trapped container triggers the trap.\n** Fix tipping of a zero-charge bag of tricks being used as a normal bag.\n** Prevent autopickup from picking up tipped items.\n** Observe cat when tipping boxes dropped by quantum mechanics.\n\n==== Configuration ====\n\n* `darkmsg` option: toggle whether or not older messages are colored dark blue in the message box.\n\n==== Miscellaneous ====\n\n* Fix blank lines being eaten when viewing license and version history in-game.\n\n==== Technical ====\n\n* Fix billing of items in nested containers and crediting of contained gold in the deep recesses of the shop code that could lead those things suddenly and silently becoming shopkeeper property, even if they didn't typically sell them!\n* Fix utilities updating but failing to rebuild the data files that depended on them; stale data files like the ones packaged with DynaHack 0.5.0 should be a thing of the past.\n* Fix crash when positioning a revived monster on entering a level.\n* Fix panic due to timers failing to find the Advent Calendar level during loading (the last level of the ledger in general), preventing affected games from being loaded.\n\n=== DynaHack 0.5.2 (2013-10-07, 5f067e7) ===\n\nDynaHack 0.5.2 was a hotfix release that greatly increased save file integrity\nand ability to recover save files by fixing cases of incomplete data being\nlogged that were overlooked by NitroHack and NetHack4.\n\n==== Saves ====\n\n* Fix systemic oversight in save code ported from NetHack4 that failed to ensure that diffs of the binary save section were being fully written to the log, leading to save corruption.\n* Fix `autopickup_rules` and `msgtype` failing to ensure that changes to them were being fully written to the log, leading to save corruption.\n\n=== DynaHack 0.5.1 (2013-09-28, a1289c3) ===\n\nDynaHack 0.5.1 was a hotfix release to fix a packaging mistake with the Windows\nrelease that caused special levels to fail to load.\n\n==== Configuration ====\n\n* Disable `darkroom` by default when `darkgray` is also off by default, since it led to ugly dark blue for almost everything not in direct line-of-sight.\n\n==== Technical ====\n\n* Fix a major packaging mistake with the pre-compiled Windows build where certain special level data files had a version number incompatible with the shipped game executable and thus refusing to load them and show a generic full-level maze instead.\n\n=== DynaHack 0.5.0 (2013-09-18, 65751e0) ===\n\nDynaHack 0.5.0 is the first public release of DynaHack.  It was originally\nintended to be a port of UnNetHack using NitroHack instead of NetHack 3.4.3 as\na base (in fact it was originally named \"UnNitroHack\", though no version with\nthat name was ever officially released), but has since taken on a life of its\nown with interface and reliability improvements from NetHack4, highlights from\nother NetHack variants such as random magical equipment from GruntHack and\nmonster spoiler info from UnNetHackPlus, plus many of its own changes.\n\nUnNetHack itself is a NetHack variant that features more randomness, challenges,\nlevels and fun, rolling in many community patches, selected changes from other\nNetHack forks like SporkHack and SLASH'EM, and many original changes.\n\nThe majority of changes listed below come from UnNetHack.  The remainder are\nsourced according to the following legend:\n* [NEW] = changes originally made for DynaHack specifically\n* [NH4] = changes ported from NetHack4\n* [Gr] = changes ported from GruntHack\n* [UnP] = changes ported from UnNetHackPlus\n* [KMd] = changes ported from K-Mod\n\n==== Highlights ====\n\n* New vampire starting race.\n* New convict starting role.\n* Over 80 new layouts for special levels.\n* Gehennom now has caves, lava and more special levels mixed with its mazes.\n* Changes to Sokoban:\n** Choice of Sokoban prize: bag (holding), cloak (magic resistance or displacement) or amulet (reflection, life saving or ESP).\n** Sokoban is one level shorter, i.e. 3 levels instead of 4.\n** Sokoban luck penalty removed, cheating is tracked as a conduct instead.\n* New branches: Advent Calendar, Town, Black Market, Dragon Caves.\n* New random rooms: nymph gardens, dilapidated armories, pool rooms.\n* New shops: tin shops, instrument shops, pet stores.\n* New terrain types: dead trees, muddy swamps.\n* New items: chromatic dragon scales, chromatic dragon scale mail, gold dragon scales, gold dragon scale mail, iron safes, Thiefbane, rings of gain intelligence/wisdom/dexterity, tinfoil hats, potions of blood/vampire blood, Luck Blade, The Iron Ball of Liberation.\n* New monsters: One-eyed Sam, chromatic dragon, Tiamat, gold dragon, snow ant, vorpal jabberwock, disintegrator, Aphrodite, Cthulhu, giant turtle, wax golem, enormous rat, rodent of unusual size, miner, prison guard, lava demon, inmate, Robert the Lifer, Warden Arriana, locust.\n* [NEW] New mechanics:\n** [NEW] Heavyshot: Certain thrown/fired weapons get a 1dX multiplier to damage instead of multishot.\n** [NEW] Skill cross-training: high level skills accelerate the training of related lesser skills.\n* [Gr] Random magical properties for weapons, armors and jewelry: fire, frost, thirsty (draining), reflection, telepathy, searching, warning, stealth, fumbling, hunger, aggravation, vorpal (blades only), detonation, speed, oilskin, power, dexterity, brilliance, displacement, clairvoyance.\n* [Gr] Add `#tip` command to empty container contents onto the floor, allowing e.g. reaching holy water in a bag when hands are stuck to a cursed two-handed weapon.\n* Randomized dragon appearances.\n* Wishes made less common/numerous, and wishes not from a wand cannot grant magical items.\n* Weak unique monsters made tougher: Vlad the Impaler, Juiblex.\n* Changes to Elbereth:\n** Monsters that now ignore Elbereth: Vlad the Impaler, quest nemesis, all unique demons.\n** Minotaurs now get scared away by Elbereth.\n* Scrolls of gold detection can no longer be used to detect magic portals.\n* Scrolls of genocide made weaker.\n* Bags of holding scatter their contents instead of destroying them when they blow up.\n* Mysterious Force replaced with no-teleport.\n* Fighting wakes up nearby monsters.\n* Limit pudding farming: puddings split by max HP instead of current HP and never leave death drops.\n* Improvements to weaker artifacts: Banes, Heart of Ahriman.\n* Artifact naming bug fixed.\n* Color alchemy: potions mix by description color instead of base potion type.\n* Poison instadeath replaced with max HP damage.\n* [NEW] Colored walls and floors: Use more colors for special levels, terrain and dungeon features; toggle with `mapcolors` option.\n* [NH4] Known intrinsic tracking: reached by pressing `Ctrl-X`.\n* [UnP] Detailed monster info: select monsters or enter their name with `/` to view speed, base AC, resistances, attacks and more.\n* [NH4] Autoexplore: bound to `v` by default.\n* `msgtype` option: force \"--More--\" for or hide messages based on patterns.\n* [NEW] Show total weight and available slots of inventory.\n* [NEW] Borders change color when low on HP: <75% yellow, <50% orange, <25% red.\n* [NEW] Show number of turns used after multi-turn actions, e.g. \"You finish your dressing maneuver.  [6 turns]\" (toggle with `delay_msg` option).\n* [NEW] Pressing `??` shows quick command key reference, reorganized to show commands by topic instead of alphabetically.\n* [NEW] Show \"(very) rotten\" on corpses old enough to give food poisoning.\n* [NH4] Neater, more informative AceHack-style status area.\n** Show dungeon name in the status area.\n** [NEW] Show player race in the 3-line status area.\n\n==== Character ====\n\n* New vampire starting race:\n** Can start as barbarians, convicts, rogues and wizards.\n** Can only feed by biting enemies in combat or drinking potions of blood or vampire blood.\n** Always flies, starts with -5 alignment and -1 luck.\n** Vampires stop themselves from biting monsters that are dangerous on contact, e.g. petrify, slime, disintegrate, Riders.\n* New convict starting role:\n** Can be played as humans, orcs and vampires.\n** Starts with a cursed striped shirt, some rocks, a pet rat and chained to a heavy iron ball that they can wield which uses the flail skill.\n** Enters the dungeon on the verge of hunger, but lasts twice as long at hungry and below.\n** Fights Warden Arriana for The Iron Ball of Liberation.\n* Exotic pets:\n** Rogues may start with a pet monkey.\n** Rangers and cavement may start with a pet wolf or winter wolf cub.\n** Tourists may start with a pet baby crocodile.\n* Cap to-hit accuracy to 75% for weapons at unskilled or non-weapon items.\n** [NEW] Remove luck attribute from to-hit calculations since it was skewing them way too much.  Monk to-hit penalty when wearing body armor has been reduced to -10 (from -20) to compensate.\n* Items thrown at restricted/unskilled have a higher chance of slipping.\n* Fighting wakes up nearby monsters, with noise reduced by having stealth and/or using light weapons.\n* Increased 'hits' needed to advance skill levels:\n** basic = 100 (was 20)\n** skilled = 200 (was 80)\n** expert = 400 (was 180)\n** master = 800 (was 320)\n** grand master = 1600 (was 500)\n* [NEW] New mechanics:\n** [NEW] Heavyshot: Crossbows, spears, javelins, shuriken and boomerangs get a 1dX multiplier to damage instead of multishot.\n*** [NEW] Elves, dwarves and orcs get +1 heavyshot for throwing spears of their matching race.\n*** [NEW] Javelins get +1 heavyshot for basic skill and above, so the bonus is 1/2/3/4 (versus 1/1/2/3) for unskilled/basic/skilled/expert.\n** [NEW] Skill cross-training: high level skills accelerate the training of related lesser skills.\n*** Short Blades: dagger, knife, short sword\n*** Chopping Blades: axe, pick-axe, broadsword\n*** Swords: short sword, broadsword, long sword, two-handed sword, scimitar, saber\n*** Bludgeons: club, mace, morning star, flail, hammer, quarterstaff\n*** Flails: morning star, flail, whip\n*** Polearms: quarterstaff, polearm, spear, javelin, trident, lance, unicorn horn\n*** Launchers: bow, sling, crossbow\n*** Thrown: javelin, sling, dart, shuriken, boomerang\n* Around 1-in-5 items may be randomly removed when bones are left.\n* Allow quest to be entered at experience level 10 (was 14).\n* Extended Conducts: Birth options can be set to declare conducts and set up characters for them appropriately: ascet, athiest, illiterate, pacifist, nudist, thievery, vegan, vegetarian, zen.\n* Track number of times Elbereth is used as a conduct.\n* Track number of bones levels encoutered and show it with conducts.\n* Track only wearing racial armor as a conduct.\n* The chance of instant death when taking poison damage without resistance is replaced with damage to max HP.\n* DYWYPISI patch: Show unknown properties of items between square brackets when identifying inventory on death.\n* Show more info about the character on death.\n* [NEW] Stacks of daggers in initial inventory start quivered.\n* Put \"!\" next to spells that are about to be forgotten.\n* 25 strength grants +7 bonus to damage (was +6).\n** Double damage bonus/penalty for two-handed weapons.\n* Grant 1 extra AC for every piece of armor matching your race.\n* Killing your quest leader unlocks the stairs to your role's quest, in case they are angered and won't allow you in otherwise.\n* Reduce instances of amnesia:\n** Scroll of amnesia replaced with scroll of flood.\n** Mind flayers no longer cause amnesia.\n** Only Cthulhu can still inflict amnesia.\n* [NH4] Swapping weapons with `x` is instant instead of taking a turn.\n* [NH4] Allow the quest to be entered before turn 2000; mostly of interest to speedrunners.\n\n==== Dungeon ====\n\n* Heck^2 patch: Mixes caves and special levels with Gehennom's mazes.\n** Gehennom filler levels may sometimes be lava caves.\n** Give hints when walking near the Vibrating Square.\n** Allow digging beams to dig more than one wall in Gehennom, like in the rest of the dungeon.\n* New branches:\n** Advent Calendar, appears early in the dungeon in the days of December leading up to Christmas, with closets with small prizes that unlock for each day.\n** Town, an upward branch whose entrance is just below Sokoban's, and whose end has many random shops.\n** Black Market, a huge megastore reached from a hidden portal near the depth of Medusa's Island, owned by One-eyed Sam who wields Thiefbane.\n** Dragon Caves, found deep in Gehennom, consists of open caves with trees, water, swamps and home to many dragons.\n* Changes to Sokoban:\n** Choice of Sokoban prize: bag (holding), cloak (magic resistance or displacement) or amulet (reflection, life saving or ESP).  Picking up one will cause the others to vanish.\n*** Sokoban prize have their base item type obscured until picked up to prevent identification meta-gaming.\n** Sokoban is now only 3 levels (was 4).\n** Sokoban luck penalty removed, cheating is tracked as a conduct instead.\n* New Nymph Level, with many nymphs, trees, fountains, squeaky board traps and unique nymph Aphrodite.\n* New level layouts for existing special levels:\n** 6 new layouts for Big Room.\n** 2 new layouts for the Castle.\n** 2 new layouts for Medusa's Island.\n** 27 new layouts for Sokoban.\n** 2 new layouts for Fort Ludios.\n** New layout for Minetown: Orcish Town, walled off by iron bars, the inhabitants killed and has many orcs.\n** New layouts for the Valley of the Dead and the lairs of Asmodeus, Baalzebub and Orcus.\n** Moloch's Sanctum now has lava, iron bars and drawbridges.\n* New random rooms:\n** nymph gardens with trees and fountains\n** dilapidated armories with puddings, `R` class monsters and damaged weapons and armors\n** pool rooms ringed with lava or water\n* New shops:\n** tin shops with tins and sometimes an ice box with corpses\n** instrument shops\n** pet stores with figurines, whistles, tripe, leashes and saddles.\n* New terrain types:\n** dead trees\n** muddy swamps\n* Randomized order for Elemental Planes instead of being fixed to Earth, Air, Fire and Water.\n* Sokoban prize randomized: either final level layout can provide an amulet of reflection or bag of holding.\n* Special levels may appear flipped horizontally or vertically.\n** [NEW] Exclude Sokoban from level flipping.\n* Drawbridge closing fails 1 in 5 times.\n** Huge monsters prevent the drawbridge from closing.\n* Dungeon growths:\n** Trees may grow near other trees over time.\n** Trees randomly drop fruits and eucalyptus leaves.\n** Herbs on the ground and kelp fronds in water may grow over time.\n* New effects when dropping rings of teleportation, polymorph, polymorph control and warning down sinks.\n* Level teleporting beyond the end of a dungeon branch performs a random level teleport instead of teleporting to the lowest possible level from your current position.  The main dungeon is an exception: teleporting too deep will place you in the Valley of the Dead.\n* Doors no longer resist being opened.\n* Standard levels may have iron bars.\n* Describe how far players fall down holes and trapdoors instead of giving no message.\n* [NEW] Occasionally connect rooms in standard levels with corridors in star or loop formations.\n* [NEW] Occasionally generate split rooms in standard levels.\n* Entering a co-aligned temple on the Astral Plane will no longer cause monsters to flee.\n* [NEW] Medusa's Island is guaranteed to have a shield of reflection in the statue of Perseus.\n* [NEW] To prevent throne farming, `#loot` on a throne while confused takes time and has a chance of making the throne vanish.\n* Give portal to Fort Ludios a much higher chance of appearing in the dungeon.\n\n==== Wishing ====\n\n* Only wands of wishing can grant wishes for magical items.  Other sources (thrones, fountains, magic lamps) can only provide non-magical items.\n* Random wish effect when sitting on thrones replaced with restoration of lost attributes.\n* Wands of wishing are created with less charges; they come recharged once, and have 0 to 2 charges instead of 1 to 3.\n* Due to randomized dragons, wishes for specific dragon armors only work when they have already been formally identified.  Wishes for dragon armor by their randomized names are still granted as usual.\n* Prevent wishes from accidentally being cancelled when pressing escape.\n* Allow magic lamps to be wished for and come from polymorphed tools.\n* [UnP] Wishing no longer sets prayer timeout.\n\n==== Artifacts ====\n\n* New artifact: Thiefbane, two-handed sword, 10% chance of beheading `@` class monsters, held by One-eyed Sam, cannot be wished for, reverts to a regular weapon when dropped in bones.\n* Improvements to Bane artifacts:\n** Bane artifacts now have a 1-in-6 chance of cancelling the target monster.\n** Bane artifacts now warn of their target monster.\n** Wielding Demonbane prevents demons from summoning other demons.\n** Wielding Trollsbane grants hungerless regeneration.\n** Wielding Giantslayer grants 18/** strength.\n* The Heart of Ahriman now grants displacement and faster power regeneration instead of stealth.\n* Vorpal Blade does +1d8 damage vs. all monsters (was +1).\n* Fix the artifact naming bug, where trying to give mundane items the names of artifacts could trivially reveal the otherwise randomized base item type.\n* Prevent Magicbane from cancelling monster inventories.\n* [NEW] The Wizard of Yendor can no longer steal your quest artifact; only your quest nemesis can steal it now.\n** [NEW] Carrying your role's quest artifact grants magic resistance.\n\n==== Items ====\n\n* New items:\n** Chromatic dragon scales and chromatic dragon scale mail, grants reflection, resists fire, cold, sleep, disintegration, poison, acid and petrification.\n** Gold dragon scales and gold dragon scale mail, provide permanent light when worn.\n** Iron safes that can be unlocked with stethoscopes.\n** Rings of gain intelligence, wisdom and dexterity.\n** Tinfoil hats that block spellcasting, telepathy, clairvoyance, psychic blasts and the psi bolt monster spell.\n** Potion of blood, provides a bit of nutrition for vampires.\n** Potion of vampire blood, provides nutrition and heals vampires, polymorphs player into a vampire/vampire lord/vampire bat permanently while angering lawful gods.\n** Striped shirt, causes shopkeepers to deny entry to shops if they see it worn, even if you return without it or cover it.\n** Luck Blade, artifact, intelligent chaotic broadsword with +d5 to-hit and +d6 to damage versus all monsters, guaranteed first sacrifice gift for convicts.\n** The Iron Ball of Liberation, convict quest artifact, intelligent neutral 300wt heavy iron ball, grants magic resistance, displacement and automatic searching when carried, grants intrinsic phasing when invoked, chains itself to you when touched or invoked.\n* [Gr] Random magical properties for weapons, armors and jewelry: fire, frost, thirsty (draining), reflection, telepathy, searching, warning, steatlh, fumbling, hunger, aggravation, vorpal (blades only), detonation, speed, oilskin, power, dexterity, brilliance, displacement, clairvoyance.\n* [Gr] Add `#tip` command to empty container contents onto the floor, allowing e.g. reaching holy water in a bag when hands are stuck to a cursed two-handed weapon.\n* Changes to the Amulet of Yendor:\n** Amulet of Yendor may teleport if dropped.\n** Astral escape: Alternate endings if the Amulet of Yendor is invoked on a high altar on the Astral Plane.\n** Mysterious Force removed, holding the Amulet of Yendor instead prevents teleportation.\n** Unique monsters no longer fight each other for the Amulet of Yendor.\n* Changes to weapons:\n** [NEW] Polearms and lances can be used in melee even when unmounted.\n** [NEW] Allow spellcasting when hands are stuck to a cursed quarterstaff.\n** [NEW] Weapon enchantment has a small chance of being revealed on each hit, based on skill and doubled if it is of your race.\n* Changes to armor:\n** Dragon scales now only give 1 AC (was 3), dragon scale mail only give 5 AC (was 9).\n** Dragon scale mail reverts to dragon scales when cancelled.\n** Armor-damaging effects will destroy completely eroded armor.\n** Shields of reflection made 50% heavier and non-magical for wishing purposes.\n* Changes to amulets:\n** Cursed amulets of life saving may fail 1-in-4 times.\n** Amulet of unchanging can no longer be polymorphed.\n* Changes to rings:\n** Auto-ID rings of regeneration when put on at less than max HP.\n** Auto-ID rings dropped down sinks when they give a unique message.\n* Changes to tools:\n** Magic markers are created with 20-79 charges (was 30-99).\n** Improve crystal balls:\n*** Blessed crystal balls are easier to use, checking d13 vs. intelligence rather than d20.\n*** [NEW] Using a blessed crystal ball or having 18 intelligence prevents it from exploding.\n** Unicorn horns no longer restore lost attributes.\n** Bags of tricks have many more random effects and may be used like sacks once they run out of charges.\n** Candles are more abundant:\n*** Add guaranteed candles to the Big Room.\n*** Add abandoned lighting shops to Orcus-town.\n*** Gnomes may be created with candles.\n*** Wax golems drop candles on death.\n** Bags of holding scatter their contents instead of destroying them when they blow up.\n** Stethoscopes can be used to identify eggs on the ground.\n** [NH4] Light source fuel is revealed if the item is identified or gives a fuel-consuming message.\n** [NH4] Mark cursed light sources as cursed when they fail to light.\n** [NH4] Weight of Candelabrum of Invocation includes its attached candles.\n* Changes to scrolls:\n** Scrolls of gold detection detects a random item class instead of traps when read while confused.\n** Scrolls of genocide made weaker:\n*** Blessed scrolls of genocide work on a single monster (like old uncursed scrolls).\n*** Uncursed scrolls of genocide only kill all of a single monster on the current level.\n*** [NEW] Fix new genocide behavior when used against shape changers.\n** Replace scroll of amnesia with scroll of flood that creates pools of water around you when read.\n** Boulders dropped by a scroll of earth hit engulfing monster when read while engulfed.\n** Uncursed scrolls of magic mapping also reveal secret doors, blessed scrolls do that and also detect objects.\n** [NEW] Scrolls of identify always identify 3 to 6 items regardless of blessing or curses, encouraging using them on-the-go instead of saving them en masse for a giant stash, increasing early-game options and reducing back-tracking.\n** [NEW] Water damage may destroy scrolls.\n** [NEW] Scrolls of enchant weapon and enchant armor give the warning vibration for overenchantment for all weapons and armor, not just elven gear.\n* Changes to potions:\n** Color alchemy: potions mix by description color instead of base potion type.\n** Potions of gain ability only raise one attribute, and BUC increases the number of retries when it selects an attribute already at its maximum.\n** [NEW] Pure potions can be dipped into diluted potions of the same type to combine them into a single stack of diluted potions.\n** [NEW] Remove the alchemy tax: dipping potions into each other to create new potions no longer costs a potion.\n** [NEW] Quaffing a potion of enlightenment while polymorphed into a dragon or baby dragon formally identifies its matching scales and scale mail.\n* Changes to wands:\n** Zapping a cursed wand has a 1-in-30 chance of blowing it up (was 1-in-100).\n** Applying wands no longer breaks wands; `#invoke` must be used instead.\n** [NH4] Zapping or engraving an empty wand identifies its charges.\n** [NH4] Formal-ID wands when they give a unique message when engraved.\n** [NEW] Probing a dragon or baby dragon formally identifies its matching scales and scale mail.\n* Sale/price quotes for shops vary per-shopkeeper instead of per-pickup/drop, so no more need to repeatedly pickup and drop items in shops.\n* Many new random item descriptions.\n* Items described as \"ceramic/porcelain/quartz\" may break if subjected to force.\n* Cursed items may hit the ceiling and fall on your head when thrown.\n* Increase chance of non-zero enchantments on random items.\n* Fix long-standing NetHack bug where uncursed and blessed food weren't getting their grace period against rotting.\n* [NEW] Fix wielded potions of blindness granting resistance to certain sources of blindness, e.g. exploding yellow lights and archon gazes.\n* Prevent the Book of the Dead from being destroyed when falling into lava.\n* [NH4] Charging an item reveals its number of remaining charges.\n* [NEW] Allow items to stack regardless of differing knowledge bits (e.g. BUC, enchantment, rustproofing), improving inventory space usage and allowing things like arrows found to stack with identical ones dropped on an altar.\n** [NH4] Prevent named items from stacking with unnamed items.\n* [NH4] Fix turn usage when applying items, including C343-353: Aborting key or lock pick with escape uses a turn.\n* [NEW] Show \"(very) rotten\" on corpses old enough to give food poisoning.\n* [NEW] Make rustproofing on items known by default, since all cases of it existing or being applied to items are non-random and known by the player.\n\n==== Monsters ====\n\n* New monsters:\n** One-eyed Sam: Shopkeeper of the Black Market, wields Thiefbane, can break boulders in her way.\n** Chromatic dragon: Rare dragons that resist multiple elements, have random breaths, not a valid random polymorph form, may be found in the new Dragon Caves branch.\n** Tiamat: New name for the caveman quest nemesis.\n** Gold dragon: Permenantly lit fire-breathing dragon, drops scales that are also a permanent source of light.\n** Snow ant: Fire ants but cold.\n** Vorpal jabberwock: Purple `J`, more powerful jabberwock with four 3d10 attacks, two of which have a 1-in-40 chance of decapitating.\n** Disintegrator: Bright green `R`, slow, tunnels, disintegrates weapons/armor/you on contact.\n** Aphrodite: Unique purple `n`, found on the Nymph Level.\n** Cthulhu: Unique purple `h`, now holds the Amulet of Yendor instead of the high priest of Moloch, sucks brains, grabs, gazes to confuse, very high hit dice, high speed and armor, dies as a stinking cloud and revives when it dissipates.\n** Giant turtle: Bright green `:`, blocks vision like a boulder.\n** Wax golem: Has a fire attack, drops candles on death.\n** Enormous rat, rodent of unusual size: upgraded rats.\n** Miner, prison guard, lava demon, inmate: convict quest monsters.\n** Robert the Lifer: convict quest leader.\n** Warden Arriana: convict quest nemesis.\n** Locust: Gray `a`, normal speed, has a sickness-causing sting.\n* Changes to Elbereth:\n** Monsters that now ignore Elbereth: Vlad the Impaler, quest nemesis, all unique demons.\n** Minotaurs now get scared away by Elbereth.\n* Randomized dragon appearances: name and color of dragons map to different elements each game.\n** New dragon names: tatzelworm, amphitere, draken, lindworm, sarkany, sirrush, wyvern, guivre.\n* Changes to Riders:\n** Hide the names of the Riders if further than two spaces away.\n** Riders can smash boulders that block their path.\n** Riders get 108-164 HP (was 10-80).\n* Changes to the Wizard of Yendor:\n** Killing the Wizard of Yendor for the first time increases difficulty of spawned monsters.\n** [NEW] The Wizard of Yendor can no longer steal your quest artifact.\n* Changes to Medusa:\n** Hallucination protects from the petrification of Medusa.\n* Changes to weak unique monsters:\n** Make Vlad the Impaler tougher: 28/24/-8 hit dice, speed and AC (was 14/18/-3), sees invisible.\n** Juiblex take half his current HP when zapped with digging from within instead of being reduced to 1 HP.\n* Changes to demon princes:\n** Raised gold needed to bribe demon princes to 3000-20000 gold (previously you could bribe them with 10 gold if you put the rest in your bag).\n* Changes to quest leaders:\n** Angered quest leaders can smash boulders that block their path.\n** Angered quest leaders can be killed to unlock quest stairs.\n** Quest leaders have more HP than before.\n* Changes to floating eyes:\n** Floating eyes are now colored bright green instead of dark blue.\n** [NEW] Remove 1-in-4 chance of floating eyes paralyzing for 127 turns, halve duration to (hit dice + 1)d35 instead of (hit dice + 1)d70 otherwise.\n** [NEW] High wisdom limits floating eye paralysis to 10 * (20 - wisdom) turns, with a minimum of 10 turns.\n* Changes to mind flayers:\n** Mind flayer attacks no longer cause amnesia.\n* Changes to muggers:\n** Muggers can steal items.\n* Changes to nurses:\n** Nurse hits heal players wielding non-weapon items as if they were empty handed, to match the message given if they are chatted to.\n* Changes to puddings:\n** Limit pudding farming: puddings split by max HP instead of current HP and never leave death drops.\n* Changes to wraiths:\n** [NEW] Wraiths no longer follow you across levels, removing the tedious wraith-luring tactic, particularly given how slow they are.\n* Fix Astral Call bug which could be used to discover the alignments of the high priests from afar and therefore trivially identify the otherwise randomly shuffled temple alignments.\n* Cancelled trolls no longer revive with e.g. the wand, Magicbane, Trollsbane.\n* Monsters can zap wands of cancellation at you to cancel an item in your open inventory.\n* Eating oily corpses may cause slippery fingers.\n* Grudge patch: Monsters that are enemies with each other may fight amongst themselves.\n* Give more HP to big monsters and less HP to small monsters.\n* [NH4] Make initial monster population on levels independent of the character's experience level.\n* [NEW] Fix C343-415: Mail daemons can be created when populating special levels with demons.\n* [NEW] Don't highlight detected monsters.\n\n==== Interface ====\n\n* [NEW] Colored walls and floors: Use more colors for special levels, special rooms, terrain and dungeon features; toggle with `mapcolors` option.\n* [NH4] Known intrinsic tracking: reached by pressing `Ctrl-X`.\n** [NH4] Show attributes in `Ctrl-X` screen.\n** [NH4] Allow kills, genocides/extinctions and conducts to be viewed from the `Ctrl-X` screen.\n** [NH4] Allow `#enhance` to be reached from `Ctrl-X` as well.\n* [UnP] Detailed monster info: select monsters or enter their name with `/` to view speed, base AC, resistances, attacks and more.\n* [NH4] Autoexplore: bound to `v` by default.\n** [NEW] Stop travel and autoexplore when becoming hungry or weak from hunger.\n** [NEW] Prevent starting autoexplore when weak from hunger.\n** [NEW] Fix travel and autoexplore stopping for unrevealed mimics.\n** [NEW] Travel and autoexplore walk around peaceful and stationary monsters.\n** [NEW] Travel and autoexplore ignore previously-read engravings.\n** [NEW] Stop and disallow running, travel and autoexplore when stunned or confused.\n** [NEW] Travel treats boulders like walls in Sokoban and thus no longer tries to move through them.\n* Improvements to item action menus:\n** [NEW] Use mnemonic accelerators for item action menus, e.g. \"w - wield\".\n** [NEW] Shorter entries, e.g. \"wield\" instead of \"Wield foo as your weapon\".\n** [NEW] Add action to view detailed item description.\n** Add action to pay for shop items.\n** [NEW] Add action to name or call an item.\n** [NEW] Add action to allow weapons to be unwielded.\n** [NEW] Add action to `#adjust` the inventory letter of an item.\n* Improvements to status area:\n** [NH4] AceHack-style status area: neater and more informative.\n*** [NEW] Show player race in the 3-line status area.\n*** Show dungeon name in status area (`dungeon_name` option).\n** [NEW] Status colors: Status effects are highlighted in different colors.\n** [NEW] Attributes color red or green when they decay or improve.\n** [NEW] Turn count changes color based on number of turns since last input.\n** [NH4] Show levitation, unarmed and trapped as statuses.\n*** Show \"Elbereth\" as a status when standing on an active Elbereth space.\n*** [NH4] Show \"Beartrap\" as a status.\n*** [NEW] Show \"Swamp\" as a status when standing in a muddy swamp.\n*** [NH4] Show even more statuses: greasy (hands), lame (hurt legs), \"strangle\", \"petrify\" (while turning into stone), \"held\" (by a grabber), \"fly\".\n** [NH4] Status area describes map location under the cursor when targeting.\n* Unvisited stairs and portals that lead to other branches are noted in `#overview`.\n* Accept \"mindflayer\" as an alternate spelling of \"mind flayer\" so monks don't accidentally end up genociding themselves.\n* Stop multi-turn actions if HP or power are fully restored.\n** [NEW] Don't stop autoexplore or travel when HP or Pw are fully restored.\n* `#chat` automatically chooses adjacent monster if there is only one.\n* Autopickup remembers dropped items and leaves them dropped.\n* Piles of multiple items are highlighted on the map.\n* Dim locations outside of line-of-sight.\n* `#loot` no longer asks for which container when there is only one choice.\n** [NEW] `#loot` and `#tip` show multiple container choices in a menu instead of asking for each container in sequence (optional with `paranoid_loot`).\n* `Ctrl-E` to write Elbereth in the the dust with your fingers or wielded athame.\n* Give a reason when the player is unable to two-weapon.\n* Ask when trying to walk into a known trap (optional with `paranoid_trap`).\n* Automatically open doors when walking into them.\n** Automatically ask to unlock doors when walking into locked doors.\n* Spiked pits can be manually entered like pits using `>`.\n** [NEW] Pressing `<` will attempt to escape traps.\n* Being hit by cancellation gives a message: \"You are covered in sparkling lights!\"\n* Dropping a container on an altar reveals blessings and curses of its contents.\n* Pressing `ff` fires in same direction as last time.\n* [NEW] Quiver thrown items picked up by autopickup and `pickup_thrown` if quiver is empty.\n* [NEW] Fix graphical display of the Rogue level when viewed from `#overview`.\n* [NEW] Suggest `#wipe` when blinded by venom or thrown cream pies.\n* [NEW] Pressing `M` cycles backwards through monsters while targeting.\n** [NEW] Pressing `@` moves the cursor the player while targeting.\n** [NEW] Pressing `^` cycles through traps while targeting.\n* Fix crash at naming dialog with items with very long type names.\n* [NEW] Give corpses the right colors in item lists (e.g. inventory) instead of all being brown.\n* Show level annotation when restoring game.\n* hp_notify: Show message after turns when damage is taken, e.g. \"[HP-2=10]\" when taking 2 damage and being left with 10 HP.\n* Improve handling of counts in item selection menus.\n* [NEW] \"Auto-select every item\" now respects other item picking criteria at multi-drop/loot prompts instead of ignoring them.\n* [NEW] Show total weight and available slots of inventory.\n* [NEW] Borders change color when low on HP: <75% yellow, <50% orange, <25% red.\n* [NEW] Show number of turns used after multi-turn actions, e.g. \"You finish your dressing maneuver.  [6 turns]\" (toggle with `delay_msg` option).\n* [NEW] Pressing `??` shows quick command key reference, reorganized to show commands by topic instead of alphabetically.\n* [NEW] `Ctrl-P` message log starts scrolled to the most recent messages.\n* [NEW] Show boulders as `[[0]]` by default instead of [[backtick]].\n* [NH4] Recolor/underline monsters with duplicate colors.\n* [NH4] Show \"--More--\" by screenfuls instead of by lines.\n* [NEW] Don't (ask to) attack peaceful monsters when walking into them by default (customize with `safe_peaceful` option).\n* [NH4] Show number of available skill slots in `#enhance` menu.\n** [NEW] Show skill slot cost to advance skills in `#enhance` menu.\n* [NH4] Stop player from walking into water and/or lava (both optional with new `paranoid_water` and `paranoid_lava` options), can be overridden using `m-<direction>`.\n* Display known-unlocked doors in bright green, known-locked doors in red and known-trapped doors in cyan.\n* Highlight item piles on the map.\n* [NH4] Use red backgrounds for level exits, e.g. stairs, ladders, portals.\n* [NH4] Use comma for selecting the ground for various actions:\n** [NH4] Allow `a,` as a shortcut for `#loot`.\n** [NH4] Require `q,` to quaff from sinks and fountains.\n** [NH4] Comma shows floor items when eating/tinning/sacrificing.\n*** [NEW] Show floor items in a menu when eating/tinning/sacrificing.\n* Automatically ask to unlock when looting a locked container.\n** [NEW] Perform `#loot` after successfully auto-unlocking a container, allowing looting to be done with one smooth sequence of inputs.\n* [NEW] Show remaining spell memory in spell lists.\n* [NH4] Wrap long lines of text in various prompts.\n* [NH4] `#adjust`ing an item onto itself merges all identical items onto it once more.\n* [NEW] Improve input handling of counts during prompts.\n** [NEW] Allow `#adjust` to accept a count when it asks for a destination letter, enabling stack-splitting with the `#adjust` command when it is used via the item action menu.\n\n==== Configuration ====\n\n* `msgtype` option: force \"--More--\" for or hide messages based on patterns.\n** [NEW] Provide a good set of default `msgtype` rules based on stth's MSGTYPE configuration on nethack.alt.org that stops on dangerous or easily missed but important messages.\n* Move option values next to their names instead of across from their descriptions.\n* Show a dialog for all selected options to prevent accidental toggling.\n* Improve prompt safety for certain game-changing actions:\n** `paranoid_hit` option asks for full \"yes\" to confirm hitting peaceful monsters.\n** `paranoid_quit` option asks for full \"yes\" when quitting a game or entering explore mode.\n** `paranoid_chat` option to restore classic chat direction behavior.\n** [NEW] `paranoid_loot` option to restore classic loot container behavior.\n* `paranoid_trap` option: control prompt before walking into known traps.\n* `paranoid_loot` option: toggle menu versus sequential prompts when `#loot` and `#tip` have multiple containers to choose from.\n* `pickup_dropped` option: force autopickup to grab explicitly dropped items instead of leaving them.\n* More sensible option defaults across the board.\n* `darkroom` option: toggles dimming of locations outside of line-of-sight.\n** [Gr] Dim remembered items, walls and other dungeon features outside of line-of-sight when `darkroom` is enabled.\n* `spellorder` option: set order for letters used by spell menus.\n** [NEW] Permit letter ranges for `spellorder`, e.g. \"a-zA-Z\".\n* `pilesize` option: control how many items must be at a stepped-on location before the \"things that are here\" dialog is shown on small terminals.\n* `mapcolors` option: toggles extra colors for special levels and terrain.\n* [NEW] `menumatch` option: Allow multi-drop/loot item menus to only show e.g. cursed armor when picking \"cursed\" and \"armor\", instead of all cursed items and all armor.\n* [NEW] `safe_peaceful` option: Control what happens when moving into peaceful monsters.\n* [KMd] Change `sparkle` option to a number that controls the speed of sparkle animations; higher values make it faster, zero disables sparkle entirely.\n* [NEW] `paranoid_water` and `paranoid_lava` options: control NetHack4's safeties for walking into water and lava respectively.\n* [NEW] `hilite_peaceful` option: toggle if non-tame but peaceful monsters are highlighted the same way pets are for `hilite_pet`.\n* [NEW] Remove the `blink` option.\n* [NH4] Allow remapping of default in-game colors to terminal colors with `terminal.conf` in the configuration directory.\n* [NEW] Remove `use_inverse` option.\n* [NEW] Remove `blink` option, since it was ugly, distracting and no longer needed with the new highlighting and display changes.\n* [NEW] `classic_status` option: Use classic NetHack-style status area instead of the new AceHack-style status area.\n* [NEW] `dungeon_name` option: toggle showing full dungeon name or just the depth in the status area.\n* [NEW] Allow `msgheight` option to be set to 0 to automatically resize to fill the whole terminal height.\n\n==== Saves ====\n\n* [NH4] Put dump files under the game's config directory instead of in the user's home directory in Linux.\n** [NEW] Put dump files in the game's config directory instead of in Documents in Windows.\n* [NH4] Store save deltas of the binary save segment in the save file log on a per-turn basis.  This makes save files much larger, but also makes them almost impossible to lose to corruption.  Each diff line begins with a `~`.\n\n==== Miscellaneous ====\n\n* Experimental tutorial mode:\n** [NEW] Rewrite and add command summaries to tutorial messages.\n** [NEW] Split tutorial review menu into sections.\n** [NEW] Indicate the latest tutorial message seen in the review menu.\n* Reduced score given when killing the same type of monster repeatedly.\n* Many new random engravings.\n* Many new random hallucinated monster descriptions.\n* Certain items can be read for flavor text: gold, tins, cans of grease, candy bars, credit cards, magic markers, the Orb of Fate, Stormbringer, runed items.\n* Characters that start on Towel Day (May 25) start with a complementary towel.\n* Cream pies get a different name on Pi Day (March 14) or Pi Approximation Day (July 22).\n* Breaking a camera may free the picture-painting demon (homunculus) inside.\n* Randomize creator deity in intro text.\n* Szechuan tins may have a free fortune cookie.\n* Monk-specific greetings when saving and restoring.\n* Hallucination gives random currencies instead of \"zorkmids\" in messages.\n* [NEW] Fix fleeing monsters getting stuck in corridors.\n* [NH4] Provide more informative in-game database for items.\n* [NH4] Don't allow changing to explore mode mid-game.\n\n==== Technical ====\n\n* [NEW] Add support and detailed instructions for building the game under Cygwin (Linux-like translation layer for Windows) and MinGW (native Windows support).\n* [NEW] Add instructions for building the game for OS X.\n* New bytecode-driven special level compiler.\n** Allow `x` to denote 'transparent' map tiles.\n** Allow changing map regions of non-trivial shapes with selections that can be combined and intersected.\n** Curly braces for commands in rooms, subrooms, IF conditions, containers.\n** Rooms can set doors on a random wall.\n** Evaluate values on a stack instead of using raw structs.\n** Allow much more fine-grained control over OBJECT and MONSTER.\n*** Permit custom inventories for MONSTER.\n** More control statements: LOOP, SWITCH.\n** Support rudimentary sub-routines.\n** Control over spawned monster generation on levels with MON_GENERATION.\n** Custom level sounds with SOUNDS command.\n** Permit loading from other files with INCLUDE.\n** New WALLWALK command to surround the inner wall with a chosen terrain.\n** Support for variables: string, int, coord, region, mapchar, monst, obj, array.\n*** SHUFFLE command for arrays, replacing RANDOM_OBJECTS, RANDOM_PLACES and RANDOM_MONSTERS.\n** Support for arithmetic expressions.\n*** Support dice notation for values, e.g. 1d6.\n* [NEW] Bring back SHOPTYPE environment variable for wizard mode room testing.\n* Add `#rooms` command for testing room layouts in wizard mode.\n* Allow up to five possible bones files per level.\n* [NEW] Fix handling of ball and chain when blind with NitroHack's layered level memory.\n* [NEW] Fix appearance of ridden monsters with NitroHack's display system.\n* [NEW] Fix many crashes and other instances of incorrect behavior due to NitroHack's global `level` pointer being incorrectly used.\n* [NEW] Fix the notorious infinite travel bug.\n* [NH4] Eliminate object migration, deliver objects directly to their destination level instead.\n* [NEW] Ensure correct colors are used for PDCurses no matter how it is built.\n* [NH4] Make the `redraw` command actually redraw the screen.\n\n=== NitroHack 4.0.4 (2012-02-19, 21b9774) ===\n\nNitroHack 4.0.4 is mostly a bugfix release.  It is the last public release of\nNitroHack by Daniel Thaler, though it exists on a separate development branch\nto mainline on its primary Git repository at github.com/DanielT/NitroHack.\n\nIt is this version on the stable 4.0.x that DynaHack is based on.\n\n==== Interface ====\n\n* Fix crash when item action menu is cancelled with escape.\n* Fix muddled shop labelling in the `#overview`.\n\n==== Miscellaneous ====\n\n* Fix crash after activating a figurine.\n* Fix random character selection.\n\n=== NitroHack 4.0.3 (2012-02-13, 3b9a876) ===\n\nNitroHack 4.0.3 is mostly a bugfix release.\n\n==== Interface ====\n\n* Use more common Unicode characters for branch stairs on Windows.\n* Fix display on Japanese Windows by using the correct code page.\n\n==== Configuration ====\n\n* Fix crash when keymap dialog was brought up a second time.\n\n==== Miscellaneous ====\n\n* Fix C343-72: Confusing messages when you stop levitating while on a flying steed (from UnNetHack).\n* Fix C343-174: Drum of earthquake gives inappropriate message (from UnNetHack).\n\n==== Technical ====\n\n* Fix miscompile of `nh_restore_game` with -O3 due over-eager optimization that ignored the setjmp/longjmp game exit system.\n* Fix bones file-related saving and loading bugs.\n\n=== NitroHack 4.0.2 (2012-02-05, 22c6cf3) ===\n\n==== Dungeon ====\n\n* Make the Vibrating Square a trap which becomes visible once it has been discovered (from AceHack).\n\n==== Items ====\n\n* Formal-ID jumping boots, potions of oil and starting inventory at the beginning of each game (from AceHack).\n* Allow 'I' to select unidentified items in loot and menu drop item lists.\n* Show shop price of items while walking over them without #chatting (from UnNetHack).\n\n==== Interface ====\n\n* Unify controls for equipping jewelry with those of armor by allowing `W`ear/`T`ake off as substitutes for `P`ut on/`R`emove.\n* Change default key bindings to AceHack-style:\n** `#adjust`: `Alt-A`\n** `#annotate`: `Ctrl-F`\n** `#chat`: `c` or `Alt-C`\n** `close`: unbound\n** `#enhance`: `Alt-E` or `Ctrl-E`\n** `#invoke`: `V` or `Alt-I`\n** `#monster`: `M` or `Alt-M`\n** `#pray`: `Alt-P`\n** `#twoweapon`: `Alt-2` or `X`\n** `version` and `verhistory`: unbound\n** `wait`: `.` (space no longer bound)\n* Make `#invoke` work like in AceHack, where it can invoke, rub or be used to break wands.\n* Improve space usage of the sidebar for floor items and inventory.\n\n==== Configuration ====\n\n* Change `unicode.conf` format: default entry lines start with `#` while modified lines must start with `!` to be recognized.\n* Provide a default set of autopickup rules that picks up gold, scrolls, rings, wands and potions while leaving unpaid shop items.\n\n==== Saves ====\n\n* Offer to delete damaged save files both locally and online.\n* Improve reliability of attempting to restore corrupted save files.\n\n==== Network ====\n\n* Show the version number of the game running on the server on the main menu.\n* Add an account menu to change password and email address.\n\n==== Miscellaneous ====\n\n* Fix C343-246: Wands can be wrested in zero turns by attempting to engrave with it while levitating.\n* Fix C343-129: Cancelling objects in or near a shop.\n* Fix C343-176: Disintegration breath on monsters is not handled properly (i.e. a steed killed and saved by life saving can be re-saddled).\n* Many bug fixes, particularly to the save system.\n\n==== Technical ====\n\n* Extend drawing info so that dungeon backgrounds can contain two types of symbols: walls/floor/etc. and interactive terrain like stairs/altars/etc.\n\n=== NitroHack 4.0.1 (2012-01-23, 855e8e6) ===\n\nNitroHack 4.0.1 is mostly a bugfix release.\n\n==== Interface ====\n\n* Put location info under instead of over the inventory in the sidebar.\n* Start a new line in the message area for every action.\n* Show \"Bad command\" in the message area rather than in a dialog.\n* Improve shift+hjkl cursor movement near the edges of the map.\n\n==== Network ====\n\n* Allow server admins to send messages to all connected clients.\n\n==== Miscellaneous ====\n\n* Many bug fixes.\n\n=== NitroHack 4.0.0 (2012-01-15, f980165) ===\n\nThis is the first version of NitroHack publicly released by Daniel Thaler.\n\n==== Interface ====\n\n* New Curses-based text mode interface:\n** Unicode display with customizable display chars\n** arrow/function key recognition\n** multi-line message box\n** improved status area\n** permanent inventory sidebar (if terminal is wide enough)\n* Item action menus: Press the item letter in the inventory for common actions.\n* Main menu that lets you choose to start a new game, restore an existing one, change options and more.\n* Fully configurable keymap.\n* Arrow keys move the cursor in text prompts instead of abruptly killing them.\n* Item lists are sorted based on name, enchantment, BUC, erodeproofing, erosion and greasing.\n* Item class headings show the symbol in item lists.\n* The 'uncursed' status of an item can be explicitly shown in item names.\n* Unexplored locations, stone and dark rooms can be customized to display as different characters on the map.\n* Naming of monsters, items and item types occur via a menu.\n* Much longer message history (20k messages!).\n* Removing armor/jewelry always gives a prompt even if there's only one choice.\n* Open doors automatically when walking into them.\n\n==== Options ====\n\n* All options can now be changed in-game instead of using \".nethackrc\".\n* Changes to options made in-game are saved and restored.  The underlying files can be found under `~/.config/NitroHack/`.\n* Birth options: Options like ELBERETH, REINCARNATION, SEDUCE and bones files, which previously could only be changed by rebuilding the game, can now be set on beginning a new game.\n\n==== Items ====\n\n* Spellbooks can be read early (while memory of the spell still exists).\n\n==== Monsters ====\n\n* Monsters can be cycled by pressing `m` while targeting.\n* Extinct species are shown along with genocided ones when games end.\n\n==== Autopickup ====\n\n* Autopickup Rules: fine-grained rules to control what autopickup picks up or leaves, e.g. the following rules pick up all food and lizard corpses but no other corpses:\n\n    1. IF name matches \"*lizard*\" AND type is \"food\": < GRAB\n    2. IF name matches \"*corpse*\" AND type is \"food\":   LEAVE >\n    3. IF type is \"food\":                             < GRAB\n\nIf no matching rule is found the item is left behind by default.\n\n* `pickup_thrown` option: Thrown or fired items will always be picked up automatically.\n\n==== Dungeon overview ====\n\n* `#overview`/Ctrl-O shows a list of all remembered levels and major features. Choosing a level views your memory of it.\n* You can `#annotate` a level to describe it, which appears in the overview.\n\n==== Character history tracking ====\n\n* Heroic deeds are logged and can be viewed with the `#history` command:\n** new depth reached\n** experience level gained\n** wishes\n** killing a unique monster\n** life saved\n** crowning\n** artifact gift received\n** basic quest status\n** major oracle consultations\n** performing the invocation\n** gaining/losing the Amulet of Yendor (only if formally identified)\n\n==== Dumplog ====\n\n* When you die, a text file will be created with the following information:\n** final screenshot (in ASCII)\n** character stats\n** inventory and contents of carried containers\n** character attributes\n** known spells\n** skills\n** conducts\n** vanquished opponents\n** final messages\n** dungeon overview\n** heroic deeds (as seen in `#history`)\n\n==== Interactive replays ====\n\n* Saved and finished games can be replayed with a viewer built into the game client.  Commands like view inventory can be performed while viewing a replay.\n\n==== Miscellaneous ====\n\n* Improve died-while-helpless descriptions.\n* Fixed about 10% of all known NetHack bugs.\n\n==== Technical ====\n\n* NitroHack network protocol: Supports network play without telnet or ssh.  The protocol is based on JSON and makes it easier to implement a browser-based NitroHack client (TODO!).\n** The game is divided into a client and server: the client has a copy of the game for independent local play but can also connect to a server for online play.\n* New save game format: NetHack's save format was mostly just a dump of binary structures to disk.  The new format has two sections:\n*# A log of the initial random seed and every game action performed, written continuously as the game is played.\n*# If the game is not being played, a binary save appended after the log. This section uses a fixed-width, fixed-endian architecture and compiler-independent format which resembles NetHack's format but can be loaded on any system the game will run on.\n* Full separation of interface code from game code.\n** The game core has been moved into a library (libnitrohack.so/nitrohack.dll), exposing an API of 23 functions and is largely OS independent.\n** The display code is part of the OS/platform and must provide a list of callbacks (windowprocs) to the game.\n** The core game and display code have no shared global state.\n* Rewritten input system: The game core never requests raw keys from the interface.  All interactions happen on an abstract level: the interface sends commands to the game core as strings (\"wait\", \"move\", etc.), and the game core may ask for a direction or position, etc.\n* Layered drawing: The game core provides a set of display items for each location instead of just setting the topmost like NetHack.  The Curses interface blinks between them; this can be toggled with an option.\n* Mersenne Twister random number generator: Required to make game logs replayable.\n* Re-runnable game core: Several main data structures have been made const, all others are carefully re-initialized when a game is started or restored.\n** This makes it possible to provide the main menu.\n** NitroHack now uses a setjmp/longjmp exception mechanism to escape from deep call-chains when the game ends or panics.\n* Temporary level files and lock files removed.\n** All levels are now kept in memory at all times, making a lot of locking unnecessary, and allowing them to be viewed even from other levels.\n** Only active game logs are locked, and even then only using OS-provided non-file-based locking (fcntl on UNIX and LockFile on Windows).\n* No more support for antique systems and compilers.\n** Dropped operating systems: BE, DOS, Classic Mac, Atari, VMS, Ultrix, etc.\n** Supported compilers has been reduced to gcc, clang and msvc (probably Intel's compiler too).\n** Doing this allowed the removal of lots of crufty code and compat macros, e.g. all current compilers support `void` and `static` so wrapping them in defines is no longer needed.\n* Code cleanups.\n** Number of `#ifdef FOO` has been cut down from 1938 to just 51, making the code much more readable since indentation isn't being interrupted every couple of lines.  Compile options that weren't turned into birth options were removed as a result.  Functions have been converted to use standard prototypes rather than pre-C89 K&R declarations.  Ugly things like prototype widening and follow-on `FOO_P` defines were removed too. Thanks to these changes, tools like `git diff` can now correctly show what function a line is in.\n** All instances of the `register` keyword have been removed since optimizing compilers handle this for us.\n** NEARDATA has been removed since it only made sense on 16-bit computers.\n* New CMake-based build system.\n** This removes the need to manually edit Makefiles and header files just to build the game.\n** Provides safe parallel builds with colorized output on Linux, and generates Visual Studio project files that build without problems on Windows.\n\n== External links ==\n\n* [https://tung.github.io/DynaHack/ DynaHack website]\n* [https://github.com/tung/DynaHack GitHub project page]\n* [http://www.reddit.com/r/nethack/comments/1mvrdt/dynahack_050_new_nethack_variant_with_new_content/ Release post on /r/nethack]\n\n[[Category:Variants]]"}