{"title":"Menucolors","url":"https://nethackwiki.com/wiki/Menucolors","type":"markdown","data":"A user has suggested improving this page or section as follows:\n\n*\"Update info from original patch features to NetHack 3.6\"*\n\n**Menucolors** is a feature in NetHack 3.6 and above that allows you to colorize individual rows on a menu based on what regular expressions match its text. You can color the [inventory](/wiki/Inventory \"Inventory\") menu, the [spellcasting](/wiki/Spellcasting \"Spellcasting\") menu, the [enhance](/wiki/Enhance \"Enhance\") menu, the [options](/wiki/Options \"Options\") menu, and more.\n\nFor example, you could color all [blessed](/wiki/Blessed \"Blessed\") items bright cyan, all [cursed](/wiki/Cursed \"Cursed\") items bright orange, and all [uncursed](/wiki/Uncursed \"Uncursed\") items dim green. From there you could underline dangerous items (loadstone, wand of cancellation, etc.), make the [Amulet of Yendor](/wiki/Amulet_of_Yendor \"Amulet of Yendor\") magenta, all [gold](/wiki/Gold \"Gold\") yellow, and so on, until you're satisfied.\n\nThe menucolors can also support globbing instead of regular expressions; the resulting menucolors are far less powerful, but are more portable.\n\n## Details\n\nThe menucolors are applied top to bottom, and each successive match replaces the colors and attributes.\n\nUnfortunately, there's a bug in that setting an attribute (bold, underline, etc) resets the color of a line, and vice versa. You can work around this by setting *color\\&attribute*, but that's not a very general solution.\n\nFor the purposes of regex matching, the menu accelerator and the hyphen separating it from the menu entry are considered part of the entry by the menucolors patch. However, patches to NAO during May and June of 2012 altered this behavior, and these features are no longer part of the entry. In other words, \"q - a club\" or \"a - autodig\" will match a club in your inventory or the autodig option in the options menu as long as you aren't playing on NAO. If you are playing on NAO, you would need to use \"a club\" and \"autodig\".\n\nThe regular expressions match against menu entry separately, so you are free to use the ^ and $ operators to match the beginning and the end of the entries.\n\n## Examples\n\nFor examples of extensive menucolors, see the [.nethackrc](/wiki/.nethackrc \".nethackrc\") files of [Eidolos](http://alt.org/nethack/userdata/Eidolos/Eidolos.nh343rc) and [itsblah](http://alt.org/nethack/userdata/itsblah/itsblah.nh343rc). Here's an example nethackrc file that includes menucolors (which uses regular expressions, not globbing):\n\n```\nOPTIONS=color,menucolors\n\nMENUCOLOR=\"blessed\"=cyan&bold\nMENUCOLOR=\"cursed\"=orange&bold\nMENUCOLOR=\"uncursed\"=green\n\nMENUCOLOR=\"loadstone\\|wand \\(of\\|called\\) cancellation\"=underline\nMENUCOLOR=\"Amulet of Yendor named\"=magenta                           # color only the real Amulet\nMENUCOLOR=\"gold piece\"=yellow\n\nMENUCOLOR=\"[a-zA-Z] - [a-zA-Z ]+[ ]+[0-9]+\\*[ ]+[a-z]+[ ]+[0-9]+%\"=magenta  # forgotten spell\n# This version will work on NAO.\n# MENUCOLOR=\"[a-zA-Z ]+[ ]+[0-9]+\\*[ ]+[a-z]+[ ]+[0-9]+%\"=magenta  # forgotten spell\n```\n\nand here is an example that uses globbing, that is, only `?` and `*` wildcards.\n\n```\nOPTIONS=color,menucolors\n\nMENUCOLOR=\"* cursed *\"=red\nMENUCOLOR=\"* unholy *\"=red\nMENUCOLOR=\"* blessed *\"=green\nMENUCOLOR=\"* holy *\"=green\n```\n\n## Valid color values\n\n```\nblack\nred\ngreen\nbrown\nblue\nmagenta\ncyan\ngray\norange\nbright green\nyellow\nbright blue\nbright magenta\nbright cyan\nwhite\n```\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Menucolors - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Menucolors\",\"wgTitle\":\"Menucolors\",\"wgCurRevisionId\":137071,\"wgRevisionId\":137071,\"wgArticleId\":4152,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Todo\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Menucolors\",\"wgRelevantArticleId\":4152,\"wgRequestId\":\"385da94e78dc1f2c3c626a61\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"Menucolors is a feature in NetHack 3.6 and above that allows you to colorize individual rows on a menu based on what regular expressions match its text. You can color the inventory menu, the spellcasting menu, the enhance menu, the options menu, and more.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Menucolors\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Menucolors rootpage-Menucolors skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Menucolors</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><div class=\"todo\">\n<p>A user has suggested improving this page or section as follows:\n</p><p><i>\"Update info from original patch features to NetHack 3.6\"</i>\n</p>\n</div>\n<p><b>Menucolors</b> is a feature in NetHack 3.6 and above that allows you to colorize individual rows on a menu based on what regular expressions match its text. You can color the <a href=\"/wiki/Inventory\" title=\"Inventory\">inventory</a> menu, the <a href=\"/wiki/Spellcasting\" title=\"Spellcasting\">spellcasting</a> menu, the <a href=\"/wiki/Enhance\" title=\"Enhance\">enhance</a> menu, the <a href=\"/wiki/Options\" title=\"Options\">options</a> menu, and more.\n</p><p>For example, you could color all <a href=\"/wiki/Blessed\" class=\"mw-redirect\" title=\"Blessed\">blessed</a> items bright cyan, all <a href=\"/wiki/Cursed\" class=\"mw-redirect\" title=\"Cursed\">cursed</a> items bright orange, and all <a href=\"/wiki/Uncursed\" class=\"mw-redirect\" title=\"Uncursed\">uncursed</a> items dim green. From there you could underline dangerous items (loadstone, wand of cancellation, etc.), make the <a href=\"/wiki/Amulet_of_Yendor\" title=\"Amulet of Yendor\">Amulet of Yendor</a> magenta, all <a href=\"/wiki/Gold\" class=\"mw-redirect\" title=\"Gold\">gold</a> yellow, and so on, until you're satisfied.\n</p><p>The menucolors can also support globbing instead of regular expressions; the resulting menucolors are far less powerful, but are more portable.\n</p>\n<h2><span class=\"mw-headline\" id=\"Details\">Details</span></h2>\n<p>The menucolors are applied top to bottom, and each successive match replaces the colors and attributes.\n</p><p>Unfortunately, there's a bug in that setting an attribute (bold, underline, etc) resets the color of a line, and vice versa. You can work around this by setting <i>color&amp;attribute</i>, but that's not a very general solution. \n</p><p>For the purposes of regex matching, the menu accelerator and the hyphen separating it from the menu entry are considered part of the entry by the menucolors patch. However, patches to NAO during May and June of 2012 altered this behavior, and these features are no longer part of the entry. In other words, \"q - a club\" or \"a - autodig\" will match a club in your inventory or the autodig option in the options menu as long as you aren't playing on NAO. If you are playing on NAO, you would need to use \"a club\" and \"autodig\".\n</p><p>The regular expressions match against menu entry separately, so you are free to use the ^ and $ operators to match the beginning and the end of the entries.\n</p>\n<h2><span class=\"mw-headline\" id=\"Examples\">Examples</span></h2>\n<p>For examples of extensive menucolors, see the <a href=\"/wiki/.nethackrc\" class=\"mw-redirect\" title=\".nethackrc\">.nethackrc</a> files of <a class=\"external text\" href=\"http://alt.org/nethack/userdata/Eidolos/Eidolos.nh343rc\">Eidolos</a> and <a class=\"external text\" href=\"http://alt.org/nethack/userdata/itsblah/itsblah.nh343rc\">itsblah</a>. Here's an example nethackrc file that includes menucolors (which uses regular expressions, not globbing):\n</p>\n<pre>OPTIONS=color,menucolors\n\nMENUCOLOR=\"blessed\"=cyan&amp;bold\nMENUCOLOR=\"cursed\"=orange&amp;bold\nMENUCOLOR=\"uncursed\"=green\n\nMENUCOLOR=\"loadstone\\|wand \\(of\\|called\\) cancellation\"=underline\nMENUCOLOR=\"Amulet of Yendor named\"=magenta                           # color only the real Amulet\nMENUCOLOR=\"gold piece\"=yellow\n\nMENUCOLOR=\"[a-zA-Z] - [a-zA-Z ]+[ ]+[0-9]+\\*[ ]+[a-z]+[ ]+[0-9]+%\"=magenta  # forgotten spell\n# This version will work on NAO.\n# MENUCOLOR=\"[a-zA-Z ]+[ ]+[0-9]+\\*[ ]+[a-z]+[ ]+[0-9]+%\"=magenta  # forgotten spell\n</pre>\n<p>and here is an example that uses globbing, that is, only <tt>?</tt> and <tt>*</tt> wildcards.\n</p>\n<pre>OPTIONS=color,menucolors\n\nMENUCOLOR=\"* cursed *\"=red\nMENUCOLOR=\"* unholy *\"=red\nMENUCOLOR=\"* blessed *\"=green\nMENUCOLOR=\"* holy *\"=green\n</pre>\n<h2><span class=\"mw-headline\" id=\"Valid_color_values\">Valid color values</span></h2>\n<pre>black\nred\ngreen\nbrown\nblue\nmagenta\ncyan\ngray\norange\nbright green\nyellow\nbright blue\nbright magenta\nbright cyan\nwhite\n</pre>\n<!-- \nNewPP limit report\nCached time: 20240926184601\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.004 seconds\nReal time usage: 0.006 seconds\nPreprocessor visited node count: 17/1000000\nPreprocessor generated node count: 48/1000000\nPost‐expand include size: 170/2097152 bytes\nTemplate argument size: 55/2097152 bytes\nHighest expansion depth: 2/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 0/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    1.246      1 Template:Todo\n100.00%    1.246      1 -total\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:4152-0!canonical and timestamp 20240926184601 and revision id 137071\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Menucolors&amp;oldid=137071\">https://nethackwiki.com/index.php?title=Menucolors&amp;oldid=137071</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Category</a>: <ul><li><a href=\"/wiki/Category:Todo\" title=\"Category:Todo\">Todo</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Menucolors\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Menucolors\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Menucolors\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Menucolors\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Menucolors\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Menucolors&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Menucolors&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Menucolors\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Menucolors\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Menucolors&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Menucolors&amp;oldid=137071\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Menucolors&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 14 January 2021, at 18:03.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.004\",\"walltime\":\"0.006\",\"ppvisitednodes\":{\"value\":17,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":48,\"limit\":1000000},\"postexpandincludesize\":{\"value\":170,\"limit\":2097152},\"templateargumentsize\":{\"value\":55,\"limit\":2097152},\"expansiondepth\":{\"value\":2,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":0,\"limit\":5000000},\"timingprofile\":[\"100.00%    1.246      1 Template:Todo\",\"100.00%    1.246      1 -total\"]},\"cachereport\":{\"timestamp\":\"20240926184601\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":46});});</script>\n\t</body>\n</html>\n","rawPage":"{{todo|Update info from original patch features to NetHack 3.6}}\n'''Menucolors''' is a feature in NetHack 3.6 and above that allows you to colorize individual rows on a menu based on what regular expressions match its text. You can color the [[inventory]] menu, the [[spellcasting]] menu, the [[enhance]] menu, the [[options]] menu, and more.\n\nFor example, you could color all [[blessed]] items bright cyan, all [[cursed]] items bright orange, and all [[uncursed]] items dim green. From there you could underline dangerous items (loadstone, wand of cancellation, etc.), make the [[Amulet of Yendor]] magenta, all [[gold]] yellow, and so on, until you're satisfied.\n\nThe menucolors can also support globbing instead of regular expressions; the resulting menucolors are far less powerful, but are more portable.\n\n==Details==\nThe menucolors are applied top to bottom, and each successive match replaces the colors and attributes.\n\nUnfortunately, there's a bug in that setting an attribute (bold, underline, etc) resets the color of a line, and vice versa. You can work around this by setting ''color&attribute'', but that's not a very general solution. \n\nFor the purposes of regex matching, the menu accelerator and the hyphen separating it from the menu entry are considered part of the entry by the menucolors patch. However, patches to NAO during May and June of 2012 altered this behavior, and these features are no longer part of the entry. In other words, \"q - a club\" or \"a - autodig\" will match a club in your inventory or the autodig option in the options menu as long as you aren't playing on NAO. If you are playing on NAO, you would need to use \"a club\" and \"autodig\".\n\nThe regular expressions match against menu entry separately, so you are free to use the ^ and $ operators to match the beginning and the end of the entries.\n\n==Examples==\nFor examples of extensive menucolors, see the [[.nethackrc]] files of [http://alt.org/nethack/userdata/Eidolos/Eidolos.nh343rc Eidolos] and [http://alt.org/nethack/userdata/itsblah/itsblah.nh343rc itsblah]. Here's an example nethackrc file that includes menucolors (which uses regular expressions, not globbing):\n\n OPTIONS=color,menucolors\n \n MENUCOLOR=\"blessed\"=cyan&bold\n MENUCOLOR=\"cursed\"=orange&bold\n MENUCOLOR=\"uncursed\"=green\n \n MENUCOLOR=\"loadstone\\|wand \\(of\\|called\\) cancellation\"=underline\n MENUCOLOR=\"Amulet of Yendor named\"=magenta                           # color only the real Amulet\n MENUCOLOR=\"gold piece\"=yellow\n \n MENUCOLOR=\"[a-zA-Z] - [a-zA-Z ]+[ ]+[0-9]+\\*[ ]+[a-z]+[ ]+[0-9]+%\"=magenta  # forgotten spell\n # This version will work on NAO.\n # MENUCOLOR=\"[a-zA-Z ]+[ ]+[0-9]+\\*[ ]+[a-z]+[ ]+[0-9]+%\"=magenta  # forgotten spell\n\nand here is an example that uses globbing, that is, only <tt>?</tt> and <tt>*</tt> wildcards.\n\n OPTIONS=color,menucolors\n \n MENUCOLOR=\"* cursed *\"=red\n MENUCOLOR=\"* unholy *\"=red\n MENUCOLOR=\"* blessed *\"=green\n MENUCOLOR=\"* holy *\"=green\n\n==Valid color values==\n black\n red\n green\n brown\n blue\n magenta\n cyan\n gray\n orange\n bright green\n yellow\n bright blue\n bright magenta\n bright cyan\n white"}