{"title":"Shop","url":"https://nethackwiki.com/wiki/Shop","type":"markdown","data":"A **shop** is a [special room](/wiki/Special_room \"Special room\") that appears in *[NetHack](/wiki/NetHack \"NetHack\")*, and may occur on some levels of the dungeon. Each has an attendant [shopkeeper](/wiki/Shopkeeper \"Shopkeeper\") and a selection of [items](/wiki/Item \"Item\") to buy - the shopkeepers will also buy items from [you](/wiki/You \"You\"), and both types of items depend on the type of shop. A shop with no shopkeeper is considered abandoned.\n\n[ ]\n\n## Contents\n\n- [1 Generation](#Generation)\n\n  - [1.1 Table of shops](#Table_of_shops)\n  - [1.2 Special levels with shops](#Special_levels_with_shops)\n  - [1.3 Closed shops](#Closed_shops)\n  - [1.4 Mimics](#Mimics)\n  - [1.5 Traps](#Traps)\n\n- [2 The shopkeeper](#The_shopkeeper)\n\n  - [2.1 Theft prevention](#Theft_prevention)\n  - [2.2 Barring the entrance](#Barring_the_entrance)\n  - [2.3 Pick-axes](#Pick-axes)\n  - [2.4 Angering the shopkeeper](#Angering_the_shopkeeper)\n    - [2.4.1 Hot pursuit](#Hot_pursuit)\n\n- [3 Transactions and inventory](#Transactions_and_inventory)\n\n  - [3.1 Buying items](#Buying_items)\n  - [3.2 Selling](#Selling)\n  - [3.3 Credit](#Credit)\n  - [3.4 Usage fees](#Usage_fees)\n\n- [4 Pricing](#Pricing)\n\n  - [4.1 Base price](#Base_price)\n    - [4.1.1 Unidentified gems](#Unidentified_gems)\n  - [4.2 Buying](#Buying)\n  - [4.3 Selling](#Selling_2)\n\n- [5 Strategy](#Strategy)\n\n  - [5.1 Shopping while invisible](#Shopping_while_invisible)\n  - [5.2 Shopping smart and safe](#Shopping_smart_and_safe)\n  - [5.3 Combat](#Combat)\n  - [5.4 Zen shopping](#Zen_shopping)\n\n- [6 History](#History)\n\n- [7 Messages](#Messages)\n\n- [8 Variants](#Variants)\n\n  - [8.1 NetHack brass](#NetHack_brass)\n  - [8.2 SLASH'EM](#SLASH.27EM)\n  - [8.3 UnNetHack](#UnNetHack)\n\n- [9 References](#References)\n\n## Generation\n\nShops have a base 3/[DL](/wiki/Dungeon_level \"Dungeon level\") chance of being created on any dungeon level between level 2 and [Medusa's Island](/wiki/Medusa%27s_Island \"Medusa's Island\"), with the exception of the [Oracle level](/wiki/Oracle_\\(level\\) \"Oracle (level)\"). The creation of a shop assumes there is a suitable room to put them in (i.e., no [stairs](/wiki/Stair \"Stair\"), only one [door](/wiki/Door \"Door\")) and that there are enough rooms on the level to start with - the minimum number of rooms required is 3 for normal dungeon levels, and 4 for a branch level. Note that this means that there will always be a shop on each of levels 2 and 3 if the conditions are right (which in practice turns out to only be the case about 45% of the time).\n\nWith the exception of bones and [Orcus-town](/wiki/Orcus-town \"Orcus-town\"), shops are never generated abandoned, and are never restocked under any circumstances - the only way they can gain more items is if they are brought in by you, a dead player from a [bones](/wiki/Bones \"Bones\") file, or very rarely another [monster](/wiki/Monster \"Monster\").\n\n### Table of shops\n\nThe probability of a given type of shop being generated is detailed in this table:\n\n| Shop                            | Probability   | Stock                                                                                                                                                                                                                                                                                                                                               |\n| ------------------------------- | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| general                         | 42%           | 100% random                                                                                                                                                                                                                                                                                                                                         |\n| used armor dealership           | 14%           | 90% [armor](/wiki/Armor \"Armor\"), 10% [weapons](/wiki/Weapon \"Weapon\")                                                                                                                                                                                                                                                                              |\n| second-hand bookstore           | 10%           | 90% [scrolls](/wiki/Scroll \"Scroll\"), 10% [spellbooks](/wiki/Spellbook \"Spellbook\")                                                                                                                                                                                                                                                                 |\n| liquor emporium                 | 10%           | 100% [potions](/wiki/Potion \"Potion\")                                                                                                                                                                                                                                                                                                               |\n| antique weapons outlet          | 5%            | 90% weapons, 10% armor                                                                                                                                                                                                                                                                                                                              |\n| delicatessen                    | 5%            | 83% [food](/wiki/Food \"Food\"), 5% [fruit juice](/wiki/Fruit_juice \"Fruit juice\"), 5% [water](/wiki/Water \"Water\"), 4% [booze](/wiki/Booze \"Booze\"), 3% [ice boxes](/wiki/Ice_box \"Ice box\") (containing corpses)                                                                                                                                    |\n| jewelers                        | 3%            | 85% [rings](/wiki/Ring \"Ring\"), 10% [gems](/wiki/Gem \"Gem\"), 5% [amulets](/wiki/Amulet \"Amulet\")                                                                                                                                                                                                                                                    |\n| quality apparel and accessories | 3%            | 90% [wands](/wiki/Wand \"Wand\"), 5% [leather gloves](/wiki/Leather_gloves \"Leather gloves\"), 5% [elven cloaks](/wiki/Elven_cloak \"Elven cloak\")                                                                                                                                                                                                      |\n| hardware                        | 3%            | 100% [tools](/wiki/Tool \"Tool\") ([containers](/wiki/Container \"Container\") may contain random items that are also for sale)                                                                                                                                                                                                                         |\n| rare books                      | 3%            | 90% spellbooks, 10% scrolls                                                                                                                                                                                                                                                                                                                         |\n| health food                     | 2%            | 70% [vegetarian](/wiki/Vegetarian \"Vegetarian\") food, 20% [fruit juice](/wiki/Fruit_juice \"Fruit juice\"), 4% [healing](/wiki/Potion_of_healing \"Potion of healing\"), 3% [full healing](/wiki/Full_healing \"Full healing\"), 2% scrolls of [food detection](/wiki/Food_detection \"Food detection\"), 1% [royal jelly](/wiki/Royal_jelly \"Royal jelly\") |\n| lighting                        | Minetown only | 48% [tallow candles](/wiki/Tallow_candle \"Tallow candle\"), 30% [wax candles](/wiki/Wax_candle \"Wax candle\"), 9% [oil lamps](/wiki/Oil_lamp \"Oil lamp\"), 5% [brass lanterns](/wiki/Brass_lantern \"Brass lantern\"), 5% [potions of oil](/wiki/Potion_of_oil \"Potion of oil\"), 3% [magic lamps](/wiki/Magic_lamp \"Magic lamp\")                         |\n\nAccessories and rare book shops may not be larger than 20 squares (including the non-stocked squares); if they would otherwise be (about half the time), they are converted into general stores instead.\n\n### Special levels with shops\n\nThe following special levels are guaranteed to have shops at fixed locations:\n\n- [Minetown](/wiki/Minetown \"Minetown\") (except for [Orcish Town](/wiki/Orcish_Town \"Orcish Town\")) is guaranteed to have at least 1 shop, including [Izchak](/wiki/Izchak \"Izchak\")'s lighting store. In addition, the first shop generated in Minetown will always be a health food store when the player is a [Monk](/wiki/Monk \"Monk\").\n- The [Tourist Quest](/wiki/Tourist_Quest \"Tourist Quest\") has several guaranteed general stores: two in the locate level (The Thieves Guild Hall) and two in the goal level (The Shades).\n- [Orcus-town](/wiki/Orcus-town \"Orcus-town\") is usually host to a few abandoned shops.\n\n### Closed shops\n\nShops can also be generated \"closed\", in which case the message \"Closed for inventory\" will be written in dust outside of the shop door. The shop door itself will be locked. Breaking down the door will anger the owner unless you immediately pay 400 zorkmids; opening the door with an [unlocking tool](/wiki/Unlocking_tool \"Unlocking tool\"), [wand of opening](/wiki/Wand_of_opening \"Wand of opening\") or [knock](/wiki/Spellbook_of_knock \"Spellbook of knock\") spell allows you to enter and shop as usual. Shops in special levels cannot ever generate closed.\n\n### Mimics\n\n- *Main article: [Mimic](/wiki/Mimic \"Mimic\")*\n\nAny [mimics](/wiki/Mimic \"Mimic\") you encounter are most likely to appear in shops, disguised as items. There is a (dungeon level - 1)% chance of a mimic generating on a given shop square instead of an item.\n\n### Traps\n\n[Traps](/wiki/Trap \"Trap\") cannot normally be generated in shops, with the exceptions of shops placed on special levels. In practice, this will most likely occur in the Tourist quest and Orcus-town - while the various layouts of Minetown contain two traps each, they are very rarely placed within any of the shops.\n\n## The shopkeeper\n\n- *Main article: [Shopkeeper](/wiki/Shopkeeper \"Shopkeeper\")*\n\nThe shopkeeper is a [human](/wiki/Human \"Human\") monster that owns the shop and its contents and buys and sells items within. They are responsible for the upkeep of the shop as well - this includes magically repairing most damage done to the shop's floors, walls and door, and removing most traps that are set within their shop(with the exception of [pits](/wiki/Pit \"Pit\") or [webs](/wiki/Web \"Web\")), including those made by you. Damaged walls, broken doors and [holes](/wiki/Hole \"Hole\") are repaired in five turns.[\\[1\\]](#cite_note-1)[\\[2\\]](#cite_note-2) If the shopkeeper should end up dead for any reason, or else a shop has no shopkeeper, then the shop's items are free for you or any monster to take.\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nShopkeepers will now remove pits and webs as well.\n\n### Theft prevention\n\n- *Main article: [Stealing from shops](/wiki/Stealing_from_shops \"Stealing from shops\")*\n\nShopkeepers are 50% faster than a normal character's base [speed](/wiki/Speed \"Speed\"), and will keep close to their shop's entrance - this makes it difficult, but not impossible, to walk out with unpaid items. See the article linked at the top of this section for more information on how to steal from shops, and see the article on shopkeepers for more details about their movement.\n\n### Barring the entrance\n\nIn addition, shopkeepers will block the entrance square (the square inside the shop that is directly in front of the door) and will not allow you to enter their shop if you are [invisible](/wiki/Invisible \"Invisible\"), have a visible [pick-axe](/wiki/Pick-axe \"Pick-axe\") or [dwarvish mattock](/wiki/Dwarvish_mattock \"Dwarvish mattock\"), and/or are currently [riding](/wiki/Riding \"Riding\") on a steed. If you dismount, become visible, or remove the digging tool(s) from your open [inventory](/wiki/Inventory \"Inventory\") (including placing it in a [container](/wiki/Container \"Container\")), you will be allowed entry. Note that the door of the shop is not considered suitable for dropping your digging tools - this is to prevent characters with extra speed from entering on a free turn. Shopkeepers will also catch any tools you attempt to throw in.\n\nWhile in a shop, the shopkeeper will prevent you from leaving if you are mounted and/or invisible.\n\n### Pick-axes\n\nOn top of the above, the shopkeeper will yell at you if you pull out a digging tool(s) from a container while inside - but this does not anger them, and you can safely sell or otherwise walk around with the tool(s) as long as you do not dig through the shop walls. Digging a pit will have them warn you about falling through [holes](/wiki/Hole \"Hole\"), though this will also not anger the shopkeeper - but if you dig again and create a hole, items on the same square and possibly adjacent squares will fall through.\n\nAttempting to enter a shop with a dwarvish mattock or pulling one out inside a shop will also identify it.\n\n### Angering the shopkeeper\n\nThe shopkeeper will become angry if you attack them, damage the shop or its inventory, or they see you leave with unpaid items or debt - additionally, if you try to leave the shop with unpaid items via a hole made within the shop's boundaries, the shopkeeper will try to [grab your pack](/wiki/Stealing_from_shops#Shopkeeper_prevention \"Stealing from shops\") as you fall if they can get adjacent. Theft includes any items on the same square as a hole falling through it, as well as items from potentially adjacent squares. Damaging the shop door or walls will immediately prompt you to pay 400zm for a door and 200zm for each wall segment destroyed, and the shopkeeper will be angry if you do not pay. Damaging the shop from out of the shopkeeper's line of sight (e.g. with a [wand of digging](/wiki/Wand_of_digging \"Wand of digging\")) will always anger them, with no chance to pay. Note that the damages the shopkeeper asks for are not ordinary shop debt: refusing to pay will not make them \"remember\" how much you owe them, and escaping without paying the recompense will not summon Keystone Kops.\n\nLeaving a shop with unpaid items will anger the shopkeeper; the items then become yours, their value (including a price hike if the shopkeeper was already angry) is added to your debt, and Kops are summoned. It is then possible to pacify the shopkeeper by paying at least half of your debt[\\[3\\]](#cite_note-3). Unless you are currently in the shop, you will need to be adjacent to the shopkeeper or throw the required gold at them. If you anger a shopkeeper without incurring a debt - e.g. by attacking them directly or damaging their walls or door - you can pay them 1000zm for a 2⁄3 chance of pacifying them.[\\[4\\]](#cite_note-4)[\\[5\\]](#cite_note-5). Stealing an item while the shopkeeper is already angry due to such an offense and then paying your debt will make the shopkeeper \"forget\" about your previous offenses: they will become calm and return to their shop as usual, without taking 1000zm. Pacifying a shopkeeper by paying for stolen goods will also pacify any watchmen on that floor and cause any Keystone Kops present to disappear.\n\nNote that \"ordinary\" shop transactions are handled before any attempt to pacify the shopkeeper: if you are in a shop with an angry shopkeeper while holding an unpaid item or owing them for a destroyed item, trying to pay them will first prompt you to buy that item, using up a turn. For a low-level character facing an angry shopkeeper, that one-turn delay can be fatal, even if they otherwise have enough gold.\n\n#### Hot pursuit\n\nUnlike other monsters, shopkeepers actually have two distinct \"angry\" states: they can be rendered hostile like any other monster, but they can also be put into a state referred to internally as \"hot pursuit\", which is tracked separately from standard hostility.[\\[6\\]](#cite_note-6) A shopkeeper who is merely angry will attack you if you are inside their shop, but will not leave the shop to pursue you, though they will still use any ranged attacks and block you from re-entering their shop. A shopkeeper in \"hot pursuit\" will chase you across the level; if they lose sight of you, they will wander like any other monster, rather than returning to their shop.\n\nShopkeepers who are robbed are angered *and* put into hot pursuit, as are those whose shop walls are damaged and those who are attacked from outside their shop. The most common way of angering a shopkeeper without causing them to pursue you is to attack them from *inside* their shop, and then escape without stealing anything; other more obscure methods include applying a [drum of earthquake](/wiki/Drum_of_earthquake \"Drum of earthquake\"). It is possible for a shopkeeper to be in hot pursuit *without* being angry: this requires you to pacify an angry shopkeeper in \"hot pursuit\" with a [magic harp](/wiki/Magic_harp \"Magic harp\") specifically (since other methods of pacification remove the hot pursuit status).[\\[7\\]](#cite_note-7) In this state, the shopkeeper will follow you and periodically ask you to pay, with a 1⁄10 chance of becoming angry again each time they ask.[\\[8\\]](#cite_note-8) If the shopkeeper was pursuing you because you attacked them or damaged their shop, it is impossible to pay them due to a lack of debt, and they will eventually become angry again if you stay near them.\n\n## Transactions and inventory\n\nA shop's inventory consists of all the items on any square of its floor, with the notable exception of the \"entrance square\" in front of the door; this is not to be confused with the shopkeeper's personal [inventory](/wiki/Inventory \"Inventory\"). Items belonging to the shop will have their price displayed as you move over them, and an item's price can be also viewed by [near looking](/wiki/Near_look \"Near look\") on their square. For containers generated as belonging to a shop, the contents are also that shop's property, regardless of whether that shop would sell them normally. You cannot buy from shops normally while [blind](/wiki/Blind \"Blind\") unless you have [telepathy](/wiki/Telepathy \"Telepathy\"), as you will be unable to see the shopkeeper, although you can still sell items as normal.\n\nPressing [$](/wiki/$ \"$\") will display any [credit](#Credit) you have, along with any debts you currently owe the shopkeeper. You can #[chat](/wiki/Chat \"Chat\") to get the price of an item(s) on your square without picking anything up. Buying and selling non-magical [weapons](/wiki/Weapon \"Weapon\") and [armor](/wiki/Armor \"Armor\") will have the shopkeeper partially identify that item(s) to you - e.g., if you sell a crude dagger, the shopkeeper will reveal that it was an [orcish dagger](/wiki/Orcish_dagger \"Orcish dagger\"). After each transaction, they will also tell you the item's appearance if you are blind.\n\n### Buying items\n\nPicking up items off the shop floor adds them to your inventory, with each item(s) being given an \"unpaid\" tag that lists their price - pressing [I](/wiki/I \"I\") and then [u](/wiki/U \"U\") will display all the unpaid items you are currently carrying.\n\nYou can pay for your goods by pressing [p](/wiki/P \"P\"), which will prompt you about itemized billing; answering \"no\" to this will pay for all the items at once if possible. For itemized billing, you can pay individually for each unpaid object (or stack of objects). Items that you pay for are yours, and the required gold will transfer to the shopkeeper's personal inventory. In both cases, if you have credit at that shop, it will be used up first before any gold is transferred.\n\n### Selling\n\nIf you [drop](/wiki/Drop \"Drop\") an item onto the shop floor (with the exception of the entrance square), the shopkeeper will offer to buy it if they normally carry that type of wares. If you refuse, or if the shopkeeper makes no offer, then you continue to own the item and can pick it up again without paying.\n\nAny items that unintentionally fall onto the shop floor, e.g. from [throwing](/wiki/Throw \"Throw\") them or [losing your grip on them](/wiki/Slippery_fingers \"Slippery fingers\") will be considered \"relinquished\" and automatically sold if it is a type normally sold by the shop. Any items dropped by monsters killed within a shop also becomes that shop's property - this includes you, if you die while inside a shop.\n\n### Credit\n\n- *Main article: [Credit cloning](/wiki/Credit_cloning \"Credit cloning\")*\n\nIf you drop any [gold](/wiki/Gold \"Gold\") onto the shop floor, the shopkeeper will give you credit which you can use to buy items and pay off debts. If you sell an item to a shopkeeper that is completely out of gold, they will instead offer you store credit in exchange for the item at 90% of the normal price. Any credit given in a shop is only good for that specific shop - if you leave a shop with unpaid items in your inventory (e.g., your intrinsic [teleportitis](/wiki/Teleportitis \"Teleportitis\") suddenly kicks in), *all* of your credit will be used to cover the losses, and if your credit was not enough, the shopkeeper will become angry.\n\nYou can abuse this credit system through credit cloning - see the linked article at the top of this section for more detailed information.\n\n### Usage fees\n\n- *Main article: [Usage fee](/wiki/Usage_fee \"Usage fee\")*\n\nIf you use an unpaid item with charges in a shop before paying for it and the shopkeeper is present, you will be charged a [usage fee](/wiki/Usage_fee \"Usage fee\").[\\[9\\]](#cite_note-9) Broken or destroyed items, including the locks of [chests](/wiki/Chest \"Chest\") and [large boxes](/wiki/Large_box \"Large box\"), also incur fees.\n\n## Pricing\n\n- *Main article: [Price identification](/wiki/Price_identification \"Price identification\")*\n\n### Base price\n\nEach item in *NetHack* has a base price, which is modified in various ways to produce the final selling price; an [artifact](/wiki/Artifact \"Artifact\") has its own usually-high base price distinct from its [base item](/wiki/Base_item \"Base item\"). Positively-enchanted weapons and armor have an additional 10 zm added to their base price for every point of enchantment.\n\nSome items are considered \"worthless\"; you cannot sell them, but their buying price is calculated as though they had a base price of 5 zm:\n\n- items with zero base price\n- [cancelled](/wiki/Cancelled \"Cancelled\") [wands](/wiki/Wand \"Wand\") (with -1 charges)\n- partly-eaten [comestibles](/wiki/Comestible \"Comestible\")\n- uncursed [potions of water](/wiki/Potions_of_water \"Potions of water\")\n\n#### Unidentified gems\n\nValuable [gems](/wiki/Gem \"Gem\") and worthless glass which aren't formally identified have their base prices determined by a different mechanism:\n\n- When buying, the base price is that of an arbitrary valuable gem.\n- When selling, the base price is between 3 and 8 zm.\n\nThe random modifiers to unidentified item prices listed below don't apply in this case. Even if you know for a fact that a gem is valuable (by e.g. [engrave](/wiki/Engrave \"Engrave\")-testing) and have named it correctly, you can't get its full selling price unless you formally identify it.\n\n[Gray stones](/wiki/Gray_stone \"Gray stone\") don't use this mechanism; an unidentified gray stone is priced the same as an identified one.\n\n### Buying\n\nWhen you buy an item, you are charged the base price, modified as follows. All multipliers are applied in sequence:\n\n- Your [charisma](/wiki/Charisma \"Charisma\") grants a modifier to the buying price.[\\[10\\]](#cite_note-10)\n\n- Some characters are considered \"suckers\", and will be charged 1⁄3 more. You are a sucker if:[\\[11\\]](#cite_note-11)\n\n  - You are wearing a [dunce cap](/wiki/Dunce_cap \"Dunce cap\")\n  - You are wearing a [T-shirt](/wiki/T-shirt \"T-shirt\") or [Hawaiian shirt](/wiki/Hawaiian_shirt \"Hawaiian shirt\") uncovered by a [cloak](/wiki/Cloak \"Cloak\") or [body armor](/wiki/Body_armor \"Body armor\")\n  - You are a [Tourist](/wiki/Tourist \"Tourist\") below [experience level](/wiki/Experience_level \"Experience level\") 15\n\n- A hostile shopkeeper will charge 1⁄3 more.[\\[12\\]](#cite_note-12)\n\n- When buying unidentified objects, in 1⁄4 of cases the shopkeeper will charge 1⁄3 more. This surcharge is tied to the individual item or stack; merged stacks will inherit the higher of the two prices, while split stacks will inherit the price of the original stack.\n\n- Depending on your [hunger status](/wiki/Nutrition \"Nutrition\"), shopkeepers will charge more for food and comestibles:[\\[13\\]](#cite_note-13)\n\n  - If you are hungry, the price is doubled.\n  - If you are weak from hunger, the price is tripled.\n  - If you are fainting from hunger, the price is quadrupled.\n\n- Artifacts are bought for four times their already-inflated base cost.[\\[14\\]](#cite_note-14)\n\n### Selling\n\nWhen you sell an item, you are normally offered 1⁄2 the base price; charisma modifiers do not apply. If you're a sucker, as above, you are offered 1⁄3 the base price instead.\n\n- 1⁄4 of shopkeepers will pay 1⁄4 less for unidentified objects; this modifier is consistent for a given shopkeeper.\n- Artifacts are sold for 1⁄4 of their base cost.[\\[15\\]](#cite_note-15)\n- If the shopkeeper has gold, but not enough to pay the sale price, they will offer as much gold as they have, with the message \"\\<shopkeeper> offers *only* \\<amount> for your \\<item>\".\n- If the shopkeeper has no gold at all, they will offer store credit equal to 90% of the sale price, as above.\n\n## Strategy\n\n- *For shopkeeper-specific strategy, see [Shopkeeper#Strategy](/wiki/Shopkeeper#Strategy \"Shopkeeper\").*\n\nShops are a very useful resource overall, particularly in the early and mid-game - they are usually a primary source of items and equipment, and additionally provide a means of identifying them via prices, as mentioned above. They can also serve as a place to offload anything you consider [junk](/wiki/Junk \"Junk\"), and can serve various other purposes besides.\n\nIt may sometimes be worthwhile to drop your gold and use credit to buy things, rather than paying directly - even if you do not plan on shoplifting, you may benefit from tricking a monster into bringing the gold back to you. Covertly stealing expensive items (usually including artifacts) may also be worthwhile for the early advantage they provide, e.g. a powerful weapon, or something to sell back to the shopkeeper for a significant price.\n\n### Shopping while invisible\n\nIf you are invisible and either do not want to wait until you are visible again, or your invisibility cannot be undone (either due to a cursed source or a [quaffed](/wiki/Quaff \"Quaff\") blessed potion), then you can use one of the following methods to safely enter or exit a shop as normal:\n\n- Wearing a non-cursed [mummy wrapping](/wiki/Mummy_wrapping \"Mummy wrapping\") is the safest and most typical method, as it works in a mass majority of cases with the exception of a cursed [cloak](/wiki/Cloak_of_invisibility \"Cloak of invisibility\").\n- [Teleporting](/wiki/Teleport \"Teleport\") into and out of the shop is possible, but requires [teleport control](/wiki/Teleport_control \"Teleport control\") for you to enter reliably.\n- [Jump](/wiki/Jump \"Jump\") diagonally through the door.\n- Hurtle diagonally through the door by throwing things while [levitating](/wiki/Levitation \"Levitation\") due to Newton’s Third Law.\n- [Dig](/wiki/Dig \"Dig\") down on the level above - but this leaves you completely at the mercy of [RNG](/wiki/RNG \"RNG\").\n  - You can also dig a hole out of the shop through the floor - this is safe as long as no unpaid items fall through with you.\n- You can forego entering entirely and instead use a [pet](/wiki/Pet \"Pet\") and a [magic whistle](/wiki/Magic_whistle \"Magic whistle\") to steal from the shop.\n- Use any holes in the wall dug by a [tunneling monster](/wiki/Tunneling_monster \"Tunneling monster\") (e.g., a [dwarf](/wiki/Dwarf_\\(monster\\) \"Dwarf (monster)\") with a pick-axe or mattock); each hole will be magically repaired in at least 5 turns after it was made if no monster is present on that square.\n- [Polymorph](/wiki/Polymorph \"Polymorph\") into a [xorn](/wiki/Xorn \"Xorn\") to [phase](/wiki/Phase \"Phase\") through the wall.\n- Be very fast (e.g. usually from wearing [speed boots](/wiki/Speed_boots \"Speed boots\")) and beat the shopkeeper to the door. Note that the shopkeeper will move to stay ahead of a player's intrinsic speed - this does not account for speed from polyself.\n\nThese methods are less safe and/or may cost you some gold:\n\n- Carry 800zm or more, then polymorph into an [umber hulk](/wiki/Umber_hulk \"Umber hulk\") or [rock mole](/wiki/Rock_mole \"Rock mole\") and chew through the wall, and pay for the damage.\n- Carry 800zm or more, then destroy the closed shop door, pay for the damage immediately, then enter/leave. The door will be fixed afterward.\n- Teleport the shopkeeper - but this will anger them, and you will have to avoid the shopkeeper on the way out unless you can pacify them.\n- Kill the shopkeeper, directly or otherwise - doing so directly counts as [murder](/wiki/Murder \"Murder\"), and you are deprived of price identification for that shop in either case.\n\n### Shopping smart and safe\n\nWhile each character's shopping needs will differ, price identification can generally narrow down what wares you may want to focus on, and even without thorough memorization a player can get an idea of which items are valuable.\n\nThere are other multipurpose pointers for a shopper to keep in mind - in general, *never* buy or sell gems that are unidentified.\n\nIn general, it is a [Bad Idea](/wiki/Bad_Idea \"Bad Idea\") to randomly wear or use items within a shop, since even if your pet is not averse to moving over them, you may end up endangering yourself or complicating play as you would with any randomly use-tested item - you may end up quaffing a potion of paralysis, wearing a helm of opposite alignment, exploding a cursed wand, or end up reading a non-cursed scroll of fire with the shopkeeper nearby and/or unpaid flammables in your inventory.\n\nOne particular obstacle to this end is the [scroll of scare monster](/wiki/Scroll_of_scare_monster \"Scroll of scare monster\") - a scroll that is cursed or has been picked up and dropped once turns to dust when picked up, which incurs a charge for the destroyed item. Novice adventurers who shop by picking up items can find themselves trapped in a store with no money and no way out. There is also the more direct threat to your life posed by mimics of any kind - even small mimics can end an unwary early character, and particularly unfortunate sorts may end up stuck to a giant mimic.\n\nThere are several ways to prevent any mishaps while shopping:\n\n- Be sure #chat to a shopkeeper before picking up certain items directly.\n- Always carry a few hundred spare zorkmids to cover any accidental charges you incur. In a worst-case scenario where you cannot avoid incurring damages, you may need to sell some additional items in your inventory - depending on your situation, this may be preferable to being branded a thief or dying.\n- Before entering a shop, quaff a non-cursed [potion of object detection](/wiki/Potion_of_object_detection \"Potion of object detection\"). You may notice suspicious blank squares if you have not yet seen the contents of the shop - those are likely to be mimics.\n- \"Obvious\" out-of-place objects are often mimics, especially in specialized shops (e.g., a long sword in a potion shop, or down staircase in any shop). However, this does not work as well for general stores (which sell almost anything) and [bones](/wiki/Bones \"Bones\") files (which may have the inventory of the dead player - although you may encounter signs of this beforehand).\n- If you are playing with default tiles or standard ASCII, you can also discern mimics by their glyphs - they will appear as \"strange objects\", and the tiles for strange objects are chests with eyes peering out of them ([![Strange object.png](/images/4/4a/Strange_object.png)](/wiki/File:Strange_object.png)/] versus [![Chest.png](/images/b/b3/Chest.png)](/wiki/File:Chest.png)/(). Additionally, their glyph is usually the mirror of the glyph for [armor](/wiki/Armor \"Armor\") (\\[) - the only time ] is used for anything else is for actual armor on the [Rogue level](/wiki/Rogue_level \"Rogue level\").\n- [Telepathy](/wiki/Telepathy \"Telepathy\") and [warning](/wiki/Warning \"Warning\") will reveal mimics and/or their locations.\n- The [ring of protection from shape changers](/wiki/Ring_of_protection_from_shape_changers \"Ring of protection from shape changers\") will force mimics into their standard form.\n- Any form of [monster detection](/wiki/Monster_detection \"Monster detection\") can reveal mimics - note that a non-blessed [potion of monster detection](/wiki/Potion_of_monster_detection \"Potion of monster detection\") or a [detect monsters](/wiki/Spellbook_of_detect_monsters \"Spellbook of detect monsters\") spell cast at lower than Skilled level only reveals their current location, while detection from a blessed potion or Skilled (or better) spell passively remains active.\n- A safe and surefire way to uncloak mimics inside a shop is to throw a single gold piece across each row of the store - this does not use up valuable projectiles and will only establish credit. Be careful not to hit and possibly anger the shopkeeper!\n- [Search](/wiki/Search \"Search\") before walking onto an item to uncover any mimics - this will prevent you bumping into them, as the larger ones are sticky.\n- A [stethoscope](/wiki/Stethoscope \"Stethoscope\") can also uncover mimics, and the first application of a stethoscope per turn is a free action.\n- Healing a mimic disguised as an item (e.g. via a [spell of healing](/wiki/Spell_of_healing \"Spell of healing\")) will indirectly expose it, with the \"object\" seeming a more vivid color than before.[\\[16\\]](#cite_note-16)\n- If you lack any means of detection and are risk-averse, only walk where your pet or the shopkeeper has walked.\n\n### Combat\n\nA shop can also function as a refuge if you need to heal or fight a powerful enemy. You can pick up an item and stand so that the shopkeeper blocks the door, preventing non-phasing monsters from getting in. If you stand a knight's jump from the door, you will not be exposed to ranged attacks from outside as well. You can then move next to the door to fight, and step away to heal at your leisure.\n\n### Zen shopping\n\n- *Main article: [Zen](/wiki/Zen \"Zen\")*\n\nFor zen players, shops are one of the few methods available to identify item the appearances, particularly scrolls and potions. However, being unable to see the shopkeeper poses a great danger: paying only works if you can see the shopkeeper, and failing to discern the shopkeeper's location by searching before safe-moving via [m](/wiki/M \"M\") will nearly always result in death. It may be advisable to avoid shops altogether until you have telepathy.\n\nBraver and/or more experienced players can bring a container to place items in (ideally a [bag](/wiki/Bag \"Bag\")) and a pet to steal the container back in order to speed up the process of re-acquiring sold items that the shopkeeper has identified. It is also possible to drop enough gold to cover your purchases and then teleport, jump or phase out after picking up your desired items, even without [teleport control](/wiki/Teleport_control \"Teleport control\") - unfortunately, this is not nearly as reliable early in the game, and most zen players acquire telepathy before any of these other methods become available. Selling items works as normal, and might be useful if you get burdened before acquiring telepathy.\n\n## History\n\nShops have been present in the game's code since the original release of [Jay Fenlason's Hack](/wiki/Jay_Fenlason%27s_Hack \"Jay Fenlason's Hack\"), and make a proper first appearance in Hack 1.21, a variant of this first *Hack*. Hack 1.21 also included a shop at the beginning of the game, where characters purchased their starting items, rather than bringing their initial inventory with them into the dungeon.\n\nIzchak and his lighting shop in Minetown were introduced in [NetHack 3.2.0](/wiki/NetHack_3.2.0 \"NetHack 3.2.0\") as part of a tribute to late DevTeam member [Izchak Miller](/wiki/Izchak_Miller \"Izchak Miller\").\n\nIn default installations of [NetHack 3.4.3](/wiki/NetHack_3.4.3 \"NetHack 3.4.3\") and earlier versions, along with some variants based on those versions, prices are not displayed by default, and you must pick up items or #chat while standing on them to learn their price. Additionally, modifiers for unidentified items applied to identified items as well, and the lower price for sold items was applied per-sale - by repeatedly dropping an item, refusing the shopkeeper's offer, and picking it up again, you would eventually get two different quotes. A bug was also present in those versions that could prevent you from leaving a 2x2 size shop through normal means; saving and reloading the game while standing next to the shopkeeper may alleviate this bug in a semi-sane and perfectly legal fashion.\n\nThe health food store was introduced in [NetHack 3.6.0](/wiki/NetHack_3.6.0 \"NetHack 3.6.0\"). Beginning in [3.6.1](/wiki/3.6.1 \"3.6.1\"), [autopickup](/wiki/Autopickup \"Autopickup\") no longer picks up unpaid items - this prevents any mishaps involving a cursed scroll of scare monster.\n\n## Messages\n\n- You hear someone cursing shoplifters.  \n  You hear the chime of a cash register.\n\n  There is a shop on the level.\n\n- You hear Neiman and Marcus arguing!\n\n  As above, but you are hallucinating.\n\n- This shop appears to be deserted.\n\n  There is no shopkeeper in the shop.\n\n## Variants\n\nSome variants may feature entirely different types of shops, in addition to adding more locations and/or functions.\n\nA user has suggested improving this page or section as follows:\n\n*\"Cover the rest of the variants eventually.\"*\n\n### NetHack brass\n\n[NetHack brass](/wiki/NetHack_brass \"NetHack brass\") adds stylish clothing stores, which sells cloth armor such as [conical hats](/wiki/Conical_hat \"Conical hat\"), [Hawaiian shirts](/wiki/Hawaiian_shirt \"Hawaiian shirt\") and [nurse caps](/wiki/Nurse_cap \"Nurse cap\").\n\n### SLASH'EM\n\n[SLASH'EM](/wiki/SLASH%27EM \"SLASH'EM\") adds pet stores, randomly generated light stores, tin shops, and music shops, as well as the [black market](/wiki/Black_market_\\(SLASH%27EM\\) \"Black market (SLASH'EM)\"), a special floor-wide shop with its own branch tended to by [One-eyed Sam](/wiki/One-eyed_Sam_\\(SLASH%27EM\\) \"One-eyed Sam (SLASH'EM)\") and his assistants.\n\nShops can be also found in more locations - the [Mall](/wiki/Mall \"Mall\") is a special level that contains several shops and can appear early in the dungeon.\n\n### UnNetHack\n\n[UnNetHack](/wiki/UnNetHack \"UnNetHack\") also adds pet stores, randomly generated light stores, tin shops, and music shops. UnNetHack also contains its own version of [the black market](/wiki/Black_market_\\(UnNetHack\\) \"Black market (UnNetHack)\"), with the same layout as SLASH'EM - UnNetHack's [One-eyed Sam](/wiki/One-eyed_Sam_\\(UnNetHack\\) \"One-eyed Sam (UnNetHack)\") is a woman, and there is a second map that splits the market into several independent shops with their own shopkeepers, where One-eyed Sam herself keeps watch.\n\nThe [Town](/wiki/Town \"Town\") branch is a new addition that contains a few shops, including most of the newer ones.\n\n## References\n\n1. [↑](#cite_ref-1) [shk.c in NetHack 3.4.3, line 3033](/wiki/Source:NetHack_3.4.3/shk.c#line3033 \"Source:NetHack 3.4.3/shk.c\")\n2. [↑](#cite_ref-2) [shk.c in NetHack 3.4.3, line 3043](/wiki/Source:NetHack_3.4.3/shk.c#line3043 \"Source:NetHack 3.4.3/shk.c\")\n3. [↑](#cite_ref-3) [src/shk.c in NetHack 3.6.7, line 1553](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1553)\n4. [↑](#cite_ref-4) [src/shk.c in NetHack 3.6.7, line 1407](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1407)\n5. [↑](#cite_ref-5) [src/shk.c in NetHack 3.6.7, line 1420](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1420)\n6. [↑](#cite_ref-6) [src/shk.c in NetHack 3.6.7, line 1324](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1324)\n7. [↑](#cite_ref-7) [src/shk.c in NetHack 3.6.7, line 4261](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L4261)\n8. [↑](#cite_ref-8) [src/shk.c in NetHack 3.6.7, line 4269](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L4269)\n9. [↑](#cite_ref-9) [src/shk.c in NetHack 3.6.7, line 4580](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L4580)\n10. [↑](#cite_ref-10) [src/shk.c in NetHack 3.6.7, line 2134](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L2134)\n11. [↑](#cite_ref-11) [src/shk.c in NetHack 3.6.7, line 2128](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L2128)\n12. [↑](#cite_ref-12) [src/shk.c in NetHack 3.6.7, line 21g4](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L21g4)\n13. [↑](#cite_ref-13) [src/shk.c in NetHack 3.6.7, line 3402](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L3402)\n14. [↑](#cite_ref-14) [src/shk.c in NetHack 3.6.7, line 2159](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L2159)\n15. [↑](#cite_ref-15) [src/shk.c in NetHack 3.6.7, line 3396](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L3396)\n16. [↑](#cite_ref-16) [mimic\\_hit\\_msg](/wiki/Source:Mon.c#mimic_hit_msg \"Source:Mon.c\") in [mon.c](/wiki/Source:Mon.c \"Source:Mon.c\"): *mimics give strange messages if healed while disguised*\n\n*This page is based on a spoiler by [Dylan O'Donnell](https://alt.org/nethack/mirror/www.spod-central.org/%257Epsmith/). The original license is:*\n\nRedistribution, copying, and editing of these spoilers, with or without modification, are permitted provided that the following conditions are met:\n\n1. The original contributors to any spoiler must continue to be credited.\n2. Any modifications to the spoiler must be acknowledged and credited.\n\n[![This article has been updated to reflect NetHack 3.6.7. Click here for more information.](/images/f/f7/Nh367-icon.png)](/wiki/NetHackWiki:Next_version \"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Shop - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Shop\",\"wgTitle\":\"Shop\",\"wgCurRevisionId\":168240,\"wgRevisionId\":168240,\"wgArticleId\":2722,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Pages with unversioned Refsrc templates\",\"Upcoming\",\"Pages with unversioned Reffunc templates\",\"Todo\",\"Nethack-367 articles\",\"Special rooms\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Shop\",\"wgRelevantArticleId\":2722,\"wgRequestId\":\"2f2a47f8fe9f9e46a61833c9\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"ext.cite.styles\":\"ready\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"ext.cite.a11y\",\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"Shops have a base 3/DL chance of being created on any dungeon level between level 2 and Medusa&#039;s Island, with the exception of the Oracle level. The creation of a shop assumes there is a suitable room to put them in (i.e., no stairs, only one door) and that there are enough rooms on the level to start with - the minimum number of rooms required is 3 for normal dungeon levels, and 4 for a branch level. Note that this means that there will always be a shop on each of levels 2 and 3 if the conditions are right (which in practice turns out to only be the case about 45% of the time).\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Shop\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Shop rootpage-Shop skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Shop</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><p>A <b>shop</b> is a <a href=\"/wiki/Special_room\" title=\"Special room\">special room</a> that appears in <i><a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a></i>, and may occur on some levels of the dungeon. Each has an attendant <a href=\"/wiki/Shopkeeper\" title=\"Shopkeeper\">shopkeeper</a> and a selection of <a href=\"/wiki/Item\" title=\"Item\">items</a> to buy - the shopkeepers will also buy items from <a href=\"/wiki/You\" class=\"mw-redirect\" title=\"You\">you</a>, and both types of items depend on the type of shop. A shop with no shopkeeper is considered abandoned.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Generation\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Generation</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#Table_of_shops\"><span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Table of shops</span></a></li>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Special_levels_with_shops\"><span class=\"tocnumber\">1.2</span> <span class=\"toctext\">Special levels with shops</span></a></li>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#Closed_shops\"><span class=\"tocnumber\">1.3</span> <span class=\"toctext\">Closed shops</span></a></li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#Mimics\"><span class=\"tocnumber\">1.4</span> <span class=\"toctext\">Mimics</span></a></li>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#Traps\"><span class=\"tocnumber\">1.5</span> <span class=\"toctext\">Traps</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#The_shopkeeper\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">The shopkeeper</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#Theft_prevention\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Theft prevention</span></a></li>\n<li class=\"toclevel-2 tocsection-9\"><a href=\"#Barring_the_entrance\"><span class=\"tocnumber\">2.2</span> <span class=\"toctext\">Barring the entrance</span></a></li>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#Pick-axes\"><span class=\"tocnumber\">2.3</span> <span class=\"toctext\">Pick-axes</span></a></li>\n<li class=\"toclevel-2 tocsection-11\"><a href=\"#Angering_the_shopkeeper\"><span class=\"tocnumber\">2.4</span> <span class=\"toctext\">Angering the shopkeeper</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-12\"><a href=\"#Hot_pursuit\"><span class=\"tocnumber\">2.4.1</span> <span class=\"toctext\">Hot pursuit</span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-13\"><a href=\"#Transactions_and_inventory\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Transactions and inventory</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-14\"><a href=\"#Buying_items\"><span class=\"tocnumber\">3.1</span> <span class=\"toctext\">Buying items</span></a></li>\n<li class=\"toclevel-2 tocsection-15\"><a href=\"#Selling\"><span class=\"tocnumber\">3.2</span> <span class=\"toctext\">Selling</span></a></li>\n<li class=\"toclevel-2 tocsection-16\"><a href=\"#Credit\"><span class=\"tocnumber\">3.3</span> <span class=\"toctext\">Credit</span></a></li>\n<li class=\"toclevel-2 tocsection-17\"><a href=\"#Usage_fees\"><span class=\"tocnumber\">3.4</span> <span class=\"toctext\">Usage fees</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-18\"><a href=\"#Pricing\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Pricing</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-19\"><a href=\"#Base_price\"><span class=\"tocnumber\">4.1</span> <span class=\"toctext\">Base price</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-20\"><a href=\"#Unidentified_gems\"><span class=\"tocnumber\">4.1.1</span> <span class=\"toctext\">Unidentified gems</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-21\"><a href=\"#Buying\"><span class=\"tocnumber\">4.2</span> <span class=\"toctext\">Buying</span></a></li>\n<li class=\"toclevel-2 tocsection-22\"><a href=\"#Selling_2\"><span class=\"tocnumber\">4.3</span> <span class=\"toctext\">Selling</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-23\"><a href=\"#Strategy\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">Strategy</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-24\"><a href=\"#Shopping_while_invisible\"><span class=\"tocnumber\">5.1</span> <span class=\"toctext\">Shopping while invisible</span></a></li>\n<li class=\"toclevel-2 tocsection-25\"><a href=\"#Shopping_smart_and_safe\"><span class=\"tocnumber\">5.2</span> <span class=\"toctext\">Shopping smart and safe</span></a></li>\n<li class=\"toclevel-2 tocsection-26\"><a href=\"#Combat\"><span class=\"tocnumber\">5.3</span> <span class=\"toctext\">Combat</span></a></li>\n<li class=\"toclevel-2 tocsection-27\"><a href=\"#Zen_shopping\"><span class=\"tocnumber\">5.4</span> <span class=\"toctext\">Zen shopping</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-28\"><a href=\"#History\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">History</span></a></li>\n<li class=\"toclevel-1 tocsection-29\"><a href=\"#Messages\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">Messages</span></a></li>\n<li class=\"toclevel-1 tocsection-30\"><a href=\"#Variants\"><span class=\"tocnumber\">8</span> <span class=\"toctext\">Variants</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-31\"><a href=\"#NetHack_brass\"><span class=\"tocnumber\">8.1</span> <span class=\"toctext\">NetHack brass</span></a></li>\n<li class=\"toclevel-2 tocsection-32\"><a href=\"#SLASH.27EM\"><span class=\"tocnumber\">8.2</span> <span class=\"toctext\">SLASH'EM</span></a></li>\n<li class=\"toclevel-2 tocsection-33\"><a href=\"#UnNetHack\"><span class=\"tocnumber\">8.3</span> <span class=\"toctext\">UnNetHack</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-34\"><a href=\"#References\"><span class=\"tocnumber\">9</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Generation\">Generation</span></h2>\n<p>Shops have a base 3/<a href=\"/wiki/Dungeon_level\" title=\"Dungeon level\">DL</a> chance of being created on any dungeon level between level 2 and <a href=\"/wiki/Medusa%27s_Island\" title=\"Medusa&#39;s Island\">Medusa's Island</a>, with the exception of the <a href=\"/wiki/Oracle_(level)\" title=\"Oracle (level)\">Oracle level</a>. The creation of a shop assumes there is a suitable room to put them in (i.e., no <a href=\"/wiki/Stair\" class=\"mw-redirect\" title=\"Stair\">stairs</a>, only one <a href=\"/wiki/Door\" title=\"Door\">door</a>) and that there are enough rooms on the level to start with - the minimum number of rooms required is 3 for normal dungeon levels, and 4 for a branch level. Note that this means that there will always be a shop on each of levels 2 and 3 if the conditions are right (which in practice turns out to only be the case about 45% of the time). \n</p><p>With the exception of bones and <a href=\"/wiki/Orcus-town\" title=\"Orcus-town\">Orcus-town</a>, shops are never generated abandoned, and are never restocked under any circumstances - the only way they can gain more items is if they are brought in by you, a dead player from a <a href=\"/wiki/Bones\" title=\"Bones\">bones</a> file, or very rarely another <a href=\"/wiki/Monster\" title=\"Monster\">monster</a>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Table_of_shops\">Table of shops</span></h3>\n<p>The probability of a given type of shop being generated is detailed in this table:\n</p>\n<table class=\"wikitable\">\n<tbody><tr>\n<th>Shop\n</th>\n<th>Probability\n</th>\n<th>Stock\n</th></tr>\n<tr>\n<td>general\n</td>\n<td>42%\n</td>\n<td>100% random\n</td></tr>\n<tr>\n<td>used armor dealership\n</td>\n<td>14%\n</td>\n<td>90% <a href=\"/wiki/Armor\" title=\"Armor\">armor</a>, 10% <a href=\"/wiki/Weapon\" title=\"Weapon\">weapons</a>\n</td></tr>\n<tr>\n<td>second-hand bookstore\n</td>\n<td>10%\n</td>\n<td>90% <a href=\"/wiki/Scroll\" title=\"Scroll\">scrolls</a>, 10% <a href=\"/wiki/Spellbook\" title=\"Spellbook\">spellbooks</a>\n</td></tr>\n<tr>\n<td>liquor emporium\n</td>\n<td>10%\n</td>\n<td>100% <a href=\"/wiki/Potion\" title=\"Potion\">potions</a>\n</td></tr>\n<tr>\n<td>antique weapons outlet\n</td>\n<td>5%\n</td>\n<td>90% weapons, 10% armor\n</td></tr>\n<tr>\n<td>delicatessen\n</td>\n<td>5%\n</td>\n<td>83% <a href=\"/wiki/Food\" class=\"mw-redirect\" title=\"Food\">food</a>, 5% <a href=\"/wiki/Fruit_juice\" class=\"mw-redirect\" title=\"Fruit juice\">fruit juice</a>, 5% <a href=\"/wiki/Water\" title=\"Water\">water</a>, 4% <a href=\"/wiki/Booze\" class=\"mw-redirect\" title=\"Booze\">booze</a>, 3% <a href=\"/wiki/Ice_box\" title=\"Ice box\">ice boxes</a> (containing corpses)\n</td></tr>\n<tr>\n<td>jewelers\n</td>\n<td>3%\n</td>\n<td>85% <a href=\"/wiki/Ring\" title=\"Ring\">rings</a>, 10% <a href=\"/wiki/Gem\" title=\"Gem\">gems</a>, 5% <a href=\"/wiki/Amulet\" title=\"Amulet\">amulets</a>\n</td></tr>\n<tr>\n<td>quality apparel and accessories\n</td>\n<td>3%\n</td>\n<td>90% <a href=\"/wiki/Wand\" title=\"Wand\">wands</a>, 5% <a href=\"/wiki/Leather_gloves\" title=\"Leather gloves\">leather gloves</a>, 5% <a href=\"/wiki/Elven_cloak\" title=\"Elven cloak\">elven cloaks</a>\n</td></tr>\n<tr>\n<td>hardware\n</td>\n<td>3%\n</td>\n<td>100% <a href=\"/wiki/Tool\" title=\"Tool\">tools</a> (<a href=\"/wiki/Container\" title=\"Container\">containers</a> may contain random items that are also for sale)\n</td></tr>\n<tr>\n<td>rare books\n</td>\n<td>3%\n</td>\n<td>90% spellbooks, 10% scrolls\n</td></tr>\n<tr>\n<td>health food\n</td>\n<td>2%\n</td>\n<td>70% <a href=\"/wiki/Vegetarian\" class=\"mw-redirect\" title=\"Vegetarian\">vegetarian</a> food, 20% <a href=\"/wiki/Fruit_juice\" class=\"mw-redirect\" title=\"Fruit juice\">fruit juice</a>, 4% <a href=\"/wiki/Potion_of_healing\" title=\"Potion of healing\">healing</a>, 3% <a href=\"/wiki/Full_healing\" class=\"mw-redirect\" title=\"Full healing\">full healing</a>, 2% scrolls of <a href=\"/wiki/Food_detection\" class=\"mw-redirect\" title=\"Food detection\">food detection</a>, 1% <a href=\"/wiki/Royal_jelly\" class=\"mw-redirect\" title=\"Royal jelly\">royal jelly</a>\n</td></tr>\n<tr>\n<td>lighting\n</td>\n<td>Minetown only\n</td>\n<td>48% <a href=\"/wiki/Tallow_candle\" class=\"mw-redirect\" title=\"Tallow candle\">tallow candles</a>, 30% <a href=\"/wiki/Wax_candle\" class=\"mw-redirect\" title=\"Wax candle\">wax candles</a>, 9% <a href=\"/wiki/Oil_lamp\" title=\"Oil lamp\">oil lamps</a>, 5% <a href=\"/wiki/Brass_lantern\" class=\"mw-redirect\" title=\"Brass lantern\">brass lanterns</a>, 5% <a href=\"/wiki/Potion_of_oil\" title=\"Potion of oil\">potions of oil</a>, 3% <a href=\"/wiki/Magic_lamp\" title=\"Magic lamp\">magic lamps</a>\n</td></tr></tbody></table>\n<p>Accessories and rare book shops may not be larger than 20 squares (including the non-stocked squares); if they would otherwise be (about half the time), they are converted into general stores instead.\n</p>\n<h3><span class=\"mw-headline\" id=\"Special_levels_with_shops\">Special levels with shops</span></h3>\n<p>The following special levels are guaranteed to have shops at fixed locations:\n</p>\n<ul><li><a href=\"/wiki/Minetown\" title=\"Minetown\">Minetown</a> (except for <a href=\"/wiki/Orcish_Town\" class=\"mw-redirect\" title=\"Orcish Town\">Orcish Town</a>) is guaranteed to have at least 1 shop, including <a href=\"/wiki/Izchak\" title=\"Izchak\">Izchak</a>'s lighting store. In addition, the first shop generated in Minetown will always be a health food store when the player is a <a href=\"/wiki/Monk\" title=\"Monk\">Monk</a>.</li>\n<li>The <a href=\"/wiki/Tourist_Quest\" class=\"mw-redirect\" title=\"Tourist Quest\">Tourist Quest</a> has several guaranteed general stores: two in the locate level (The Thieves Guild Hall) and two in the goal level (The Shades).</li>\n<li><a href=\"/wiki/Orcus-town\" title=\"Orcus-town\">Orcus-town</a> is usually host to a few abandoned shops.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Closed_shops\">Closed shops</span></h3>\n<p>Shops can also be generated \"closed\", in which case the message \"Closed for inventory\" will be written in dust outside of the shop door. The shop door itself will be locked. Breaking down the door will anger the owner unless you immediately pay 400 zorkmids; opening the door with an <a href=\"/wiki/Unlocking_tool\" title=\"Unlocking tool\">unlocking tool</a>, <a href=\"/wiki/Wand_of_opening\" title=\"Wand of opening\">wand of opening</a> or <a href=\"/wiki/Spellbook_of_knock\" title=\"Spellbook of knock\">knock</a> spell allows you to enter and shop as usual. Shops in special levels cannot ever generate closed.\n</p>\n<h3><span class=\"mw-headline\" id=\"Mimics\">Mimics</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Mimic\" title=\"Mimic\">Mimic</a></i></div></dd></dl>\n<p>Any <a href=\"/wiki/Mimic\" title=\"Mimic\">mimics</a> you encounter are most likely to appear in shops, disguised as items. There is a (dungeon level - 1)% chance of a mimic generating on a given shop square instead of an item.\n</p>\n<h3><span class=\"mw-headline\" id=\"Traps\">Traps</span></h3>\n<p><a href=\"/wiki/Trap\" title=\"Trap\">Traps</a> cannot normally be generated in shops, with the exceptions of shops placed on special levels. In practice, this will most likely occur in the Tourist quest and Orcus-town - while the various layouts of Minetown contain two traps each, they are very rarely placed within any of the shops.\n</p>\n<h2><span class=\"mw-headline\" id=\"The_shopkeeper\">The shopkeeper</span></h2>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Shopkeeper\" title=\"Shopkeeper\">Shopkeeper</a></i></div></dd></dl>\n<p>The shopkeeper is a <a href=\"/wiki/Human\" title=\"Human\">human</a> monster that owns the shop and its contents and buys and sells items within. They are responsible for the upkeep of the shop as well - this includes magically repairing most damage done to the shop's floors, walls and door, and removing most traps that are set within their shop(with the exception of <a href=\"/wiki/Pit\" title=\"Pit\">pits</a> or <a href=\"/wiki/Web\" title=\"Web\">webs</a>), including those made by you. Damaged walls, broken doors and <a href=\"/wiki/Hole\" title=\"Hole\">holes</a> are repaired in five turns.<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup><sup id=\"cite_ref-2\" class=\"reference\"><a href=\"#cite_note-2\">&#91;2&#93;</a></sup> If the shopkeeper should end up dead for any reason, or else a shop has no shopkeeper, then the shop's items are free for you or any monster to take.\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nShopkeepers will now remove pits and webs as well.</div>\n<h3><span class=\"mw-headline\" id=\"Theft_prevention\">Theft prevention</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Stealing_from_shops\" title=\"Stealing from shops\">Stealing from shops</a></i></div></dd></dl>\n<p>Shopkeepers are 50% faster than a normal character's base <a href=\"/wiki/Speed\" title=\"Speed\">speed</a>, and will keep close to their shop's entrance - this makes it difficult, but not impossible, to walk out with unpaid items. See the article linked at the top of this section for more information on how to steal from shops, and see the article on shopkeepers for more details about their movement.\n</p>\n<h3><span class=\"mw-headline\" id=\"Barring_the_entrance\">Barring the entrance</span></h3>\n<p>In addition, shopkeepers will block the entrance square (the square inside the shop that is directly in front of the door) and will not allow you to enter their shop if you are <a href=\"/wiki/Invisible\" class=\"mw-redirect\" title=\"Invisible\">invisible</a>, have a visible <a href=\"/wiki/Pick-axe\" title=\"Pick-axe\">pick-axe</a> or <a href=\"/wiki/Dwarvish_mattock\" title=\"Dwarvish mattock\">dwarvish mattock</a>, and/or are currently <a href=\"/wiki/Riding\" title=\"Riding\">riding</a> on a steed. If you dismount, become visible, or remove the digging tool(s) from your open <a href=\"/wiki/Inventory\" title=\"Inventory\">inventory</a> (including placing it in a <a href=\"/wiki/Container\" title=\"Container\">container</a>), you will be allowed entry. Note that the door of the shop is not considered suitable for dropping your digging tools - this is to prevent characters with extra speed from entering on a free turn. Shopkeepers will also catch any tools you attempt to throw in.\n</p><p>While in a shop, the shopkeeper will prevent you from leaving if you are mounted and/or invisible.\n</p>\n<h3><span class=\"mw-headline\" id=\"Pick-axes\">Pick-axes</span></h3>\n<p>On top of the above, the shopkeeper will yell at you if you pull out a digging tool(s) from a container while inside - but this does not anger them, and you can safely sell or otherwise walk around with the tool(s) as long as you do not dig through the shop walls. Digging a pit will have them warn you about falling through <a href=\"/wiki/Hole\" title=\"Hole\">holes</a>, though this will also not anger the shopkeeper - but if you dig again and create a hole, items on the same square and possibly adjacent squares will fall through.\n</p><p>Attempting to enter a shop with a dwarvish mattock or pulling one out inside a shop will also identify it.\n</p>\n<h3><span class=\"mw-headline\" id=\"Angering_the_shopkeeper\">Angering the shopkeeper</span></h3>\n<p>The shopkeeper will become angry if you attack them, damage the shop or its inventory, or they see you leave with unpaid items or debt - additionally, if you try to leave the shop with unpaid items via a hole made within the shop's boundaries, the shopkeeper will try to <a href=\"/wiki/Stealing_from_shops#Shopkeeper_prevention\" title=\"Stealing from shops\">grab your pack</a> as you fall if they can get adjacent. Theft includes any items on the same square as a hole falling through it, as well as items from potentially adjacent squares. Damaging the shop door or walls will immediately prompt you to pay 400zm for a door and 200zm for each wall segment destroyed, and the shopkeeper will be angry if you do not pay.  Damaging the shop from out of the shopkeeper's line of sight (e.g. with a <a href=\"/wiki/Wand_of_digging\" title=\"Wand of digging\">wand of digging</a>) will always anger them, with no chance to pay.  Note that the damages the shopkeeper asks for are not ordinary shop debt: refusing to pay will not make them \"remember\" how much you owe them, and escaping without paying the recompense will not summon Keystone Kops.\n</p><p>Leaving a shop with unpaid items will anger the shopkeeper; the items then become yours, their value (including a price hike if the shopkeeper was already angry) is added to your debt, and Kops are summoned.  It is then possible to pacify the shopkeeper by paying at least half of your debt<sup id=\"cite_ref-3\" class=\"reference\"><a href=\"#cite_note-3\">&#91;3&#93;</a></sup>.  Unless you are currently in the shop, you will need to be adjacent to the shopkeeper or throw the required gold at them.  If you anger a shopkeeper without incurring a debt - e.g. by attacking them directly or damaging their walls or door - you can pay them 1000zm for a <sup>2</sup>&#8260;<sub>3</sub> chance of pacifying them.<sup id=\"cite_ref-4\" class=\"reference\"><a href=\"#cite_note-4\">&#91;4&#93;</a></sup><sup id=\"cite_ref-5\" class=\"reference\"><a href=\"#cite_note-5\">&#91;5&#93;</a></sup>.  Stealing an item while the shopkeeper is already angry due to such an offense and then paying your debt will make the shopkeeper \"forget\" about your previous offenses: they will become calm and return to their shop as usual, without taking 1000zm. Pacifying a shopkeeper by paying for stolen goods will also pacify any watchmen on that floor and cause any Keystone Kops present to disappear.\n</p><p>Note that \"ordinary\" shop transactions are handled before any attempt to pacify the shopkeeper: if you are in a shop with an angry shopkeeper while holding an unpaid item or owing them for a destroyed item, trying to pay them will first prompt you to buy that item, using up a turn.  For a low-level character facing an angry shopkeeper, that one-turn delay can be fatal, even if they otherwise have enough gold.\n</p>\n<h4><span class=\"mw-headline\" id=\"Hot_pursuit\">Hot pursuit</span></h4>\n<p>Unlike other monsters, shopkeepers actually have two distinct \"angry\" states: they can be rendered hostile like any other monster, but they can also be put into a state referred to internally as \"hot pursuit\", which is tracked separately from standard hostility.<sup id=\"cite_ref-6\" class=\"reference\"><a href=\"#cite_note-6\">&#91;6&#93;</a></sup> A shopkeeper who is merely angry will attack you if you are inside their shop, but will not leave the shop to pursue you, though they will still use any ranged attacks and block you from re-entering their shop. A shopkeeper in \"hot pursuit\" will chase you across the level; if they lose sight of you, they will wander like any other monster, rather than returning to their shop.\n</p><p>Shopkeepers who are robbed are angered <i>and</i> put into hot pursuit, as are those whose shop walls are damaged and those who are attacked from outside their shop. The most common way of angering a shopkeeper without causing them to pursue you is to attack them from <i>inside</i> their shop, and then escape without stealing anything; other more obscure methods include applying a <a href=\"/wiki/Drum_of_earthquake\" title=\"Drum of earthquake\">drum of earthquake</a>. It is possible for a shopkeeper to be in hot pursuit <i>without</i> being angry: this requires you to pacify an angry shopkeeper in \"hot pursuit\" with a <a href=\"/wiki/Magic_harp\" title=\"Magic harp\">magic harp</a> specifically (since other methods of pacification remove the hot pursuit status).<sup id=\"cite_ref-7\" class=\"reference\"><a href=\"#cite_note-7\">&#91;7&#93;</a></sup> In this state, the shopkeeper will follow you and periodically ask you to pay, with a <sup>1</sup>&#8260;<sub>10</sub> chance of becoming angry again each time they ask.<sup id=\"cite_ref-8\" class=\"reference\"><a href=\"#cite_note-8\">&#91;8&#93;</a></sup> If the shopkeeper was pursuing you because you attacked them or damaged their shop, it is impossible to pay them due to a lack of debt, and they will eventually become angry again if you stay near them.\n</p>\n<h2><span class=\"mw-headline\" id=\"Transactions_and_inventory\">Transactions and inventory</span></h2>\n<p>A shop's inventory consists of all the items on any square of its floor, with the notable exception of the \"entrance square\" in front of the door; this is not to be confused with the shopkeeper's personal <a href=\"/wiki/Inventory\" title=\"Inventory\">inventory</a>. Items belonging to the shop will have their price displayed as you move over them, and an item's price can be also viewed by <a href=\"/wiki/Near_look\" title=\"Near look\">near looking</a> on their square. For containers generated as belonging to a shop, the contents are also that shop's property, regardless of whether that shop would sell them normally. You cannot buy from shops normally while <a href=\"/wiki/Blind\" class=\"mw-redirect\" title=\"Blind\">blind</a> unless you have <a href=\"/wiki/Telepathy\" title=\"Telepathy\">telepathy</a>, as you will be unable to see the shopkeeper, although you can still sell items as normal.\n</p><p>Pressing <span class=\"kbd\"><span class=\"kbdsym\"><a href=\"/wiki/$\" title=\"$\">$</a></span></span> will display any <a href=\"#Credit\">credit</a> you have, along with any debts you currently owe the shopkeeper. You can #<a href=\"/wiki/Chat\" title=\"Chat\">chat</a> to get the price of an item(s) on your square without picking anything up. Buying and selling non-magical <a href=\"/wiki/Weapon\" title=\"Weapon\">weapons</a> and <a href=\"/wiki/Armor\" title=\"Armor\">armor</a> will have the shopkeeper partially identify that item(s) to you - e.g., if you sell a crude dagger, the shopkeeper will reveal that it was an <a href=\"/wiki/Orcish_dagger\" title=\"Orcish dagger\">orcish dagger</a>. After each transaction, they will also tell you the item's appearance if you are blind.\n</p>\n<h3><span class=\"mw-headline\" id=\"Buying_items\">Buying items</span></h3>\n<p>Picking up items off the shop floor adds them to your inventory, with each item(s) being given an \"unpaid\" tag that lists their price - pressing <span class=\"kbd\"><span class=\"kbdsym\"><a href=\"/wiki/I\" title=\"I\">I</a></span></span> and then <span class=\"kbd\"><span class=\"kbdsym\"><a href=\"/wiki/U\" title=\"U\">u</a></span></span> will display all the unpaid items you are currently carrying.\n</p><p>You can pay for your goods by pressing <span class=\"kbd\"><span class=\"kbdsym\"><a href=\"/wiki/P\" title=\"P\">p</a></span></span>, which will prompt you about itemized billing; answering \"no\" to this will pay for all the items at once if possible. For itemized billing, you can pay individually for each unpaid object (or stack of objects). Items that you pay for are yours, and the required gold will transfer to the shopkeeper's personal inventory. In both cases, if you have credit at that shop, it will be used up first before any gold is transferred.\n</p>\n<h3><span class=\"mw-headline\" id=\"Selling\">Selling</span></h3>\n<p>If you <a href=\"/wiki/Drop\" title=\"Drop\">drop</a> an item onto the shop floor (with the exception of the entrance square), the shopkeeper will offer to buy it if they normally carry that type of wares. If you refuse, or if the shopkeeper makes no offer, then you continue to own the item and can pick it up again without paying.\n</p><p>Any items that unintentionally fall onto the shop floor, e.g. from <a href=\"/wiki/Throw\" title=\"Throw\">throwing</a> them or <a href=\"/wiki/Slippery_fingers\" class=\"mw-redirect\" title=\"Slippery fingers\">losing your grip on them</a> will be considered \"relinquished\" and automatically sold if it is a type normally sold by the shop. Any items dropped by monsters killed within a shop also becomes that shop's property - this includes you, if you die while inside a shop.\n</p>\n<h3><span class=\"mw-headline\" id=\"Credit\">Credit</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Credit_cloning\" title=\"Credit cloning\">Credit cloning</a></i></div></dd></dl>\n<p>If you drop any <a href=\"/wiki/Gold\" class=\"mw-redirect\" title=\"Gold\">gold</a> onto the shop floor, the shopkeeper will give you credit which you can use to buy items and pay off debts. If you sell an item to a shopkeeper that is completely out of gold, they will instead offer you store credit in exchange for the item at 90% of the normal price. Any credit given in a shop is only good for that specific shop - if you leave a shop with unpaid items in your inventory (e.g., your intrinsic <a href=\"/wiki/Teleportitis\" title=\"Teleportitis\">teleportitis</a> suddenly kicks in), <i>all</i> of your credit will be used to cover the losses, and if your credit was not enough, the shopkeeper will become angry.\n</p><p>You can abuse this credit system through credit cloning - see the linked article at the top of this section for more detailed information.\n</p>\n<h3><span class=\"mw-headline\" id=\"Usage_fees\">Usage fees</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Usage_fee\" title=\"Usage fee\">Usage fee</a></i></div></dd></dl>\n<p>If you use an unpaid item with charges in a shop before paying for it and the shopkeeper is present, you will be charged a <a href=\"/wiki/Usage_fee\" title=\"Usage fee\">usage fee</a>.<sup id=\"cite_ref-9\" class=\"reference\"><a href=\"#cite_note-9\">&#91;9&#93;</a></sup> Broken or destroyed items, including the locks of <a href=\"/wiki/Chest\" title=\"Chest\">chests</a> and <a href=\"/wiki/Large_box\" title=\"Large box\">large boxes</a>, also incur fees.\n</p>\n<h2><span class=\"mw-headline\" id=\"Pricing\">Pricing</span></h2>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Price_identification\" title=\"Price identification\">Price identification</a></i></div></dd></dl>\n<h3><span class=\"mw-headline\" id=\"Base_price\">Base price</span></h3>\n<p>Each item in <i>NetHack</i> has a base price, which is modified in various ways to produce the final selling price; an <a href=\"/wiki/Artifact\" title=\"Artifact\">artifact</a> has its own usually-high base price distinct from its <a href=\"/wiki/Base_item\" title=\"Base item\">base item</a>. Positively-enchanted weapons and armor have an additional 10 zm added to their base price for every point of enchantment.\n</p><p>Some items are considered \"worthless\"; you cannot sell them, but their buying price is calculated as though they had a base price of 5 zm:\n</p>\n<ul><li>items with zero base price</li>\n<li><a href=\"/wiki/Cancelled\" class=\"mw-redirect\" title=\"Cancelled\">cancelled</a> <a href=\"/wiki/Wand\" title=\"Wand\">wands</a> (with -1 charges)</li>\n<li>partly-eaten <a href=\"/wiki/Comestible\" title=\"Comestible\">comestibles</a></li>\n<li>uncursed <a href=\"/wiki/Potions_of_water\" class=\"mw-redirect\" title=\"Potions of water\">potions of water</a></li></ul>\n<h4><span class=\"mw-headline\" id=\"Unidentified_gems\">Unidentified gems</span></h4>\n<p>Valuable <a href=\"/wiki/Gem\" title=\"Gem\">gems</a> and worthless glass which aren't formally identified have their base prices determined by a different mechanism:\n</p>\n<ul><li>When buying, the base price is that of an arbitrary valuable gem.</li>\n<li>When selling, the base price is between 3 and 8 zm.</li></ul>\n<p>The random modifiers to unidentified item prices listed below don't apply in this case. Even if you know for a fact that a gem is valuable (by e.g. <a href=\"/wiki/Engrave\" class=\"mw-redirect\" title=\"Engrave\">engrave</a>-testing) and have named it correctly, you can't get its full selling price unless you formally identify it.\n</p><p><a href=\"/wiki/Gray_stone\" title=\"Gray stone\">Gray stones</a> don't use this mechanism; an unidentified gray stone is priced the same as an identified one.\n</p>\n<h3><span class=\"mw-headline\" id=\"Buying\">Buying</span></h3>\n<p>When you buy an item, you are charged the base price, modified as follows. All multipliers are applied in sequence:\n</p>\n<ul><li>Your <a href=\"/wiki/Charisma\" class=\"mw-redirect\" title=\"Charisma\">charisma</a> grants a modifier to the buying price.<sup id=\"cite_ref-10\" class=\"reference\"><a href=\"#cite_note-10\">&#91;10&#93;</a></sup></li>\n<li>Some characters are considered \"suckers\", and will be charged <sup>1</sup>&#8260;<sub>3</sub> more. You are a sucker if:<sup id=\"cite_ref-11\" class=\"reference\"><a href=\"#cite_note-11\">&#91;11&#93;</a></sup>\n<ul><li>You are wearing a <a href=\"/wiki/Dunce_cap\" title=\"Dunce cap\">dunce cap</a></li>\n<li>You are wearing a <a href=\"/wiki/T-shirt\" title=\"T-shirt\">T-shirt</a> or <a href=\"/wiki/Hawaiian_shirt\" title=\"Hawaiian shirt\">Hawaiian shirt</a> uncovered by a <a href=\"/wiki/Cloak\" title=\"Cloak\">cloak</a> or <a href=\"/wiki/Body_armor\" title=\"Body armor\">body armor</a></li>\n<li>You are a <a href=\"/wiki/Tourist\" title=\"Tourist\">Tourist</a> below <a href=\"/wiki/Experience_level\" title=\"Experience level\">experience level</a> 15</li></ul></li>\n<li>A hostile shopkeeper will charge <sup>1</sup>&#8260;<sub>3</sub> more.<sup id=\"cite_ref-12\" class=\"reference\"><a href=\"#cite_note-12\">&#91;12&#93;</a></sup></li>\n<li>When buying unidentified objects, in <sup>1</sup>&#8260;<sub>4</sub> of cases the shopkeeper will charge <sup>1</sup>&#8260;<sub>3</sub> more. This surcharge is tied to the individual item or stack; merged stacks will inherit the higher of the two prices, while split stacks will inherit the price of the original stack.</li>\n<li>Depending on your <a href=\"/wiki/Nutrition\" title=\"Nutrition\">hunger status</a>, shopkeepers will charge more for food and comestibles:<sup id=\"cite_ref-13\" class=\"reference\"><a href=\"#cite_note-13\">&#91;13&#93;</a></sup>\n<ul><li>If you are hungry, the price is doubled.</li>\n<li>If you are weak from hunger, the price is tripled.</li>\n<li>If you are fainting from hunger, the price is quadrupled.</li></ul></li>\n<li>Artifacts are bought for four times their already-inflated base cost.<sup id=\"cite_ref-14\" class=\"reference\"><a href=\"#cite_note-14\">&#91;14&#93;</a></sup></li></ul>\n<h3><span class=\"mw-headline\" id=\"Selling_2\">Selling</span></h3>\n<p>When you sell an item, you are normally offered <sup>1</sup>&#8260;<sub>2</sub> the base price; charisma modifiers do not apply. If you're a sucker, as above, you are offered <sup>1</sup>&#8260;<sub>3</sub> the base price instead.\n</p>\n<ul><li><sup>1</sup>&#8260;<sub>4</sub> of shopkeepers will pay <sup>1</sup>&#8260;<sub>4</sub> less for unidentified objects; this modifier is consistent for a given shopkeeper.</li>\n<li>Artifacts are sold for <sup>1</sup>&#8260;<sub>4</sub> of their base cost.<sup id=\"cite_ref-15\" class=\"reference\"><a href=\"#cite_note-15\">&#91;15&#93;</a></sup></li>\n<li>If the shopkeeper has gold, but not enough to pay the sale price, they will offer as much gold as they have, with the message \"&lt;shopkeeper&gt; offers <i>only</i> &lt;amount&gt; for your &lt;item&gt;\".</li>\n<li>If the shopkeeper has no gold at all, they will offer store credit equal to 90% of the sale price, as above.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Strategy\">Strategy</span></h2>\n<dl><dd><span class=\"dablink\"><i>For shopkeeper-specific strategy, see <a href=\"/wiki/Shopkeeper#Strategy\" title=\"Shopkeeper\">Shopkeeper#Strategy</a>.</i></span></dd></dl>\n<p>Shops are a very useful resource overall, particularly in the early and mid-game - they are usually a primary source of items and equipment, and additionally provide a means of identifying them via prices, as mentioned above. They can also serve as a place to offload anything you consider <a href=\"/wiki/Junk\" title=\"Junk\">junk</a>, and can serve various other purposes besides.\n</p><p>It may sometimes be worthwhile to drop your gold and use credit to buy things, rather than paying directly - even if you do not plan on shoplifting, you may benefit from tricking a monster into bringing the gold back to you. Covertly stealing expensive items (usually including artifacts) may also be worthwhile for the early advantage they provide, e.g. a powerful weapon, or something to sell back to the shopkeeper for a significant price.\n</p>\n<h3><span class=\"mw-headline\" id=\"Shopping_while_invisible\">Shopping while invisible</span></h3>\n<p>If you are invisible and either do not want to wait until you are visible again, or your invisibility cannot be undone (either due to a cursed source or a <a href=\"/wiki/Quaff\" title=\"Quaff\">quaffed</a> blessed potion), then you can use one of the following methods to safely enter or exit a shop as normal:\n</p>\n<ul><li>Wearing a non-cursed <a href=\"/wiki/Mummy_wrapping\" title=\"Mummy wrapping\">mummy wrapping</a> is the safest and most typical method, as it works in a mass majority of cases with the exception of a cursed <a href=\"/wiki/Cloak_of_invisibility\" title=\"Cloak of invisibility\">cloak</a>.</li>\n<li><a href=\"/wiki/Teleport\" class=\"mw-redirect\" title=\"Teleport\">Teleporting</a> into and out of the shop is possible, but requires <a href=\"/wiki/Teleport_control\" title=\"Teleport control\">teleport control</a> for you to enter reliably.</li>\n<li><a href=\"/wiki/Jump\" class=\"mw-redirect\" title=\"Jump\">Jump</a> diagonally through the door.</li>\n<li>Hurtle diagonally through the door by throwing things while <a href=\"/wiki/Levitation\" title=\"Levitation\">levitating</a> due to Newton’s Third Law.</li>\n<li><a href=\"/wiki/Dig\" class=\"mw-redirect\" title=\"Dig\">Dig</a> down on the level above - but this leaves you completely at the mercy of <a href=\"/wiki/RNG\" class=\"mw-redirect\" title=\"RNG\">RNG</a>.\n<ul><li>You can also dig a hole out of the shop through the floor - this is safe as long as no unpaid items fall through with you.</li></ul></li>\n<li>You can forego entering entirely and instead use a <a href=\"/wiki/Pet\" title=\"Pet\">pet</a> and a <a href=\"/wiki/Magic_whistle\" title=\"Magic whistle\">magic whistle</a> to steal from the shop.</li>\n<li>Use any holes in the wall dug by a <a href=\"/wiki/Tunneling_monster\" title=\"Tunneling monster\">tunneling monster</a> (e.g., a <a href=\"/wiki/Dwarf_(monster)\" title=\"Dwarf (monster)\">dwarf</a> with a pick-axe or mattock); each hole will be magically repaired in at least 5 turns after it was made if no monster is present on that square.</li>\n<li><a href=\"/wiki/Polymorph\" title=\"Polymorph\">Polymorph</a> into a <a href=\"/wiki/Xorn\" title=\"Xorn\">xorn</a> to <a href=\"/wiki/Phase\" class=\"mw-redirect\" title=\"Phase\">phase</a> through the wall.</li>\n<li>Be very fast (e.g. usually from wearing <a href=\"/wiki/Speed_boots\" title=\"Speed boots\">speed boots</a>) and beat the shopkeeper to the door. Note that the shopkeeper will move to stay ahead of a player's intrinsic speed - this does not account for speed from polyself.</li></ul>\n<p>These methods are less safe and/or may cost you some gold:\n</p>\n<ul><li>Carry 800zm or more, then polymorph into an <a href=\"/wiki/Umber_hulk\" title=\"Umber hulk\">umber hulk</a> or <a href=\"/wiki/Rock_mole\" title=\"Rock mole\">rock mole</a> and chew through the wall, and pay for the damage.</li>\n<li>Carry 800zm or more, then destroy the closed shop door, pay for the damage immediately, then enter/leave. The door will be fixed afterward.</li>\n<li>Teleport the shopkeeper - but this will anger them, and you will have to avoid the shopkeeper on the way out unless you can pacify them.</li>\n<li>Kill the shopkeeper, directly or otherwise - doing so directly counts as <a href=\"/wiki/Murder\" title=\"Murder\">murder</a>, and you are deprived of price identification for that shop in either case.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Shopping_smart_and_safe\">Shopping smart and safe</span></h3>\n<p>While each character's shopping needs will differ, price identification can generally narrow down what wares you may want to focus on, and even without thorough memorization a player can get an idea of which items are valuable.\n</p><p>There are other multipurpose pointers for a shopper to keep in mind - in general, <i>never</i> buy or sell gems that are unidentified.\n</p><p>In general, it is a <a href=\"/wiki/Bad_Idea\" title=\"Bad Idea\">Bad Idea</a> to randomly wear or use items within a shop, since even if your pet is not averse to moving over them, you may end up endangering yourself or complicating play as you would with any randomly use-tested item - you may end up quaffing a potion of paralysis, wearing a helm of opposite alignment, exploding a cursed wand, or end up reading a non-cursed scroll of fire with the shopkeeper nearby and/or unpaid flammables in your inventory.\n</p><p>One particular obstacle to this end is the <a href=\"/wiki/Scroll_of_scare_monster\" title=\"Scroll of scare monster\">scroll of scare monster</a> - a scroll that is cursed or has been picked up and dropped once turns to dust when picked up, which incurs a charge for the destroyed item. Novice adventurers who shop by picking up items can find themselves trapped in a store with no money and no way out. There is also the more direct threat to your life posed by mimics of any kind - even small mimics can end an unwary early character, and particularly unfortunate sorts may end up stuck to a giant mimic.\n</p><p>There are several ways to prevent any mishaps while shopping:\n</p>\n<ul><li>Be sure #chat to a shopkeeper before picking up certain items directly.</li>\n<li>Always carry a few hundred spare zorkmids to cover any accidental charges you incur. In a worst-case scenario where you cannot avoid incurring damages, you may need to sell some additional items in your inventory - depending on your situation, this may be preferable to being branded a thief or dying.</li>\n<li>Before entering a shop, quaff a non-cursed <a href=\"/wiki/Potion_of_object_detection\" title=\"Potion of object detection\">potion of object detection</a>. You may notice suspicious blank squares if you have not yet seen the contents of the shop - those are likely to be mimics.</li>\n<li>\"Obvious\" out-of-place objects are often mimics, especially in specialized shops (e.g., a long sword in a potion shop, or down staircase in any shop). However, this does not work as well for general stores (which sell almost anything) and <a href=\"/wiki/Bones\" title=\"Bones\">bones</a> files (which may have the inventory of the dead player - although you may encounter signs of this beforehand).</li>\n<li>If you are playing with default tiles or standard ASCII, you can also discern mimics by their glyphs - they will appear as \"strange objects\", and the tiles for strange objects are chests with eyes peering out of them (<a href=\"/wiki/File:Strange_object.png\" class=\"image\"><img alt=\"Strange object.png\" src=\"/images/4/4a/Strange_object.png\" width=\"16\" height=\"16\" /></a>/<span class=\"nhsym clr-darkgray\">]</span> versus <a href=\"/wiki/File:Chest.png\" class=\"image\"><img alt=\"Chest.png\" src=\"/images/b/b3/Chest.png\" width=\"16\" height=\"16\" /></a>/<span class=\"nhsym clr-brown\">(</span>). Additionally, their glyph is usually the mirror of the glyph for <a href=\"/wiki/Armor\" title=\"Armor\">armor</a> (<span class=\"nhsym clr-cyan\">[</span>) - the only time <span class=\"nhsym clr-white\">]</span> is used for anything else is for actual armor on the <a href=\"/wiki/Rogue_level\" title=\"Rogue level\">Rogue level</a>.</li>\n<li><a href=\"/wiki/Telepathy\" title=\"Telepathy\">Telepathy</a> and <a href=\"/wiki/Warning\" title=\"Warning\">warning</a> will reveal mimics and/or their locations.</li>\n<li>The <a href=\"/wiki/Ring_of_protection_from_shape_changers\" title=\"Ring of protection from shape changers\">ring of protection from shape changers</a> will force mimics into their standard form.</li>\n<li>Any form of <a href=\"/wiki/Monster_detection\" title=\"Monster detection\">monster detection</a> can reveal mimics - note that a non-blessed <a href=\"/wiki/Potion_of_monster_detection\" title=\"Potion of monster detection\">potion of monster detection</a> or a <a href=\"/wiki/Spellbook_of_detect_monsters\" title=\"Spellbook of detect monsters\">detect monsters</a> spell cast at lower than Skilled level only reveals their current location, while detection from a blessed potion or Skilled (or better) spell passively remains active.</li>\n<li>A safe and surefire way to uncloak mimics inside a shop is to throw a single gold piece across each row of the store - this does not use up valuable projectiles and will only establish credit. Be careful not to hit and possibly anger the shopkeeper!</li>\n<li><a href=\"/wiki/Search\" title=\"Search\">Search</a> before walking onto an item to uncover any mimics - this will prevent you bumping into them, as the larger ones are sticky.</li>\n<li>A <a href=\"/wiki/Stethoscope\" title=\"Stethoscope\">stethoscope</a> can also uncover mimics, and the first application of a stethoscope per turn is a free action.</li>\n<li>Healing a mimic disguised as an item (e.g. via a <a href=\"/wiki/Spell_of_healing\" class=\"mw-redirect\" title=\"Spell of healing\">spell of healing</a>) will indirectly expose it, with the \"object\" seeming a more vivid color than before.<sup id=\"cite_ref-16\" class=\"reference\"><a href=\"#cite_note-16\">&#91;16&#93;</a></sup></li>\n<li>If you lack any means of detection and are risk-averse, only walk where your pet or the shopkeeper has walked.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Combat\">Combat</span></h3>\n<p>A shop can also function as a refuge if you need to heal or fight a powerful enemy. You can pick up an item and stand so that the shopkeeper blocks the door, preventing non-phasing monsters from getting in. If you stand a knight's jump from the door, you will not be exposed to ranged attacks from outside as well. You can then move next to the door to fight, and step away to heal at your leisure.\n</p>\n<h3><span class=\"mw-headline\" id=\"Zen_shopping\">Zen shopping</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Zen\" title=\"Zen\">Zen</a></i></div></dd></dl>\n<p>For zen players, shops are one of the few methods available to identify item the appearances, particularly scrolls and potions. However, being unable to see the shopkeeper poses a great danger: paying only works if you can see the shopkeeper, and failing to discern the shopkeeper's location by searching before safe-moving via <span class=\"kbd\"><span class=\"kbdsym\"><a href=\"/wiki/M\" title=\"M\">m</a></span></span> will nearly always result in death. It may be advisable to avoid shops altogether until you have telepathy.\n</p><p>Braver and/or more experienced players can bring a container to place items in (ideally a <a href=\"/wiki/Bag\" title=\"Bag\">bag</a>) and a pet to steal the container back in order to speed up the process of re-acquiring sold items that the shopkeeper has identified. It is also possible to drop enough gold to cover your purchases and then teleport, jump or phase out after picking up your desired items, even without <a href=\"/wiki/Teleport_control\" title=\"Teleport control\">teleport control</a> - unfortunately, this is not nearly as reliable early in the game, and most zen players acquire telepathy before any of these other methods become available. Selling items works as normal, and might be useful if you get burdened before acquiring telepathy.\n</p>\n<h2><span class=\"mw-headline\" id=\"History\">History</span></h2>\n<p>Shops have been present in the game's code since the original release of <a href=\"/wiki/Jay_Fenlason%27s_Hack\" title=\"Jay Fenlason&#39;s Hack\">Jay Fenlason's Hack</a>, and make a proper first appearance in Hack 1.21, a variant of this first <i>Hack</i>. Hack 1.21 also included a shop at the beginning of the game, where characters purchased their starting items, rather than bringing their initial inventory with them into the dungeon.\n</p><p>Izchak and his lighting shop in Minetown were introduced in <a href=\"/wiki/NetHack_3.2.0\" title=\"NetHack 3.2.0\">NetHack 3.2.0</a> as part of a tribute to late DevTeam member <a href=\"/wiki/Izchak_Miller\" title=\"Izchak Miller\">Izchak Miller</a>.\n</p><p>In default installations of <a href=\"/wiki/NetHack_3.4.3\" title=\"NetHack 3.4.3\">NetHack 3.4.3</a> and earlier versions, along with some variants based on those versions, prices are not displayed by default, and you must pick up items or #chat while standing on them to learn their price. Additionally, modifiers for unidentified items applied to identified items as well, and the lower price for sold items was applied per-sale - by repeatedly dropping an item, refusing the shopkeeper's offer, and picking it up again, you would eventually get two different quotes. A bug was also present in those versions that could prevent you from leaving a 2x2 size shop through normal means; saving and reloading the game while standing next to the shopkeeper may alleviate this bug in a semi-sane and perfectly legal fashion.\n</p><p>The health food store was introduced in <a href=\"/wiki/NetHack_3.6.0\" title=\"NetHack 3.6.0\">NetHack 3.6.0</a>. Beginning in <a href=\"/wiki/3.6.1\" class=\"mw-redirect\" title=\"3.6.1\">3.6.1</a>, <a href=\"/wiki/Autopickup\" title=\"Autopickup\">autopickup</a> no longer picks up unpaid items - this prevents any mishaps involving a cursed scroll of scare monster.\n</p>\n<h2><span class=\"mw-headline\" id=\"Messages\">Messages</span></h2>\n<dl><dt><span id=\"You_hear_someone_cursing_shoplifters.You_hear_the_chime_of_a_cash_register.\">You hear someone cursing shoplifters.<br />You hear the chime of a cash register.</span></dt>\n<dd>There is a shop on the level.</dd>\n<dt><span id=\"You_hear_Neiman_and_Marcus_arguing.21\">You hear Neiman and Marcus arguing!</span></dt>\n<dd>As above, but you are hallucinating.</dd>\n<dt><span id=\"This_shop_appears_to_be_deserted.\">This shop appears to be deserted.</span></dt>\n<dd>There is no shopkeeper in the shop.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"Variants\">Variants</span></h2>\n<p>Some variants may feature entirely different types of shops, in addition to adding more locations and/or functions.\n</p>\n<div class=\"todo\">\n<p>A user has suggested improving this page or section as follows:\n</p><p><i>\"Cover the rest of the variants eventually.\"</i>\n</p>\n</div>\n<h3><span class=\"mw-headline\" id=\"NetHack_brass\">NetHack brass</span></h3>\n<p><a href=\"/wiki/NetHack_brass\" title=\"NetHack brass\">NetHack brass</a> adds stylish clothing stores, which sells cloth armor such as <a href=\"/wiki/Conical_hat\" title=\"Conical hat\">conical hats</a>, <a href=\"/wiki/Hawaiian_shirt\" title=\"Hawaiian shirt\">Hawaiian shirts</a> and <a href=\"/wiki/Nurse_cap\" title=\"Nurse cap\">nurse caps</a>.\n</p>\n<h3><span id=\"SLASH'EM\"></span><span class=\"mw-headline\" id=\"SLASH.27EM\">SLASH'EM</span></h3>\n<p><a href=\"/wiki/SLASH%27EM\" title=\"SLASH&#39;EM\">SLASH'EM</a> adds pet stores, randomly generated light stores, tin shops, and music shops, as well as the <a href=\"/wiki/Black_market_(SLASH%27EM)\" title=\"Black market (SLASH&#39;EM)\">black market</a>, a special floor-wide shop with its own branch tended to by <a href=\"/wiki/One-eyed_Sam_(SLASH%27EM)\" class=\"mw-redirect\" title=\"One-eyed Sam (SLASH&#39;EM)\">One-eyed Sam</a> and his assistants.\n</p><p>Shops can be also found in more locations - the <a href=\"/wiki/Mall\" title=\"Mall\">Mall</a> is a special level that contains several shops and can appear early in the dungeon.\n</p>\n<h3><span class=\"mw-headline\" id=\"UnNetHack\">UnNetHack</span></h3>\n<p><a href=\"/wiki/UnNetHack\" title=\"UnNetHack\">UnNetHack</a> also adds pet stores, randomly generated light stores, tin shops, and music shops. UnNetHack also contains its own version of <a href=\"/wiki/Black_market_(UnNetHack)\" title=\"Black market (UnNetHack)\">the black market</a>, with the same layout as SLASH'EM - UnNetHack's <a href=\"/wiki/One-eyed_Sam_(UnNetHack)\" class=\"mw-redirect\" title=\"One-eyed Sam (UnNetHack)\">One-eyed Sam</a> is a woman, and there is a second map that splits the market into several independent shops with their own shopkeepers, where One-eyed Sam herself keeps watch.\n</p><p>The <a href=\"/wiki/Town\" title=\"Town\">Town</a> branch is a new addition that contains a few shops, including most of the newer ones.\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap mw-references-columns\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-1\">↑</a></span> <span class=\"reference-text\"><a href=\"/wiki/Source:NetHack_3.4.3/shk.c#line3033\" class=\"mw-redirect\" title=\"Source:NetHack 3.4.3/shk.c\">shk.c<span></span> in NetHack 3.4.3, line 3033</a>\n     </span>\n</li>\n<li id=\"cite_note-2\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-2\">↑</a></span> <span class=\"reference-text\"><a href=\"/wiki/Source:NetHack_3.4.3/shk.c#line3043\" class=\"mw-redirect\" title=\"Source:NetHack 3.4.3/shk.c\">shk.c<span></span> in NetHack 3.4.3, line 3043</a>\n     </span>\n</li>\n<li id=\"cite_note-3\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-3\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1553\">src/shk.c in NetHack 3.6.7, line 1553</a>\n     </span>\n</li>\n<li id=\"cite_note-4\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-4\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1407\">src/shk.c in NetHack 3.6.7, line 1407</a>\n     </span>\n</li>\n<li id=\"cite_note-5\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-5\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1420\">src/shk.c in NetHack 3.6.7, line 1420</a>\n     </span>\n</li>\n<li id=\"cite_note-6\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-6\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L1324\">src/shk.c in NetHack 3.6.7, line 1324</a>\n     </span>\n</li>\n<li id=\"cite_note-7\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-7\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L4261\">src/shk.c in NetHack 3.6.7, line 4261</a>\n     </span>\n</li>\n<li id=\"cite_note-8\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-8\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L4269\">src/shk.c in NetHack 3.6.7, line 4269</a>\n     </span>\n</li>\n<li id=\"cite_note-9\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-9\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L4580\">src/shk.c in NetHack 3.6.7, line 4580</a>\n     </span>\n</li>\n<li id=\"cite_note-10\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-10\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L2134\">src/shk.c in NetHack 3.6.7, line 2134</a>\n     </span>\n</li>\n<li id=\"cite_note-11\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-11\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L2128\">src/shk.c in NetHack 3.6.7, line 2128</a>\n     </span>\n</li>\n<li id=\"cite_note-12\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-12\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L21g4\">src/shk.c in NetHack 3.6.7, line 21g4</a>\n     </span>\n</li>\n<li id=\"cite_note-13\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-13\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L3402\">src/shk.c in NetHack 3.6.7, line 3402</a>\n     </span>\n</li>\n<li id=\"cite_note-14\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-14\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L2159\">src/shk.c in NetHack 3.6.7, line 2159</a>\n     </span>\n</li>\n<li id=\"cite_note-15\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-15\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/shk.c#L3396\">src/shk.c in NetHack 3.6.7, line 3396</a>\n     </span>\n</li>\n<li id=\"cite_note-16\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-16\">↑</a></span> <span class=\"reference-text\"><a href=\"/wiki/Source:Mon.c#mimic_hit_msg\" class=\"mw-redirect\" title=\"Source:Mon.c\">mimic_hit_msg</a> in <a href=\"/wiki/Source:Mon.c\" class=\"mw-redirect\" title=\"Source:Mon.c\">mon.c</a><span>:</span> <i>mimics give strange messages if healed while disguised</i></span>\n</li>\n</ol></div>\n<div class=\"license_dod\">\n<p><i>This page is based on a spoiler by <a class=\"external text\" href=\"https://alt.org/nethack/mirror/www.spod-central.org/%257Epsmith/\">Dylan O'Donnell</a>. The original license is:</i>\n</p><p>Redistribution, copying, and editing of these spoilers, with or without modification, are permitted provided that the following conditions are met:\n</p>\n<ol><li>The original contributors to any spoiler must continue to be credited.</li>\n<li>Any modifications to the spoiler must be acknowledged and credited.</li></ol>\n</div>\n<div style=\"display:none; right:10px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\"><img alt=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\" src=\"/images/f/f7/Nh367-icon.png\" width=\"32\" height=\"32\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240925183801\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.102 seconds\nReal time usage: 0.135 seconds\nPreprocessor visited node count: 2208/1000000\nPreprocessor generated node count: 5343/1000000\nPost‐expand include size: 13533/2097152 bytes\nTemplate argument size: 2935/2097152 bytes\nHighest expansion depth: 9/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 5820/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%   77.009      1 -total\n 31.70%   24.415     15 Template:Refsrc\n 13.64%   10.504     15 Template:Refsrc/link\n  8.25%    6.355      1 Template:Monsym\n  7.99%    6.155      5 Template:Kbd\n  7.56%    5.818      7 Template:Main\n  6.90%    5.313      2 Template:Spell_of\n  5.91%    4.550      1 Template:Nethack-367\n  4.75%    3.657      1 Template:Monsym/strange_object\n  4.60%    3.542      5 Template:Kbdsym\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:2722-0!canonical and timestamp 20240925183801 and revision id 168240\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Shop&amp;oldid=168240\">https://nethackwiki.com/index.php?title=Shop&amp;oldid=168240</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Categories</a>: <ul><li><a href=\"/wiki/Category:Pages_with_unversioned_Refsrc_templates\" title=\"Category:Pages with unversioned Refsrc templates\">Pages with unversioned Refsrc templates</a></li><li><a href=\"/wiki/Category:Upcoming\" title=\"Category:Upcoming\">Upcoming</a></li><li><a href=\"/wiki/Category:Pages_with_unversioned_Reffunc_templates\" title=\"Category:Pages with unversioned Reffunc templates\">Pages with unversioned Reffunc templates</a></li><li><a href=\"/wiki/Category:Todo\" title=\"Category:Todo\">Todo</a></li><li><a href=\"/wiki/Category:Nethack-367_articles\" title=\"Category:Nethack-367 articles\">Nethack-367 articles</a></li><li><a href=\"/wiki/Category:Special_rooms\" title=\"Category:Special rooms\">Special rooms</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Shop\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Shop\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Shop\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Shop\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Shop\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Shop&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Shop&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Shop\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Shop\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Shop&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Shop&amp;oldid=168240\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Shop&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 22 May 2024, at 13:06.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.102\",\"walltime\":\"0.135\",\"ppvisitednodes\":{\"value\":2208,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":5343,\"limit\":1000000},\"postexpandincludesize\":{\"value\":13533,\"limit\":2097152},\"templateargumentsize\":{\"value\":2935,\"limit\":2097152},\"expansiondepth\":{\"value\":9,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":5820,\"limit\":5000000},\"timingprofile\":[\"100.00%   77.009      1 -total\",\" 31.70%   24.415     15 Template:Refsrc\",\" 13.64%   10.504     15 Template:Refsrc/link\",\"  8.25%    6.355      1 Template:Monsym\",\"  7.99%    6.155      5 Template:Kbd\",\"  7.56%    5.818      7 Template:Main\",\"  6.90%    5.313      2 Template:Spell_of\",\"  5.91%    4.550      1 Template:Nethack-367\",\"  4.75%    3.657      1 Template:Monsym/strange_object\",\"  4.60%    3.542      5 Template:Kbdsym\"]},\"cachereport\":{\"timestamp\":\"20240925183801\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":37});});</script>\n\t</body>\n</html>\n","rawPage":"A '''shop''' is a [[special room]] that appears in ''[[NetHack]]'', and may occur on some levels of the dungeon. Each has an attendant [[shopkeeper]] and a selection of [[item]]s to buy - the shopkeepers will also buy items from [[you]], and both types of items depend on the type of shop. A shop with no shopkeeper is considered abandoned.\n\n==Generation==\nShops have a base 3/[[Dungeon level|DL]] chance of being created on any dungeon level between level 2 and [[Medusa's Island]], with the exception of the [[Oracle (level)|Oracle level]]. The creation of a shop assumes there is a suitable room to put them in (i.e., no [[stair]]s, only one [[door]]) and that there are enough rooms on the level to start with - the minimum number of rooms required is 3 for normal dungeon levels, and 4 for a branch level. Note that this means that there will always be a shop on each of levels 2 and 3 if the conditions are right (which in practice turns out to only be the case about 45% of the time). \n\nWith the exception of bones and [[Orcus-town]], shops are never generated abandoned, and are never restocked under any circumstances - the only way they can gain more items is if they are brought in by you, a dead player from a [[bones]] file, or very rarely another [[monster]].\n\n===Table of shops===\nThe probability of a given type of shop being generated is detailed in this table:\n{|class=\"wikitable\"\n!Shop\n!Probability\n!Stock\n|-\n|general\n|42%\n|100% random\n|-\n|used armor dealership\n|14%\n|90% [[armor]], 10% [[weapon]]s\n|-\n|second-hand bookstore\n|10%\n|90% [[scroll]]s, 10% [[spellbook]]s\n|-\n|liquor emporium\n|10%\n|100% [[potion]]s\n|-\n|antique weapons outlet\n|5%\n|90% weapons, 10% armor\n|-\n|delicatessen\n|5%\n|83% [[food]], 5% [[fruit juice]], 5% [[water]], 4% [[booze]], 3% [[ice box]]es (containing corpses)\n|-\n|jewelers\n|3%\n|85% [[ring]]s, 10% [[gem]]s, 5% [[amulet]]s\n|-\n|quality apparel and accessories\n|3%\n|90% [[wand]]s, 5% [[leather gloves]], 5% [[elven cloak]]s\n|-\n|hardware\n|3%\n|100% [[tool]]s ([[container]]s may contain random items that are also for sale)\n|-\n|rare books\n|3%\n|90% spellbooks, 10% scrolls\n|-\n|health food\n|2%\n|70% [[vegetarian]] food, 20% [[fruit juice]], 4% [[potion of healing|healing]], 3% [[full healing]], 2% scrolls of [[food detection]], 1% [[royal jelly]]\n|-\n|lighting\n|Minetown only\n|48% [[tallow candle]]s, 30% [[wax candle]]s, 9% [[oil lamp]]s, 5% [[brass lantern]]s, 5% [[potion of oil|potions of oil]], 3% [[magic lamp]]s\n|}\n\nAccessories and rare book shops may not be larger than 20 squares (including the non-stocked squares); if they would otherwise be (about half the time), they are converted into general stores instead.\n\n===Special levels with shops===\nThe following special levels are guaranteed to have shops at fixed locations:\n\n* [[Minetown]] (except for [[Orcish Town]]) is guaranteed to have at least 1 shop, including [[Izchak]]'s lighting store. In addition, the first shop generated in Minetown will always be a health food store when the player is a [[Monk]].\n* The [[Tourist Quest]] has several guaranteed general stores: two in the locate level (The Thieves Guild Hall) and two in the goal level (The Shades).\n* [[Orcus-town]] is usually host to a few abandoned shops.\n\n===Closed shops===\nShops can also be generated \"closed\", in which case the message \"Closed for inventory\" will be written in dust outside of the shop door. The shop door itself will be locked. Breaking down the door will anger the owner unless you immediately pay 400 zorkmids; opening the door with an [[unlocking tool]], [[wand of opening]] or {{spell of|knock}} spell allows you to enter and shop as usual. Shops in special levels cannot ever generate closed.\n\n===Mimics===\n{{main|Mimic}}\nAny [[mimic]]s you encounter are most likely to appear in shops, disguised as items. There is a (dungeon level - 1)% chance of a mimic generating on a given shop square instead of an item.\n\n===Traps===\n[[Trap]]s cannot normally be generated in shops, with the exceptions of shops placed on special levels. In practice, this will most likely occur in the Tourist quest and Orcus-town - while the various layouts of Minetown contain two traps each, they are very rarely placed within any of the shops.\n\n==The shopkeeper==\n{{main|Shopkeeper}}\nThe shopkeeper is a [[human]] monster that owns the shop and its contents and buys and sells items within. They are responsible for the upkeep of the shop as well - this includes magically repairing most damage done to the shop's floors, walls and door, and removing most traps that are set within their shop(with the exception of [[pit]]s or [[web]]s), including those made by you. Damaged walls, broken doors and [[hole]]s are repaired in five turns.{{refsrc|shk.c|3033}}{{refsrc|shk.c|3043}} If the shopkeeper should end up dead for any reason, or else a shop has no shopkeeper, then the shop's items are free for you or any monster to take.\n\n{{upcoming|NetHack 3.7.0|Shopkeepers will now remove pits and webs as well.}}\n\n===Theft prevention===\n{{main|Stealing from shops}}\nShopkeepers are 50% faster than a normal character's base [[speed]], and will keep close to their shop's entrance - this makes it difficult, but not impossible, to walk out with unpaid items. See the article linked at the top of this section for more information on how to steal from shops, and see the article on shopkeepers for more details about their movement.<!-- Please do not expand this section, go to [[Stealing from shops]] instead.-->\n\n===Barring the entrance===\nIn addition, shopkeepers will block the entrance square (the square inside the shop that is directly in front of the door) and will not allow you to enter their shop if you are [[invisible]], have a visible [[pick-axe]] or [[dwarvish mattock]], and/or are currently [[riding]] on a steed. If you dismount, become visible, or remove the digging tool(s) from your open [[inventory]] (including placing it in a [[container]]), you will be allowed entry. Note that the door of the shop is not considered suitable for dropping your digging tools - this is to prevent characters with extra speed from entering on a free turn. Shopkeepers will also catch any tools you attempt to throw in.\n\nWhile in a shop, the shopkeeper will prevent you from leaving if you are mounted and/or invisible.\n\n===Pick-axes===\nOn top of the above, the shopkeeper will yell at you if you pull out a digging tool(s) from a container while inside - but this does not anger them, and you can safely sell or otherwise walk around with the tool(s) as long as you do not dig through the shop walls. Digging a pit will have them warn you about falling through [[hole]]s, though this will also not anger the shopkeeper - but if you dig again and create a hole, items on the same square and possibly adjacent squares will fall through.\n\nAttempting to enter a shop with a dwarvish mattock or pulling one out inside a shop will also identify it.\n\n===Angering the shopkeeper===\nThe shopkeeper will become angry if you attack them, damage the shop or its inventory, or they see you leave with unpaid items or debt - additionally, if you try to leave the shop with unpaid items via a hole made within the shop's boundaries, the shopkeeper will try to [[Stealing from shops#Shopkeeper prevention|grab your pack]] as you fall if they can get adjacent. Theft includes any items on the same square as a hole falling through it, as well as items from potentially adjacent squares. Damaging the shop door or walls will immediately prompt you to pay 400zm for a door and 200zm for each wall segment destroyed, and the shopkeeper will be angry if you do not pay.  Damaging the shop from out of the shopkeeper's line of sight (e.g. with a [[wand of digging]]) will always anger them, with no chance to pay.  Note that the damages the shopkeeper asks for are not ordinary shop debt: refusing to pay will not make them \"remember\" how much you owe them, and escaping without paying the recompense will not summon Keystone Kops.\n\nLeaving a shop with unpaid items will anger the shopkeeper; the items then become yours, their value (including a price hike if the shopkeeper was already angry) is added to your debt, and Kops are summoned.  It is then possible to pacify the shopkeeper by paying at least half of your debt{{refsrc|src/shk.c|1553|version=NetHack 3.6.7}}.  Unless you are currently in the shop, you will need to be adjacent to the shopkeeper or throw the required gold at them.  If you anger a shopkeeper without incurring a debt - e.g. by attacking them directly or damaging their walls or door - you can pay them 1000zm for a {{frac|2|3}} chance of pacifying them.{{refsrc|src/shk.c|1407|version=NetHack 3.6.7}}{{refsrc|src/shk.c|1420|version=NetHack 3.6.7}}.  Stealing an item while the shopkeeper is already angry due to such an offense and then paying your debt will make the shopkeeper \"forget\" about your previous offenses: they will become calm and return to their shop as usual, without taking 1000zm. Pacifying a shopkeeper by paying for stolen goods will also pacify any watchmen on that floor and cause any Keystone Kops present to disappear.\n\nNote that \"ordinary\" shop transactions are handled before any attempt to pacify the shopkeeper: if you are in a shop with an angry shopkeeper while holding an unpaid item or owing them for a destroyed item, trying to pay them will first prompt you to buy that item, using up a turn.  For a low-level character facing an angry shopkeeper, that one-turn delay can be fatal, even if they otherwise have enough gold.\n\n====Hot pursuit====\nUnlike other monsters, shopkeepers actually have two distinct \"angry\" states: they can be rendered hostile like any other monster, but they can also be put into a state referred to internally as \"hot pursuit\", which is tracked separately from standard hostility.{{refsrc|src/shk.c|1324|version=NetHack 3.6.7}} A shopkeeper who is merely angry will attack you if you are inside their shop, but will not leave the shop to pursue you, though they will still use any ranged attacks and block you from re-entering their shop. A shopkeeper in \"hot pursuit\" will chase you across the level; if they lose sight of you, they will wander like any other monster, rather than returning to their shop.\n\nShopkeepers who are robbed are angered ''and'' put into hot pursuit, as are those whose shop walls are damaged and those who are attacked from outside their shop. The most common way of angering a shopkeeper without causing them to pursue you is to attack them from ''inside'' their shop, and then escape without stealing anything; other more obscure methods include applying a [[drum of earthquake]]. It is possible for a shopkeeper to be in hot pursuit ''without'' being angry: this requires you to pacify an angry shopkeeper in \"hot pursuit\" with a [[magic harp]] specifically (since other methods of pacification remove the hot pursuit status).{{refsrc|src/shk.c|4261|version=NetHack 3.6.7}} In this state, the shopkeeper will follow you and periodically ask you to pay, with a {{frac|10}} chance of becoming angry again each time they ask.{{refsrc|src/shk.c|4269|version=NetHack 3.6.7}} If the shopkeeper was pursuing you because you attacked them or damaged their shop, it is impossible to pay them due to a lack of debt, and they will eventually become angry again if you stay near them.\n\n==Transactions and inventory==\nA shop's inventory consists of all the items on any square of its floor, with the notable exception of the \"entrance square\" in front of the door; this is not to be confused with the shopkeeper's personal [[inventory]]. Items belonging to the shop will have their price displayed as you move over them, and an item's price can be also viewed by [[near look]]ing on their square. For containers generated as belonging to a shop, the contents are also that shop's property, regardless of whether that shop would sell them normally. You cannot buy from shops normally while [[blind]] unless you have [[telepathy]], as you will be unable to see the shopkeeper, although you can still sell items as normal.\n\nPressing {{kbd|$}} will display any [[#Credit|credit]] you have, along with any debts you currently owe the shopkeeper. You can #[[chat]] to get the price of an item(s) on your square without picking anything up. Buying and selling non-magical [[weapon]]s and [[armor]] will have the shopkeeper partially identify that item(s) to you - e.g., if you sell a crude dagger, the shopkeeper will reveal that it was an [[orcish dagger]]. After each transaction, they will also tell you the item's appearance if you are blind.\n\n===Buying items===\nPicking up items off the shop floor adds them to your inventory, with each item(s) being given an \"unpaid\" tag that lists their price - pressing {{kbd|I}} and then {{kbd|u}} will display all the unpaid items you are currently carrying.\n\nYou can pay for your goods by pressing {{kbd|p}}, which will prompt you about itemized billing; answering \"no\" to this will pay for all the items at once if possible. For itemized billing, you can pay individually for each unpaid object (or stack of objects). Items that you pay for are yours, and the required gold will transfer to the shopkeeper's personal inventory. In both cases, if you have credit at that shop, it will be used up first before any gold is transferred.\n\n===Selling===\nIf you [[drop]] an item onto the shop floor (with the exception of the entrance square), the shopkeeper will offer to buy it if they normally carry that type of wares. If you refuse, or if the shopkeeper makes no offer, then you continue to own the item and can pick it up again without paying.\n\nAny items that unintentionally fall onto the shop floor, e.g. from [[throw]]ing them or [[Slippery fingers|losing your grip on them]] will be considered \"relinquished\" and automatically sold if it is a type normally sold by the shop. Any items dropped by monsters killed within a shop also becomes that shop's property - this includes you, if you die while inside a shop.\n\n===Credit===\n{{Main|Credit cloning}}\nIf you drop any [[gold]] onto the shop floor, the shopkeeper will give you credit which you can use to buy items and pay off debts. If you sell an item to a shopkeeper that is completely out of gold, they will instead offer you store credit in exchange for the item at 90% of the normal price. Any credit given in a shop is only good for that specific shop - if you leave a shop with unpaid items in your inventory (e.g., your intrinsic [[teleportitis]] suddenly kicks in), ''all'' of your credit will be used to cover the losses, and if your credit was not enough, the shopkeeper will become angry.\n\nYou can abuse this credit system through credit cloning - see the linked article at the top of this section for more detailed information.\n\n===Usage fees===\n{{main|Usage fee}}\nIf you use an unpaid item with charges in a shop before paying for it and the shopkeeper is present, you will be charged a [[usage fee]].{{refsrc|src/shk.c|4580|version=NetHack 3.6.7}} Broken or destroyed items, including the locks of [[chest]]s and [[large box]]es, also incur fees.\n\n==Pricing==\n{{Main|Price identification}}\n\n===Base price===\nEach item in ''NetHack'' has a base price, which is modified in various ways to produce the final selling price; an [[artifact]] has its own usually-high base price distinct from its [[base item]]. Positively-enchanted weapons and armor have an additional 10 zm added to their base price for every point of enchantment.\n\nSome items are considered \"worthless\"; you cannot sell them, but their buying price is calculated as though they had a base price of 5 zm:\n\n* items with zero base price\n* [[cancelled]] [[wand]]s (with -1 charges)\n* partly-eaten [[comestible]]s\n* uncursed [[potions of water]]\n\n====Unidentified gems====\nValuable [[gem]]s and worthless glass which aren't formally identified have their base prices determined by a different mechanism:\n\n* When buying, the base price is that of an arbitrary valuable gem.\n* When selling, the base price is between 3 and 8 zm.\n\nThe random modifiers to unidentified item prices listed below don't apply in this case. Even if you know for a fact that a gem is valuable (by e.g. [[engrave]]-testing) and have named it correctly, you can't get its full selling price unless you formally identify it.\n\n[[Gray stone]]s don't use this mechanism; an unidentified gray stone is priced the same as an identified one.\n\n===Buying===\nWhen you buy an item, you are charged the base price, modified as follows. All multipliers are applied in sequence:\n\n* Your [[charisma]] grants a modifier to the buying price.{{refsrc|src/shk.c|2134|version=NetHack 3.6.7}}\n* Some characters are considered \"suckers\", and will be charged {{frac|3}} more. You are a sucker if:{{refsrc|src/shk.c|2128|version=NetHack 3.6.7}}\n** You are wearing a [[dunce cap]]\n** You are wearing a [[T-shirt]] or [[Hawaiian shirt]] uncovered by a [[cloak]] or [[body armor]]\n** You are a [[Tourist]] below [[experience level]] 15\n* A hostile shopkeeper will charge {{frac|3}} more.{{refsrc|src/shk.c|21g4|version=NetHack 3.6.7}}\n* When buying unidentified objects, in {{frac|4}} of cases the shopkeeper will charge {{frac|3}} more. This surcharge is tied to the individual item or stack; merged stacks will inherit the higher of the two prices, while split stacks will inherit the price of the original stack.\n* Depending on your [[nutrition|hunger status]], shopkeepers will charge more for food and comestibles:{{refsrc|src/shk.c|3402|version=NetHack 3.6.7}}\n** If you are hungry, the price is doubled.\n** If you are weak from hunger, the price is tripled.\n** If you are fainting from hunger, the price is quadrupled.\n* Artifacts are bought for four times their already-inflated base cost.{{refsrc|src/shk.c|2159|version=NetHack 3.6.7}}\n\n===Selling===\nWhen you sell an item, you are normally offered {{frac|2}} the base price; charisma modifiers do not apply. If you're a sucker, as above, you are offered {{frac|3}} the base price instead.\n\n* {{frac|4}} of shopkeepers will pay {{frac|4}} less for unidentified objects; this modifier is consistent for a given shopkeeper.\n* Artifacts are sold for {{frac|4}} of their base cost.{{refsrc|src/shk.c|3396|version=NetHack 3.6.7}}\n* If the shopkeeper has gold, but not enough to pay the sale price, they will offer as much gold as they have, with the message \"<shopkeeper> offers ''only'' <amount> for your <item>\".\n* If the shopkeeper has no gold at all, they will offer store credit equal to 90% of the sale price, as above.\n\n==Strategy==\n{{For|shopkeeper-specific strategy|Shopkeeper#Strategy}}\nShops are a very useful resource overall, particularly in the early and mid-game - they are usually a primary source of items and equipment, and additionally provide a means of identifying them via prices, as mentioned above. They can also serve as a place to offload anything you consider [[junk]], and can serve various other purposes besides.\n\nIt may sometimes be worthwhile to drop your gold and use credit to buy things, rather than paying directly - even if you do not plan on shoplifting, you may benefit from tricking a monster into bringing the gold back to you. Covertly stealing expensive items (usually including artifacts) may also be worthwhile for the early advantage they provide, e.g. a powerful weapon, or something to sell back to the shopkeeper for a significant price.\n\n===Shopping while invisible===\nIf you are invisible and either do not want to wait until you are visible again, or your invisibility cannot be undone (either due to a cursed source or a [[quaff]]ed blessed potion), then you can use one of the following methods to safely enter or exit a shop as normal:\n\n* Wearing a non-cursed [[mummy wrapping]] is the safest and most typical method, as it works in a mass majority of cases with the exception of a cursed [[cloak of invisibility|cloak]].\n* [[Teleport]]ing into and out of the shop is possible, but requires [[teleport control]] for you to enter reliably.\n* [[Jump]] diagonally through the door.\n* Hurtle diagonally through the door by throwing things while [[levitation|levitating]] due to Newton’s Third Law.\n* [[Dig]] down on the level above - but this leaves you completely at the mercy of [[RNG]].\n** You can also dig a hole out of the shop through the floor - this is safe as long as no unpaid items fall through with you.\n* You can forego entering entirely and instead use a [[pet]] and a [[magic whistle]] to steal from the shop.\n* Use any holes in the wall dug by a [[tunneling monster]] (e.g., a [[Dwarf (monster)|dwarf]] with a pick-axe or mattock); each hole will be magically repaired in at least 5 turns after it was made if no monster is present on that square.\n* [[Polymorph]] into a [[xorn]] to [[phase]] through the wall.\n* Be very fast (e.g. usually from wearing [[speed boots]]) and beat the shopkeeper to the door. Note that the shopkeeper will move to stay ahead of a player's intrinsic speed - this does not account for speed from polyself.\n\nThese methods are less safe and/or may cost you some gold:\n\n* Carry 800zm or more, then polymorph into an [[umber hulk]] or [[rock mole]] and chew through the wall, and pay for the damage.\n* Carry 800zm or more, then destroy the closed shop door, pay for the damage immediately, then enter/leave. The door will be fixed afterward.\n* Teleport the shopkeeper - but this will anger them, and you will have to avoid the shopkeeper on the way out unless you can pacify them.\n* Kill the shopkeeper, directly or otherwise - doing so directly counts as [[murder]], and you are deprived of price identification for that shop in either case.\n\n===Shopping smart and safe===\nWhile each character's shopping needs will differ, price identification can generally narrow down what wares you may want to focus on, and even without thorough memorization a player can get an idea of which items are valuable.\n\nThere are other multipurpose pointers for a shopper to keep in mind - in general, ''never'' buy or sell gems that are unidentified.\n\nIn general, it is a [[Bad Idea]] to randomly wear or use items within a shop, since even if your pet is not averse to moving over them, you may end up endangering yourself or complicating play as you would with any randomly use-tested item - you may end up quaffing a potion of paralysis, wearing a helm of opposite alignment, exploding a cursed wand, or end up reading a non-cursed scroll of fire with the shopkeeper nearby and/or unpaid flammables in your inventory.\n\nOne particular obstacle to this end is the [[scroll of scare monster]] - a scroll that is cursed or has been picked up and dropped once turns to dust when picked up, which incurs a charge for the destroyed item. Novice adventurers who shop by picking up items can find themselves trapped in a store with no money and no way out. There is also the more direct threat to your life posed by mimics of any kind - even small mimics can end an unwary early character, and particularly unfortunate sorts may end up stuck to a giant mimic.\n\nThere are several ways to prevent any mishaps while shopping:\n\n* Be sure #chat to a shopkeeper before picking up certain items directly. \n* Always carry a few hundred spare zorkmids to cover any accidental charges you incur. In a worst-case scenario where you cannot avoid incurring damages, you may need to sell some additional items in your inventory - depending on your situation, this may be preferable to being branded a thief or dying.\n* Before entering a shop, quaff a non-cursed [[potion of object detection]]. You may notice suspicious blank squares if you have not yet seen the contents of the shop - those are likely to be mimics.\n* \"Obvious\" out-of-place objects are often mimics, especially in specialized shops (e.g., a long sword in a potion shop, or down staircase in any shop). However, this does not work as well for general stores (which sell almost anything) and [[bones]] files (which may have the inventory of the dead player - although you may encounter signs of this beforehand).\n* If you are playing with default tiles or standard ASCII, you can also discern mimics by their glyphs - they will appear as \"strange objects\", and the tiles for strange objects are chests with eyes peering out of them ([[image:strange object.png]]/{{monsym|strange object}} versus [[image:chest.png]]/{{brown|(}}). Additionally, their glyph is usually the mirror of the glyph for [[armor]] ({{cyan|[}}) - the only time {{white|]}} is used for anything else is for actual armor on the [[Rogue level]].\n* [[Telepathy]] and [[warning]] will reveal mimics and/or their locations.\n* The [[ring of protection from shape changers]] will force mimics into their standard form.\n* Any form of [[monster detection]] can reveal mimics - note that a non-blessed [[potion of monster detection]] or a {{spell of|detect monsters}} spell cast at lower than Skilled level only reveals their current location, while detection from a blessed potion or Skilled (or better) spell passively remains active.\n* A safe and surefire way to uncloak mimics inside a shop is to throw a single gold piece across each row of the store - this does not use up valuable projectiles and will only establish credit. Be careful not to hit and possibly anger the shopkeeper!\n* [[Search]] before walking onto an item to uncover any mimics - this will prevent you bumping into them, as the larger ones are sticky.\n* A [[stethoscope]] can also uncover mimics, and the first application of a stethoscope per turn is a free action.\n* Healing a mimic disguised as an item (e.g. via a [[spell of healing]]) will indirectly expose it, with the \"object\" seeming a more vivid color than before.{{reffunc|mon.c|mimic_hit_msg|comment=mimics give strange messages if healed while disguised}}\n* If you lack any means of detection and are risk-averse, only walk where your pet or the shopkeeper has walked.\n\n===Combat===\nA shop can also function as a refuge if you need to heal or fight a powerful enemy. You can pick up an item and stand so that the shopkeeper blocks the door, preventing non-phasing monsters from getting in. If you stand a knight's jump from the door, you will not be exposed to ranged attacks from outside as well. You can then move next to the door to fight, and step away to heal at your leisure.\n\n===Zen shopping===\n{{main|Zen}}\nFor zen players, shops are one of the few methods available to identify item the appearances, particularly scrolls and potions. However, being unable to see the shopkeeper poses a great danger: paying only works if you can see the shopkeeper, and failing to discern the shopkeeper's location by searching before safe-moving via {{kbd|m}} will nearly always result in death. It may be advisable to avoid shops altogether until you have telepathy.\n\nBraver and/or more experienced players can bring a container to place items in (ideally a [[bag]]) and a pet to steal the container back in order to speed up the process of re-acquiring sold items that the shopkeeper has identified. It is also possible to drop enough gold to cover your purchases and then teleport, jump or phase out after picking up your desired items, even without [[teleport control]] - unfortunately, this is not nearly as reliable early in the game, and most zen players acquire telepathy before any of these other methods become available. Selling items works as normal, and might be useful if you get burdened before acquiring telepathy.\n\n==History==\nShops have been present in the game's code since the original release of [[Jay Fenlason's Hack]], and make a proper first appearance in Hack 1.21, a variant of this first ''Hack''. Hack 1.21 also included a shop at the beginning of the game, where characters purchased their starting items, rather than bringing their initial inventory with them into the dungeon.\n\nIzchak and his lighting shop in Minetown were introduced in [[NetHack 3.2.0]] as part of a tribute to late DevTeam member [[Izchak Miller]].\n\nIn default installations of [[NetHack 3.4.3]] and earlier versions, along with some variants based on those versions, prices are not displayed by default, and you must pick up items or #chat while standing on them to learn their price. Additionally, modifiers for unidentified items applied to identified items as well, and the lower price for sold items was applied per-sale - by repeatedly dropping an item, refusing the shopkeeper's offer, and picking it up again, you would eventually get two different quotes. A bug was also present in those versions that could prevent you from leaving a 2x2 size shop through normal means; saving and reloading the game while standing next to the shopkeeper may alleviate this bug in a semi-sane and perfectly legal fashion.\n\nThe health food store was introduced in [[NetHack 3.6.0]]. Beginning in [[3.6.1]], [[autopickup]] no longer picks up unpaid items - this prevents any mishaps involving a cursed scroll of scare monster.\n\n==Messages==\n{{message|You hear someone cursing shoplifters.<br>You hear the chime of a cash register.|There is a shop on the level.}}\n{{message|You hear Neiman and Marcus arguing!|As above, but you are hallucinating.}}\n{{message|This shop appears to be deserted.|There is no shopkeeper in the shop.}}\n\n==Variants==\nSome variants may feature entirely different types of shops, in addition to adding more locations and/or functions.\n{{todo|Cover the rest of the variants eventually.}}\n\n===NetHack brass===\n[[NetHack brass]] adds stylish clothing stores, which sells cloth armor such as [[conical hat]]s, [[Hawaiian shirt]]s and [[nurse cap]]s.\n\n===SLASH'EM===\n[[SLASH'EM]] adds pet stores, randomly generated light stores, tin shops, and music shops, as well as the [[Black market (SLASH'EM)|black market]], a special floor-wide shop with its own branch tended to by [[One-eyed Sam (SLASH'EM)|One-eyed Sam]] and his assistants.\n\nShops can be also found in more locations - the [[Mall]] is a special level that contains several shops and can appear early in the dungeon.\n\n===UnNetHack===\n[[UnNetHack]] also adds pet stores, randomly generated light stores, tin shops, and music shops. UnNetHack also contains its own version of [[Black market (UnNetHack)|the black market]], with the same layout as SLASH'EM - UnNetHack's [[One-eyed Sam (UnNetHack)|One-eyed Sam]] is a woman, and there is a second map that splits the market into several independent shops with their own shopkeepers, where One-eyed Sam herself keeps watch.\n\nThe [[Town]] branch is a new addition that contains a few shops, including most of the newer ones.\n\n==References==\n<references/>\n{{DOD}}\n{{nethack-367}}\n[[Category:Special rooms]]"}