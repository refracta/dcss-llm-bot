{"title":"Sokoban","url":"https://nethackwiki.com/wiki/Sokoban","type":"markdown","data":"| Sokoban levels                                      |                          |\n| --------------------------------------------------- | ------------------------ |\n| Location                                            | Level 2–9 of [Sokoban]() |\n| [Bones](/wiki/Bones \"Bones\")                        | No                       |\n| [Mappable](/wiki/Magic_mapping \"Magic mapping\")     | Yes                      |\n| [Teleportable](/wiki/Teleportation \"Teleportation\") | No                       |\n| [Diggable floor](/wiki/Digging \"Digging\")           | all but bottom level     |\n| [Diggable walls](/wiki/Digging \"Digging\")           | No                       |\n\n**Sokoban** (\"warehouse keeper\" in Japanese) is a [branch](/wiki/Branch \"Branch\") of the dungeon in *[NetHack](/wiki/NetHack \"NetHack\")* that is modeled on and named after a game where a character is navigated through a series of levels. The object is to move objects to cover goal squares.\n\nIn the traditional *Sokoban* game, the character must move only in the cardinal directions (north, south, east, and west) and push the objects from behind to move them. Objects cannot be pulled, created, or destroyed, and a player must avoid failing the level by getting objects stuck or boxing themselves in. In the case of *NetHack*, the [hero](/wiki/Hero \"Hero\") must push [boulders](/wiki/Boulder \"Boulder\") into [pits](/wiki/Pit \"Pit\") or [holes](/wiki/Hole \"Hole\") that block the way forward.\n\n[ ]\n\n## Contents\n\n- [1 Generation](#Generation)\n\n- [2 Description](#Description)\n\n  - [2.1 Level descriptions](#Level_descriptions)\n  - [2.2 Sokoban and luck](#Sokoban_and_luck)\n\n- [3 Strategy](#Strategy)\n\n  - [3.1 Puzzle](#Puzzle)\n  - [3.2 Monster-puzzle interaction](#Monster-puzzle_interaction)\n  - [3.3 Stuck boulders](#Stuck_boulders)\n  - [3.4 Items](#Items)\n  - [3.5 Stash location](#Stash_location)\n  - [3.6 Out-of-game practice](#Out-of-game_practice)\n\n- [4 History](#History)\n\n- [5 Origin](#Origin)\n\n- [6 Messages](#Messages)\n\n- [7 Variants](#Variants)\n\n  - [7.1 SLASH'EM](#SLASH.27EM)\n  - [7.2 NetHack brass](#NetHack_brass)\n  - [7.3 GruntHack](#GruntHack)\n  - [7.4 SporkHack](#SporkHack)\n  - [7.5 UnNetHack](#UnNetHack)\n  - [7.6 dNetHack](#dNetHack)\n  - [7.7 DynaHack](#DynaHack)\n  - [7.8 NetHack Fourk](#NetHack_Fourk)\n  - [7.9 FIQHack](#FIQHack)\n    - [7.9.1 Messages](#Messages_2)\n  - [7.10 xNetHack](#xNetHack)\n  - [7.11 SpliceHack](#SpliceHack)\n  - [7.12 notdNetHack](#notdNetHack)\n  - [7.13 EvilHack](#EvilHack)\n  - [7.14 GnollHack](#GnollHack)\n  - [7.15 Hack'EM](#Hack.27EM)\n\n- [8 Encyclopedia entry](#Encyclopedia_entry)\n\n- [9 References](#References)\n\n## Generation\n\nThe up [stairs](/wiki/Stairs \"Stairs\") to Sokoban is located from [dungeon levels](/wiki/Dungeon_level \"Dungeon level\") 6 to 10 inclusive in the [Dungeons of Doom](/wiki/Dungeons_of_Doom \"Dungeons of Doom\"), and is always one floor below the [Oracle level](/wiki/Oracle_\\(level\\) \"Oracle (level)\"). Neither the level containing the Sokoban stairs nor the actual Sokoban levels are eligible for leaving or loading [bones](/wiki/Bones \"Bones\").\n\n## Description\n\nThere are a total of 8 maps for Sokoban, with two for each of the four floors. The levels are ascending in dungeon depth (i.e., the 2nd level is above the 1st etc); however, monster difficulty increases as if descending to lower dungeon levels. Sokoban in *NetHack* is further complicated by the presence of [monsters](/wiki/Monster \"Monster\") in the puzzles, so some concessions have been made:\n\n- Diagonal moves of the boulders are still not allowed, but the player character may move diagonally if there is space to do so, and may also attack, fire or cast spells diagonally.\n- It is possible to create or destroy boulders (e.g. with a [force bolt](/wiki/Spellbook_of_force_bolt \"Spellbook of force bolt\") or a [wand of striking](/wiki/Wand_of_striking \"Wand of striking\")), as well as move over them in limited circumstances, but a [luck](/wiki/Luck \"Luck\") penalty is applied for each offense.\n- Other spells, wands and projectiles can be shot past boulders as normal.\n\nIf playing with text mode, you might want to change the [boulder symbol](/wiki/Options#boulder \"Options\") to 0.\n\n### Level descriptions\n\nAll walls in Sokoban are undiggable and block [phasing](/wiki/Phasing \"Phasing\"); the floor is undiggable only on the first level. All levels are no-teleport, and it is impossible for the player to level-teleport between Sokoban levels. Each level is fully mapped upon arrival.\n\nOn each level, there is one random [ring](/wiki/Ring \"Ring\"), one random [wand](/wiki/Wand \"Wand\"), and four (stacks of) [comestibles](/wiki/Comestible \"Comestible\") randomly placed around the map. Additionally, the final floor of the branch contains a [treasure zoo](/wiki/Treasure_zoo \"Treasure zoo\") guarding a [bag of holding](/wiki/Bag_of_holding \"Bag of holding\") or [amulet of reflection](/wiki/Amulet_of_reflection \"Amulet of reflection\") in one of three [closets](/wiki/Closet \"Closet\"), with an equal chance of each item.[\\[1\\]](#cite_note-1)[\\[2\\]](#cite_note-2)) The prize sits on a burnt [Elbereth](/wiki/Elbereth \"Elbereth\") and a cursed [scroll of scare monster](/wiki/Scroll_of_scare_monster \"Scroll of scare monster\"), and both prize items are generated normally.\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nSpecial levels, including Sokoban, may be flipped horizontally and/or vertically.\n\nBoth prizes are no longer equally likely for each floor. Instead, floor 4a has a 3⁄4 chance (75%) of a bag of holding, and 4b has a 3⁄4 chance (75%) of an amulet of reflection.\n\n|   | a                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | b                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |\n| - | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 1 | [Sokoban Level 1a](/wiki/Sokoban_Level_1a \"Sokoban Level 1a\") -------- ------ \\|[<](/wiki/Staircase \"Staircase\")\\|[>](/wiki/Staircase \"Staircase\")...---....\\| \\|[^](/wiki/Pit \"Pit\")\\|-.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")....[0](/wiki/Boulder \"Boulder\")..\\| \\|[^](/wiki/Pit \"Pit\")\\|\\|..[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")\\|.[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").\\| \\|[^](/wiki/Pit \"Pit\")\\|\\|....\\|.....\\| \\|[^](/wiki/Pit \"Pit\")\\|------[0](/wiki/Boulder \"Boulder\")----\\| \\|[^](/wiki/Pit \"Pit\")\\|    \\|......\\| \\|[^](/wiki/Pit \"Pit\")------......\\| \\|..[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")...\\| \\|[?](/wiki/Scroll_of_earth \"Scroll of earth\")[?](/wiki/Scroll_of_earth \"Scroll of earth\")-----......\\| ----   --------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [Sokoban Level 1b](/wiki/Sokoban_Level_1b \"Sokoban Level 1b\")  ------  -----   \\|....\\|  \\|...\\|   \\|.[0](/wiki/Boulder \"Boulder\")..----.[0](/wiki/Boulder \"Boulder\").\\|   \\|.[0](/wiki/Boulder \"Boulder\")......[0](/wiki/Boulder \"Boulder\")..\\|   \\|..---[>](/wiki/Staircase \"Staircase\")---[0](/wiki/Boulder \"Boulder\").\\|   \\|---------.---  \\|..[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[<](/wiki/Staircase \"Staircase\")\\|.....\\|  \\|..----\\|[0](/wiki/Boulder \"Boulder\")....\\|  --[^](/wiki/Pit \"Pit\")\\|   \\|.[0](/wiki/Boulder \"Boulder\")...\\|   \\|[^](/wiki/Pit \"Pit\")-----.[0](/wiki/Boulder \"Boulder\")...\\|   \\|..[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[^](/wiki/Pit \"Pit\")[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")..\\|   \\|[?](/wiki/Scroll_of_earth \"Scroll of earth\")[?](/wiki/Scroll_of_earth \"Scroll of earth\")----------   ----                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |\n| 2 | [Sokoban Level 2a](/wiki/Sokoban_Level_2a \"Sokoban Level 2a\")   ----          -----------  --.[>](/wiki/Staircase \"Staircase\")--------   \\|.........\\|  \\|..........\\|   \\|.........\\|  \\|.[0](/wiki/Boulder \"Boulder\")-----[0](/wiki/Boulder \"Boulder\")-.\\|   \\|.........\\|  \\|..\\|...\\|.[0](/wiki/Boulder \"Boulder\").\\|   \\|....[<](/wiki/Staircase \"Staircase\")....\\|  \\|.[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")....[0](/wiki/Boulder \"Boulder\")-\\|   \\|.........\\|  \\|.[0](/wiki/Boulder \"Boulder\")..[0](/wiki/Boulder \"Boulder\")..\\|..\\|   \\|.........\\|  \\|.----[0](/wiki/Boulder \"Boulder\").--.\\|   \\|.........\\|  \\|..[0](/wiki/Boulder \"Boulder\")...[0](/wiki/Boulder \"Boulder\").\\|.--  \\|.........\\|  \\|.---[0](/wiki/Boulder \"Boulder\")-...[0](/wiki/Boulder \"Boulder\").------------+\\|  \\|...\\|..[0](/wiki/Boulder \"Boulder\")-.[0](/wiki/Boulder \"Boulder\").[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\").\\|  \\|..[0](/wiki/Boulder \"Boulder\")......----------------  -----..\\|..\\|                     -------                                                                                                                                                                                                                                                                                                                                              | [Sokoban Level 2b](/wiki/Sokoban_Level_2b \"Sokoban Level 2b\")  -----------       -----------  \\|....\\|....---     \\|.........\\|  \\|..[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")\\|[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")...[>](/wiki/Staircase \"Staircase\")\\|     \\|.........\\|  \\|.....[0](/wiki/Boulder \"Boulder\")...---     \\|.........\\|  \\|....\\|....\\|       \\|....[<](/wiki/Staircase \"Staircase\")....\\|  \\|-.---------      \\|.........\\|  \\|..[0](/wiki/Boulder \"Boulder\").\\|.....\\|      \\|.........\\|  \\|.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\").\\|[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")\\|      \\|.........\\|  \\|..[0](/wiki/Boulder \"Boulder\").....[0](/wiki/Boulder \"Boulder\").\\|      \\|.........\\|  \\|.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")\\|[0](/wiki/Boulder \"Boulder\")..[0](/wiki/Boulder \"Boulder\").----------------+\\|  \\|....\\|..[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\").\\|  -----------------------------                                                                                                                                                                                                                                                        |\n| 3 | [Sokoban Level 3a](/wiki/Sokoban_Level_3a \"Sokoban Level 3a\")    --------            ---.\\|....\\|            \\|...[0](/wiki/Boulder \"Boulder\")....\\|----------  \\|.-.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")-[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")\\|.\\|.......\\|  \\|.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")-......\\|.......\\|  \\|.-..[0](/wiki/Boulder \"Boulder\").\\|...\\|.......\\|  \\|....-[0](/wiki/Boulder \"Boulder\")--[0](/wiki/Boulder \"Boulder\")-\\|...[<](/wiki/Staircase \"Staircase\")...\\|  \\|..[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")..[0](/wiki/Boulder \"Boulder\")...\\|.......\\|  \\|.--...\\|...\\|.......\\|  \\|....-[0](/wiki/Boulder \"Boulder\")\\|---\\|.......\\|  ---..[0](/wiki/Boulder \"Boulder\").-----------+\\|    \\|..[0](/wiki/Boulder \"Boulder\")[>](/wiki/Staircase \"Staircase\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\").\\|    ------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [Sokoban Level 3b](/wiki/Sokoban_Level_3b \"Sokoban Level 3b\")  --------------------  \\|........\\|...\\|.....\\|  \\|.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")..-[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")\\|.-.\\|.....\\|  \\|..\\|.[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").\\|[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\").\\|.....\\|  \\|-.\\|..-..\\|.-.\\|..[<](/wiki/Staircase \"Staircase\")..\\|  \\|...--.......\\|.....\\|  \\|...\\|.[0](/wiki/Boulder \"Boulder\").-...-\\|.....\\|  \\|.[0](/wiki/Boulder \"Boulder\").\\|[0](/wiki/Boulder \"Boulder\").\\|...--\\|.....\\|  \\|-[0](/wiki/Boulder \"Boulder\").\\|..-----------+\\|  \\|..[0](/wiki/Boulder \"Boulder\")....[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\").\\|  \\|...\\|.[>](/wiki/Staircase \"Staircase\")-------------  --------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |\n| 4 | [Sokoban Level 4a](/wiki/Sokoban_Level_4a \"Sokoban Level 4a\")  --------------------------  \\|[>](/wiki/Staircase \"Staircase\")......[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\").\\|  \\|.......----------------.\\|  -------.------         \\|.\\|   \\|...........\\|         \\|.\\|   \\|.[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").\\|         \\|.\\|  --------.----\\|         \\|.\\|  \\|...[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")..[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").\\|         \\|.\\|  \\|...[0](/wiki/Boulder \"Boulder\")........\\|         \\|.\\|  -----.--------   ------\\|.\\|   \\|..[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")...\\|  --\\|.....\\|.\\|   \\|.....[0](/wiki/Boulder \"Boulder\")....\\|  \\|.[+](/wiki/Door \"Door\").....\\|.\\|   \\|.[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")...[0](/wiki/Boulder \"Boulder\").--  \\|-\\|.....\\|.\\|  -------.----   \\|.[+](/wiki/Door \"Door\").....[+](/wiki/Door \"Door\").\\|  \\|..[0](/wiki/Boulder \"Boulder\").....\\|     \\|-\\|.....\\|--  \\|........\\|     \\|.[+](/wiki/Door \"Door\").....\\|    \\|...------     --\\|.....\\|    -----            -------   | [Sokoban Level 4b](/wiki/Sokoban_Level_4b \"Sokoban Level 4b\")    ------------------------    \\|..[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")[^](/wiki/Hole \"Hole\")..\\|    \\|..-------------------.\\|  ----.\\|    -----        \\|.\\|  \\|..\\|[0](/wiki/Boulder \"Boulder\")--  --...\\|        \\|.\\|  \\|.....\\|--\\|.[0](/wiki/Boulder \"Boulder\")..\\|        \\|.\\|  \\|.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")..\\|..\\|..[0](/wiki/Boulder \"Boulder\").\\|        \\|.\\|  --..[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\")\\|...[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\").--        \\|.\\|   \\|[0](/wiki/Boulder \"Boulder\")..[0](/wiki/Boulder \"Boulder\")...\\|[0](/wiki/Boulder \"Boulder\")..\\|   ------\\|.\\|   \\|.[0](/wiki/Boulder \"Boulder\")[0](/wiki/Boulder \"Boulder\").\\|..\\|..[0](/wiki/Boulder \"Boulder\")\\| --\\|.....\\|.\\|   \\|.[0](/wiki/Boulder \"Boulder\").[0](/wiki/Boulder \"Boulder\")---\\|.[0](/wiki/Boulder \"Boulder\").\\| \\|.[+](/wiki/Door \"Door\").....\\|.\\|   \\|.......\\|..-- \\|-\\|.....\\|.\\|   ----.[0](/wiki/Boulder \"Boulder\")..\\|.--  \\|.[+](/wiki/Door \"Door\").....[+](/wiki/Door \"Door\").\\|      ---.--.\\|   \\|-\\|.....\\|--       \\|.[0](/wiki/Boulder \"Boulder\")...\\|   \\|.[+](/wiki/Door \"Door\").....\\|         \\|[>](/wiki/Staircase \"Staircase\").\\|..\\|   --\\|.....\\|         -------     -------   |\n\n### Sokoban and luck\n\nIt is possible to solve every Sokoban level just by moving boulders around in the normal fashion - however, as mentioned above there are some actions that the original game does not allow that are legal in *NetHack*, but are considered \"cheating\" in some way and apply a -1 penalty to luck. Assuming the level is still unsolved, the following actions incur luck penalties in Sokoban:\n\n- [Jumping](/wiki/Jumping \"Jumping\") in any direction. (To avoid the penalty, press Escape when prompted where you want to jump.)\n- Breaking a boulder.\n- Squeezing past a boulder (or walking over one, when [polymorphed](/wiki/Polymorph \"Polymorph\") into a monster that can [lift and throw boulders](/index.php?title=M2_ROCKTHROW\\&action=edit\\&redlink=1 \"M2 ROCKTHROW (page does not exist)\")).\n- Casting [stone to flesh](/wiki/Stone_to_flesh \"Stone to flesh\") on a boulder.\n- [Polymorphing](/wiki/Polymorph \"Polymorph\") a boulder.\n- Reading a [scroll of earth](/wiki/Scroll_of_earth \"Scroll of earth\").\n- Being pulled by a thrown [iron ball](/wiki/Iron_ball \"Iron ball\").\n- Hurtling through the air due to Newton's 3rd Law (i.e. throwing something while [levitating](/wiki/Levitating \"Levitating\")).\n\nThe following actions do *not* incur a luck penalty when done in Sokoban:\n\n- [Teleporting](/wiki/Teleport \"Teleport\") a boulder (as this may move the boulder somewhere odd).\n- Falling into a hole or pit.\n- Polymorphing a [statue](/wiki/Statue \"Statue\") into a boulder.\n- Carrying a boulder into Sokoban while in the form of a monster that can do so, then dropping it.\n- Digging your own pit or hole, or filling it with boulders.\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nJumping, being pulled by a thrown iron ball, and hurtling no longer cause a luck penalty (since they don't actually allow you to move diagonally).\n\n## Strategy\n\nIn addition to learning how to best move boulders around and solve the puzzles with few or no errors, the climb up Sokoban is also complicated by the presence of monsters that can block the movement path of boulders or even risk breaking them.\n\nFor level-specific strategies, see the articles on the level maps linked above.\n\n### Puzzle\n\n- Think ahead. The entire level is mapped, and all the levels are solvable without \"cheating\", barring some unfortunate monster generation.\n- Not all of the boulders have to be used - regardless, try to keep enough of them open to fill all the pits.\n- You can use a text editor, grid paper or other resource to try to work out the solutions before actually attempting them in-game.\n- If you want to try out something, push the boulders only in ways you can undo - never create a square of four boulders, or two neighbors against a wall.\n- Be careful - a typo may render a boulder immobile against the wall. Try to move diagonally or with the [goto-key (underscore)](/wiki/Travel \"Travel\") whenever possible, as these commands will not push a boulder.\n- If a hole is open, falling through it to the level below lets you get back to the stairs. This can be useful in certain situations where a boulder is pushed the wrong way.\n\n### Monster-puzzle interaction\n\n- Check whether there are monsters in front of the pits.\n- Use a magic whistle for pets, or leave them behind one level, and visit their level every 74 turns or less to avoid them losing tameness points. Alternatively, known-cursed items can help keep pets out of the pit area.\n- Be aware of mimics imitating boulders. Unlike real boulders, mimics will not appear until they are in your line of sight, but a space containing a boulder may also contain a mimic mimicking a boulder, if that makes sense. You can move diagonally between mimicked boulders.\n\n*The following information pertains to an upcoming version ([3.7.0](/wiki/3.7.0 \"3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nDisplacement of peaceful monsters is now possible, making it much easier to move them out of the path.\n\nPer [commit d4ac146c](https://github.com/NetHack/NetHack/commit/d4ac146c5f8bf28d5553300e08e5addf13a96405), pets will attempt to avoid locations where boulders can be pushed.\n\n### Stuck boulders\n\n- If you must take a luck penalty, do so as early as possible. Put away any [gray stones](/wiki/Gray_stone \"Gray stone\") that might be [luckstones](/wiki/Luckstone \"Luckstone\"), unless you are sure that your natural luck is positive. The sooner you take that luck penalty, the more likely it will have timed out the next time you encounter a critical luck-influenced event, such as needing to [pray](/wiki/Pray \"Pray\").\n\n- If you mistakenly moved a boulder between yourself and the stairs from the previous level, dig down to create a hole and fall through (no penalty). Be sure to choose a safe place to dig. You may wish to use a spare boulder to fill the hole afterward.\n\n- Destroy a boulder with a [pick-axe](/wiki/Pick-axe \"Pick-axe\"), [force bolt](/wiki/Spellbook_of_force_bolt \"Spellbook of force bolt\"), or [wand of striking](/wiki/Wand_of_striking \"Wand of striking\") (luck penalty). Be careful not to destroy too many boulders.\n\n- Drop everything in your inventory (including armor) and squeeze into the same square as a boulder. This will help you separate boulders stuck together, but not a boulder stuck against a wall. This way, you can also kill monsters trapped between boulders and holes which block the way (luck penalty).\n\n- [Polymorph](/wiki/Polymorph \"Polymorph\") into a [giant](/wiki/Giant \"Giant\") and step over boulders (luck penalty). You still cannot lift them, however; neither can monsters.\n\n- Summon more boulders with a [scroll of earth](/wiki/Scroll_of_earth \"Scroll of earth\") (luck penalty). Two scrolls can be found on the first Sokoban level. A non-cursed scroll will summon multiple boulders, possibly making the situation worse.\n\n- Drop a wand of striking so that a monster picks it up, and position yourself between that monster and the boulder you want destroyed, in hopes that the monster will destroy the boulder for you; this incurs no luck penalty.\n\n- If the boulder is stuck because of a monster behind it, shoot [projectiles](/wiki/Projectile \"Projectile\") or spells past the boulder to kill the monster. Be sure the monster in question is not peaceful - note that no peaceful humans can be generated in Sokoban.\n\n  - An [aklys](/wiki/Aklys \"Aklys\") is the ideal choice, as it returns to your hand for repeated throwing, and can easily be obtained from the [gnomes](/wiki/Gnome_\\(monster_class\\) \"Gnome (monster class)\") in the [Mines](/wiki/Gnomish_Mines \"Gnomish Mines\"). Note that there is a 1⁄100 chance of it failing to return, so have a spare or some other solution available.\n  - If the monster is a coaligned [unicorn](/wiki/Unicorn \"Unicorn\"), you risk a large luck penalty for killing it; if you determine by whatever means that the monster is a coaligned unicorn, you can toss gems to it to compensate for the inevitable luck hit. Sokoban is no-teleport, so the unicorn cannot leave of its own accord. Also, you cannot kill unicorns with rocks, an easily accessible missile weapon.\n  - Force bolts and the wand of striking will destroy boulders, but other methods are safe. [Pacifists](/wiki/Pacifist \"Pacifist\") may want to strip naked and [displace](/wiki/Displace \"Displace\") their [pet](/wiki/Pet \"Pet\") onto the [boulder](/wiki/Boulder \"Boulder\"). If you have a [magic whistle](/wiki/Magic_whistle \"Magic whistle\"), you can stand next to the boulder and apply the whistle until your pet appears on the other side of the boulder. Let your pet kill the obstructing monster and then use the whistle to get them out of the way.\n\n- Hit the boulder with a [wand of teleport](/wiki/Wand_of_teleport \"Wand of teleport\") (no luck penalty) after you finish as many other boulders as possible. While the new location may not be better than the old one, it often can't be much worse.\n\n### Items\n\n- Upon completion, check under unmoved boulders for useful items.\n\n- The first level contains two guaranteed scrolls of earth; remember to #[name](/wiki/Name \"Name\") them as such as soon as you find them. Some monsters will read scrolls of earth, especially [nymphs](/wiki/Nymph \"Nymph\") that can pluck the scroll from your inventory; however, most monsters only have a 1⁄10 chance of doing so unless they have a hard helm on.\n\n- Sokoban is an excellent place to stock up on comestibles and other loot. If you are dealing with [encumbrance](/wiki/Encumbrance \"Encumbrance\") issues or otherwise trying to manage your inventory, simply leave the food items on the floor and eat them only when you need to. On the other hand, grab every scroll and wand you see; at the least, doing so means a monster will not be able to pick them up and use them to your disadvantage.\n\n  - Items can sometimes be generated over holes. Pushing a boulder over the hole will bury the item. If you wish to retrieve the item instead, you may:\n\n    - Kick the item away; it will usually fall down another hole and appear somewhere on the level below. This will destroy the item if it is fragile, and on the top level will wake the monsters in the zoo.\n    - Repeatedly step on the space containing the item; it will eventually fall down with you, although not necessarily onto your space. This will never break the item.\n    - Turn on [autopickup](/wiki/Autopickup \"Autopickup\") and step on the space containing the item; you will pick it up before you fall. Beware of [loadstones](/wiki/Loadstone \"Loadstone\"), both over the hole and on the levels below. You can use [pickup\\_types](/wiki/Pickup_types \"Pickup types\") or [autopickup exception](/wiki/Autopickup_exception \"Autopickup exception\") to limit yourself to only picking up the type of item you are trying to grab.\n    - Use a grappling hook.\n\n  - Monsters can attack you with the guaranteed [wand](/wiki/Wand \"Wand\") if applicable. If you have not already found it, be careful clearing the [zoo](/wiki/Zoo \"Zoo\"), e.g. send your [pet](/wiki/Pet \"Pet\") in without entering line of fire.\n\n- If you reach the end of the branch and do not see the prize, it is probable that some @ found the amulet of reflection and picked it up. Be sure to claim the amulet immediately after killing said monster, since you don't want your new amulet of reflection to become a snack for a [rust monster](/wiki/Rust_monster \"Rust monster\") or [rock mole](/wiki/Rock_mole \"Rock mole\"). Nothing will ever pick up the bag of holding, however.\n\n### Stash location\n\nOnce completed, the first level of Sokoban is often used as a [stash](/wiki/Stash \"Stash\") level, for several reasons:\n\n- [The Eye of the Aethiopica](/wiki/The_Eye_of_the_Aethiopica \"The Eye of the Aethiopica\") can teleport the hero there instantly.\n- It is conveniently located one level below the Oracle's dwelling, 2-8 levels from the [Gnomish Mines](/wiki/Gnomish_Mines \"Gnomish Mines\"), and located in the top half of the [Dungeons of Doom](/wiki/Dungeons_of_Doom \"Dungeons of Doom\"), where shops and altars are likely.\n- It is relatively free of monsters, and is biased toward neutral monsters, including less-dangerous baby monsters.\n- There are spare boulders which can be used to further block off a [safe area](/wiki/Safe_area \"Safe area\").\n- There is a long corridor which can be used for [polypiling](/wiki/Polypiling \"Polypiling\").\n- If there is an [altar](/wiki/Altar \"Altar\") nearby, Sokoban can be used to control luck and avoid [crowning](/wiki/Crowning \"Crowning\") during altar farming.\n\n### Out-of-game practice\n\n[nhss](http://github.com/hackedhead/nhss) (originally by IanK of [iank.org](http://iank.org/)) is a C/terminal tool that sets up a Nethack-like environment (basic movement and boulder pushing only) that can be used to figure a level out before actually playing it, thus reducing the chances of rendering a level unsolvable. It can also record sessions and play them back step by step.\n\nUnaffiliated but related to nhss, [Nethack's Sokoban levels for various Sokoban implementations](http://www.electricmonk.nl/Miscellaneous/Nethack) (XSok, Sokoban++, YSokoban, Universal Sokoban format and Games 4 Brains Sokoban format) which you can use to practice the levels in other Sokoban games.\n\nEven more unaffiliated with any of the above, [Nethack's Sokoban levels](http://joshua.tejat.net/private/public/nh-soko.zip) for [Enigma](http://www.nongnu.org/enigma/).\n\n[The Nethack Android port by gurr](https://play.google.com/store/apps/details?id=com.tbd.NetHack) with using [Wizard mode](/wiki/Wizard_mode \"Wizard mode\") can be done for practising on mobile. Use the [level teleport option](/wiki/Wizard_mode#Commands \"Wizard mode\"), go to the entry to Sokoban, and use the recreate map option if the player needs to try again.\n\nSome other online web app links are listed below:\n\n- [An unaffiliated version of nhss](http://nhss.twonegatives.com/), also called NHSS\n- [Annotate](https://nethackathon.org/annotate) - by disperse, meant as a companion web app for Nethack, allows Sokoboan practice among other things. It allows you flip the levels for practice with the level flipping introduced in [NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\"), and records user solutions.\n- [An alternative domain link](https://dispersemedia.com/sokoban/) to just the standalone Sokoban app by disperse.\n- [Sokoban Erim via Wayback Archive - a comprehensive collection of Sokoban resources](https://web.archive.org/web/20200131120459/http://www.erimsever.com:80/sokoban.htm)\n\n## History\n\nSokoban first appears in [NetHack 3.3.0](/wiki/NetHack_3.3.0 \"NetHack 3.3.0\"). From this version to [NetHack 3.4.3](/wiki/NetHack_3.4.3 \"NetHack 3.4.3\"), including some variants based on these versions, luck penalties apply for [most of the aforementioned actions](#Sokoban_and_luck) minus jumping, even if the level is solved. In addition, the prize for the last Sokoban level does not have a cursed scroll of scare monster present, and depends on which final level map was generated: Sokoban Level 4a always has a bag of holding, and Sokoban Level 4b always has an amulet of reflection.\n\nStarting in [NetHack 3.6.0](/wiki/NetHack_3.6.0 \"NetHack 3.6.0\"), the current rules regarding luck and boulder movement are applied, the cursed scroll of scare monster is generated on the prize square, and both final levels have a 1⁄2 chance (50%) of either prize item.\n\n## Origin\n\n[![Wikipedia](/images/thumb/f/f8/Fair-use-wikipedia-logo.png/50px-Fair-use-wikipedia-logo.png)](/wiki/File:Fair-use-wikipedia-logo.png \"Wikipedia\")\n\n[Wikipedia](http://en.wikipedia.org/wiki/Main_Page \"wikipedia:Main Page\") has an article about:\n\n***[Sokoban](http://en.wikipedia.org/wiki/Special:Search/Sokoban \"wikipedia:Special:Search/Sokoban\")***\n\n*Sokoban* is a video game created in 1981 by Hiroyuki Imabayashi, with the first commercial release published in December 1982 by Thinking Rabbit, a software house based in Takarazuka, Japan. Sokoban was a hit in Japan, where it sold more than 400,000 copies before being released in the United States in 1988, where it was published by Spectrum HoloByte for the Commodore 64, IBM PC compatibles, Amiga, and Apple II as Soko-Ban.\n\nThe presence of three doors in the treasure zoo with a prize behind one of them, is possibly a reference to the [Monty Hall Problem](http://en.wikipedia.org/wiki/Monty_Hall_Problem \"wikipedia:Monty Hall Problem\").\n\n## Messages\n\n- The boulder won't move diagonally on this floor.\n\n  You attempted to push a boulder diagonally on an unsolved floor.\n\n## Variants\n\nMost variants of *NetHack* attempt to improve upon the Sokoban experience in some form, on top of often adding new Sokoban levels:\n\n- Some variants, such as [SporkHack](/wiki/SporkHack \"SporkHack\") and [UnNetHack](/wiki/UnNetHack \"UnNetHack\"), apply the [level-flipping patch](https://bilious.alt.org/?254) to Sokoban.\n- Variants that contain [magic chests](/wiki/Magic_chest \"Magic chest\") place one at the beginning or end of Sokoban to aid players who use it as a stash level.\n\n### SLASH'EM\n\n- *Main article: [Sokoban (SLASH'EM)](/wiki/Sokoban_\\(SLASH%27EM\\) \"Sokoban (SLASH'EM)\")*\n\nIn [SLASH'EM](/wiki/SLASH%27EM \"SLASH'EM\"), the rules are the same as in [NetHack 3.4.3](/wiki/NetHack_3.4.3 \"NetHack 3.4.3\"), with 15 new possible levels - the final level has the usual 1⁄2 chance of either a bag of holding or an amulet of reflection at the end, dependent on the level generated. Ordinary [sacks](/wiki/Sack \"Sack\") and [oilskin sacks](/wiki/Oilskin_sack \"Oilskin sack\") can be upgraded to a bag of holding in SLASH'EM, typically making the amulet the more desirable prize.\n\nSome of the new Sokoban levels have [iron bars](/wiki/Iron_bars \"Iron bars\") - a [doppelganger](/wiki/Doppelganger_\\(starting_race\\) \"Doppelganger (starting race)\") character can [liquid leap](/wiki/Liquid_leap \"Liquid leap\") through them, though this will incur a luck penalty, and the bars cannot be crossed by any other means (e.g., by polyself into a small or [slithy](/wiki/Slithy \"Slithy\") monster such as a [snake](/wiki/Snake \"Snake\")).\n\nSeveral public server versions of SLASH'EM include a patch that adds the [acid hound](/wiki/Acid_hound \"Acid hound\"), which corrodes the floor to create pits when killed; these can be very troublesome if they appear in Sokoban, as they may make solving the level impossible without using a scroll of earth.\n\n### NetHack brass\n\n[NetHack brass](/wiki/NetHack_brass \"NetHack brass\") does not change or add any layouts for Sokoban levels, but instead has a choice between the amulet of reflection, a [cloak of magic resistance](/wiki/Cloak_of_magic_resistance \"Cloak of magic resistance\"), and a bag of holding as the prize item. All monsters will avoid stepping on or touching the items, preventing abuse via using pets to retrieve unchosen prizes.\n\nNon-[artifact](/wiki/Artifact \"Artifact\") items that provide [magic resistance](/wiki/Magic_resistance \"Magic resistance\") or [reflection](/wiki/Reflection \"Reflection\") can wear out and disintegrate from resisting or reflecting enough times, making it a good idea to carry a spare source. The bag remains a good choice for characters that already have \"permanent\" and/or redundant options for both properties.\n\n### GruntHack\n\n- *Main article: [Sokoban (GruntHack)](/index.php?title=Sokoban_\\(GruntHack\\)\\&action=edit\\&redlink=1 \"Sokoban (GruntHack) (page does not exist)\")*\n\n[GruntHack](/wiki/GruntHack \"GruntHack\") adds some new Sokoban levels, and offers a choice between the amulet of reflection, a cloak of magic resistance, and a bag of holding as the prize item, similar to NetHack brass. If one of the prize closet doors is opened or kicked down, the others will seal; a means of identifying the closet containing the desired item, such as a [potion of object detection](/wiki/Potion_of_object_detection \"Potion of object detection\"), is recommended.\n\nGruntHack also implements player displacement of peaceful monsters, making herding them out of the path of boulders considerably easier.\n\n### SporkHack\n\nIn [SporkHack](/wiki/SporkHack \"SporkHack\"), Sokoban rules are mostly unchanged from NetHack 3.4.3, though each final level has an equal probability of the prize being an amulet of reflection or a bag of holding. Sporkhack also has displacement for peaceful monsters.\n\n### UnNetHack\n\n- *Main article: [Sokoban (UnNetHack)](/wiki/Sokoban_\\(UnNetHack\\) \"Sokoban (UnNetHack)\")*\n\nUnNetHack introduces new Sokoban levels as well, and additionally shortens the branch to three levels—the vanilla maps for levels one and two may all be used to create level one.\n\nFrom UnNetHack 4.1.1 onwards, cheating in Sokoban does not incur a luck penalty, and solving Sokoban without cheating is instead tracked as a [conduct](/wiki/Conduct \"Conduct\"); as of UnNetHack 6, solving Sokoban without cheating increases luck by 1 point. To compensate, the scrolls of earth typically found on the first level are not guaranteed.\n\nThe final level always has a bag of holding, a cloak of magic resistance or [displacement](/wiki/Cloak_of_displacement \"Cloak of displacement\"), and an amulet of reflection, [life saving](/wiki/Amulet_of_life_saving \"Amulet of life saving\") or [flying](/wiki/Amulet_of_flying \"Amulet of flying\") as the prize choices, all of which are placed on a burnt Elbereth. When one of these objects is picked up, the other two are destroyed. The prize items are temporarily type-identified while in direct line of sight, allowing for a more informed decision.\n\n### dNetHack\n\nIn [dNetHack](/wiki/DNetHack \"DNetHack\"), Sokoban rules and maps are mostly unchanged from NetHack 3.4.3, but the boulders are replaced with [massive stone crates](/index.php?title=Massive_stone_crate\\&action=edit\\&redlink=1 \"Massive stone crate (page does not exist)\"), which behave similar to boulders and contain food - the food is released from the crate when pushed into the pits or holes within Sokoban, and the crates can be broken like boulders to access the food (though this carries a luck penalty due to the ruleset). dNetHack also places a [magic chest](/wiki/Magic_chest_\\(dNetHack\\) \"Magic chest (dNetHack)\") in one of the closets beyond the treasure zoo at the top floor.\n\nPets that are left in Sokoban will not lose tameness.\n\n### DynaHack\n\n- *Main article: [Sokoban (DynaHack)](/index.php?title=Sokoban_\\(DynaHack\\)\\&action=edit\\&redlink=1 \"Sokoban (DynaHack) (page does not exist)\")*\n\nSokoban in [DynaHack](/wiki/DynaHack \"DynaHack\") has three floors and uses maps from both UnNetHack and SLASH'EM, among other variants. The random rings and wands that are normally scattered in Sokoban are instead placed within a sack on Sokoban's final level, with the standard prizes moved to [Mines' End](/wiki/Mines%27_End \"Mines' End\"), making the Sokoban branch more optional.\n\nThe prize selection is derived from earlier versions of UnNetHack: the choices are a bag of holding, a cloak of magic resistance or [displacement](/wiki/Cloak_of_displacement \"Cloak of displacement\"), and an amulet of reflection, [life saving](/wiki/Amulet_of_life_saving \"Amulet of life saving\") or [ESP](/wiki/Amulet_of_ESP \"Amulet of ESP\").\n\n### NetHack Fourk\n\n- *Main article: [Sokoban (NetHack Fourk)](/wiki/Sokoban_\\(NetHack_Fourk\\) \"Sokoban (NetHack Fourk)\")*\n\n[NetHack Fourk](/wiki/NetHack_Fourk \"NetHack Fourk\") gives a name to each Sokoban level, and contains quite a few quality-of-life changes which are non-exhaustively listed below:\n\n- If a peaceful monster would spawn in Sokoban, it is generated hostile instead. Thus, it is safer to kill unknown monsters that are blocking boulder movements.\n- Sokoban luck penalties can only lower luck to a minimum of -3, and .\n- Luck penalties do not apply when you have a non-cursed luckstone.\n- Luck penalties do not apply when you are hallucinating, but a boulder will hit you for 1d12 damage.\n- There are a number of additional Sokoban levels. Player feedback suggests that these are on average easier than the vanilla levels.\n- Two of the new final Sokoban levels have a sack which contains rings of [teleport control](/wiki/Ring_of_teleport_control \"Ring of teleport control\") and [polymorph control](/wiki/Ring_of_polymorph_control \"Ring of polymorph control\") and a third random ring. If you already have either of those rings, you might receive other jewellery.\n- In the other final levels endings, if you already have reflection, the Soko prize will not be an amulet of reflection; if you already have a bag of holding, the prize is likely to be an amulet of reflection. In either case, or if you already have both items, the prize might be a simple oilskin sack.\n- To help pacifists, completing Sokoban without cheating grants one [experience level](/wiki/Experience_level \"Experience level\").\n- To make Sokoban more skippable, [Perseus](/wiki/Perseus \"Perseus\")'s statue always contains the [shield of reflection](/wiki/Shield_of_reflection \"Shield of reflection\") and the sack.\n\n### FIQHack\n\nIn [FIQHack](/wiki/FIQHack \"FIQHack\"), all pits on the first level of Sokoban are converted to holes, which lead back to the main dungeon floor containing Sokoban's branch stairs - the floor also contains a [magic chest](/wiki/Magic_chest_\\(FIQHack\\) \"Magic chest (FIQHack)\").\n\nThe rules for Sokoban are more similar to vanilla *NetHack* than 3.4.3, and prints a message once the level is solved. Additionally, monsters that would generate as peaceful otherwise are hostile if created in Sokoban, and co-aligned unicorns are not generated - this is done in order to avoid creating scenarios where a character must risk a major luck or alignment penalty, so they can more safely kill unknown monsters that generate in the path of their boulder movements.\n\n#### Messages\n\n- You feel some arcane magic being lifted from the area.\n\n  A Sokoban level was solved.\n\n### xNetHack\n\n[xNetHack](/wiki/XNetHack \"XNetHack\") uses the same maps, rules and layouts for Sokoban as vanilla *NetHack*, with the removal of flipped Sokoban levels introduced in the upcoming NetHack 3.7.0 due to the change's unpopularity.\n\n### SpliceHack\n\n- *Main article: [Sokoban (SpliceHack)](/index.php?title=Sokoban_\\(SpliceHack\\)\\&action=edit\\&redlink=1 \"Sokoban (SpliceHack) (page does not exist)\")*\n\n[SpliceHack](/wiki/SpliceHack \"SpliceHack\") adds a few new levels from other variants for Sokoban: for those that have an equal number of pits/holes and boulders, a hole or pit is removed in order to create a spare boulder and make them less difficult. SpliceHack also has different versions of levels 2a and 2b that replace the boulders with explosive monsters such as [gas spores](/wiki/Gas_spore \"Gas spore\") and [flaming spheres](/wiki/Flaming_sphere \"Flaming sphere\").\n\n### notdNetHack\n\n- *Main article: [Lokoban](/wiki/Lokoban \"Lokoban\")*\n\nIn [notdNetHack](/wiki/NotdNetHack \"NotdNetHack\") and [notnotdNetHack](/wiki/NotnotdNetHack \"NotnotdNetHack\"), Sokoban is replaced with [Lokoban](/wiki/Lokoban \"Lokoban\"), a single-floor branch that has a much simpler challenge but much less in the way of loot.\n\n### EvilHack\n\n- *Main article: [Sokoban (EvilHack)](/index.php?title=Sokoban_\\(EvilHack\\)\\&action=edit\\&redlink=1 \"Sokoban (EvilHack) (page does not exist)\")*\n\nIn [EvilHack](/wiki/EvilHack \"EvilHack\"), several level maps from SLASH'EM, GruntHack, UnNetHack, and other variants are added for Sokoban.\n\nOn the final level, all three closets in the Sokoban zoo have a prize behind each door, but you will not be able to tell exactly what that prize is until you pick it up - you can learn the object type of the prize behind each door via some form of item detection, e.g. [quaffing](/wiki/Quaff \"Quaff\") a potion of object detection or reading a non-cursed [scroll of magic detection](/wiki/Scroll_of_magic_detection \"Scroll of magic detection\"). Like GruntHack, the doors are made impenetrable to prevent taking more than one prize: once one door is opened, the other two doors disappear and are replaced with a sealed wall; despite this, the doors can still be broken, e.g. by a giant. When you pick up one of the prizes, the other two will magically disappear regardless of whether or not the doors were opened.\n\nThere are two different items of each type that can spawn behind each door, with an equal probability of each item:\n\n- Sokoban prize armor – [gauntlets of protection](/wiki/Gauntlets_of_protection \"Gauntlets of protection\") or a [helm of speed](/wiki/Helm_of_speed \"Helm of speed\")\n- Sokoban prize amulet – an amulet of reflection or an [amulet of magic resistance](/wiki/Amulet_of_magic_resistance \"Amulet of magic resistance\")\n- Sokoban prize tool – a bag of holding or a [magic marker](/wiki/Magic_marker \"Magic marker\")\n\nSince magic markers do not generate randomly, Sokoban is potentially one of a few locations in the game where a marker can be found.\n\n### GnollHack\n\nIn [GnollHack](/wiki/GnollHack \"GnollHack\"), Sokoban is largely the same as in NetHack 3.6.2 except for the top floor: there is an additional room accessible from the zoo where a mage resides. He sells items, teaches spells and provides other services (such as performing incantations) for a fee.\n\n### Hack'EM\n\n- *Main article: [Sokoban (Hack'EM)](/index.php?title=Sokoban_\\(Hack%27EM\\)\\&action=edit\\&redlink=1 \"Sokoban (Hack'EM) (page does not exist)\")*\n\n[Hack'EM](/wiki/Hack%27EM \"Hack'EM\") imports several maps from SLASH'EM, SlashTHEM, Fourk and other variants for Sokoban, and all levels have been given Fourk-style names to make them easier to reference. The prizes given are also the same as in EvilHack, with the same rules concerning their identities.\n\n## Encyclopedia entry\n\nSokoban (Japanese for \"warehouse keeper\") is a transport puzzle  \nin which the player pushes boxes around a maze, viewed from  \nabove, and tries to put them in designated locations. Only one  \nbox may be pushed at a time, not two, and boxes cannot be pulled.  \nAs the puzzle would be extremely difficult to create physically,  \nit is usually implemented as a video game.  \n  \nSokoban was created in 1982 by Hiroyuki Imabayashi, and was  \npublished by Thinking Rabbit, a software house based in  \nTakarazuka, Japan. Thinking Rabbit also released three sequels:  \nBoxxle, Sokoban Perfect and Sokoban Revenge.\n\n\\[ Wikipedia, the free encyclopedia ]\n\n## References\n\n1. [↑](#cite_ref-1) [dat/sokoban.des in NetHack 3.6.7, line 530](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/sokoban.des#L530)\n2. [↑](#cite_ref-2) [dat/sokoban.des in NetHack 3.6.7, line 631](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/sokoban.des#L631)\n\n[![This article has been updated to reflect NetHack 3.6.7. Click here for more information.](/images/f/f7/Nh367-icon.png)](/wiki/NetHackWiki:Next_version \"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\")\n\n[![This is a featured article. Click here for more information.](/images/6/60/LinkFA-star.png)](/wiki/NetHackWiki:Featured_articles \"This is a featured article. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Sokoban - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Sokoban\",\"wgTitle\":\"Sokoban\",\"wgCurRevisionId\":177196,\"wgRevisionId\":177196,\"wgArticleId\":1372,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Upcoming\",\"Encyclopedia\",\"Nethack-367 articles\",\"Featured articles\",\"Sokoban\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Sokoban\",\"wgRelevantArticleId\":1372,\"wgRequestId\":\"c7d46d2a5ccbcc7faddcf888\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"ext.cite.styles\":\"ready\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"ext.cite.a11y\",\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"Sokoban (&amp;quot;warehouse keeper&amp;quot; in Japanese) is a branch of the dungeon in NetHack that is modeled on and named after a game where a character is navigated through a series of levels. The object is to move objects to cover goal squares.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Sokoban\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sokoban rootpage-Sokoban skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Sokoban</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><div class=\"thumb tright\">\n<table class=\"prettytable\" style=\"margin: 0;\">\n<tbody><tr>\n<th colspan=\"2\">Sokoban levels\n</th></tr>\n<tr>\n<th>Location\n</th>\n<td>Level 2–9 of <br /><a class=\"mw-selflink selflink\">Sokoban</a>\n</td></tr>\n<tr>\n<th><a href=\"/wiki/Bones\" title=\"Bones\">Bones</a>\n</th>\n<td class=\"table-no\">No\n</td></tr>\n<tr>\n<th><a href=\"/wiki/Magic_mapping\" title=\"Magic mapping\">Mappable</a>\n</th>\n<td class=\"table-yes\">Yes\n</td></tr>\n<tr>\n<th><a href=\"/wiki/Teleportation\" title=\"Teleportation\">Teleportable</a>\n</th>\n<td class=\"table-no\">No\n</td></tr>\n<tr>\n<th><a href=\"/wiki/Digging\" title=\"Digging\">Diggable floor</a>\n</th>\n<td class=\"table-partial\">all but bottom level\n</td></tr>\n<tr>\n<th><a href=\"/wiki/Digging\" title=\"Digging\">Diggable walls</a>\n</th>\n<td class=\"table-no\">No\n</td></tr></tbody></table>\n</div>\n<p><b>Sokoban</b> (\"warehouse keeper\" in Japanese) is a <a href=\"/wiki/Branch\" title=\"Branch\">branch</a> of the dungeon in <i><a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a></i> that is modeled on and named after a game where a character is navigated through a series of levels. The object is to move objects to cover goal squares.\n</p><p>In the traditional <i>Sokoban</i> game, the character must move only in the cardinal directions (north, south, east, and west) and push the objects from behind to move them. Objects cannot be pulled, created, or destroyed, and a player must avoid failing the level by getting objects stuck or boxing themselves in. In the case of <i>NetHack</i>, the <a href=\"/wiki/Hero\" class=\"mw-redirect\" title=\"Hero\">hero</a> must push <a href=\"/wiki/Boulder\" title=\"Boulder\">boulders</a> into <a href=\"/wiki/Pit\" title=\"Pit\">pits</a> or <a href=\"/wiki/Hole\" title=\"Hole\">holes</a> that block the way forward.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Generation\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Generation</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Description\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Description</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Level_descriptions\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Level descriptions</span></a></li>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#Sokoban_and_luck\"><span class=\"tocnumber\">2.2</span> <span class=\"toctext\">Sokoban and luck</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Strategy\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Strategy</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#Puzzle\"><span class=\"tocnumber\">3.1</span> <span class=\"toctext\">Puzzle</span></a></li>\n<li class=\"toclevel-2 tocsection-7\"><a href=\"#Monster-puzzle_interaction\"><span class=\"tocnumber\">3.2</span> <span class=\"toctext\">Monster-puzzle interaction</span></a></li>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#Stuck_boulders\"><span class=\"tocnumber\">3.3</span> <span class=\"toctext\">Stuck boulders</span></a></li>\n<li class=\"toclevel-2 tocsection-9\"><a href=\"#Items\"><span class=\"tocnumber\">3.4</span> <span class=\"toctext\">Items</span></a></li>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#Stash_location\"><span class=\"tocnumber\">3.5</span> <span class=\"toctext\">Stash location</span></a></li>\n<li class=\"toclevel-2 tocsection-11\"><a href=\"#Out-of-game_practice\"><span class=\"tocnumber\">3.6</span> <span class=\"toctext\">Out-of-game practice</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-12\"><a href=\"#History\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">History</span></a></li>\n<li class=\"toclevel-1 tocsection-13\"><a href=\"#Origin\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">Origin</span></a></li>\n<li class=\"toclevel-1 tocsection-14\"><a href=\"#Messages\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">Messages</span></a></li>\n<li class=\"toclevel-1 tocsection-15\"><a href=\"#Variants\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">Variants</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-16\"><a href=\"#SLASH.27EM\"><span class=\"tocnumber\">7.1</span> <span class=\"toctext\">SLASH'EM</span></a></li>\n<li class=\"toclevel-2 tocsection-17\"><a href=\"#NetHack_brass\"><span class=\"tocnumber\">7.2</span> <span class=\"toctext\">NetHack brass</span></a></li>\n<li class=\"toclevel-2 tocsection-18\"><a href=\"#GruntHack\"><span class=\"tocnumber\">7.3</span> <span class=\"toctext\">GruntHack</span></a></li>\n<li class=\"toclevel-2 tocsection-19\"><a href=\"#SporkHack\"><span class=\"tocnumber\">7.4</span> <span class=\"toctext\">SporkHack</span></a></li>\n<li class=\"toclevel-2 tocsection-20\"><a href=\"#UnNetHack\"><span class=\"tocnumber\">7.5</span> <span class=\"toctext\">UnNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-21\"><a href=\"#dNetHack\"><span class=\"tocnumber\">7.6</span> <span class=\"toctext\">dNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-22\"><a href=\"#DynaHack\"><span class=\"tocnumber\">7.7</span> <span class=\"toctext\">DynaHack</span></a></li>\n<li class=\"toclevel-2 tocsection-23\"><a href=\"#NetHack_Fourk\"><span class=\"tocnumber\">7.8</span> <span class=\"toctext\">NetHack Fourk</span></a></li>\n<li class=\"toclevel-2 tocsection-24\"><a href=\"#FIQHack\"><span class=\"tocnumber\">7.9</span> <span class=\"toctext\">FIQHack</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-25\"><a href=\"#Messages_2\"><span class=\"tocnumber\">7.9.1</span> <span class=\"toctext\">Messages</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-26\"><a href=\"#xNetHack\"><span class=\"tocnumber\">7.10</span> <span class=\"toctext\">xNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-27\"><a href=\"#SpliceHack\"><span class=\"tocnumber\">7.11</span> <span class=\"toctext\">SpliceHack</span></a></li>\n<li class=\"toclevel-2 tocsection-28\"><a href=\"#notdNetHack\"><span class=\"tocnumber\">7.12</span> <span class=\"toctext\">notdNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-29\"><a href=\"#EvilHack\"><span class=\"tocnumber\">7.13</span> <span class=\"toctext\">EvilHack</span></a></li>\n<li class=\"toclevel-2 tocsection-30\"><a href=\"#GnollHack\"><span class=\"tocnumber\">7.14</span> <span class=\"toctext\">GnollHack</span></a></li>\n<li class=\"toclevel-2 tocsection-31\"><a href=\"#Hack.27EM\"><span class=\"tocnumber\">7.15</span> <span class=\"toctext\">Hack'EM</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-32\"><a href=\"#Encyclopedia_entry\"><span class=\"tocnumber\">8</span> <span class=\"toctext\">Encyclopedia entry</span></a></li>\n<li class=\"toclevel-1 tocsection-33\"><a href=\"#References\"><span class=\"tocnumber\">9</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Generation\">Generation</span></h2>\n<p>The up <a href=\"/wiki/Stairs\" class=\"mw-redirect\" title=\"Stairs\">stairs</a> to Sokoban is located from <a href=\"/wiki/Dungeon_level\" title=\"Dungeon level\">dungeon levels</a> 6 to 10 inclusive in the <a href=\"/wiki/Dungeons_of_Doom\" title=\"Dungeons of Doom\">Dungeons of Doom</a>, and is always one floor below the <a href=\"/wiki/Oracle_(level)\" title=\"Oracle (level)\">Oracle level</a>. Neither the level containing the Sokoban stairs nor the actual Sokoban levels are eligible for leaving or loading <a href=\"/wiki/Bones\" title=\"Bones\">bones</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Description\">Description</span></h2>\n<p>There are a total of 8 maps for Sokoban, with two for each of the four floors. The levels are ascending in dungeon depth (i.e., the 2nd level is above the 1st etc); however, monster difficulty increases as if descending to lower dungeon levels. Sokoban in <i>NetHack</i> is further complicated by the presence of <a href=\"/wiki/Monster\" title=\"Monster\">monsters</a> in the puzzles, so some concessions have been made:\n</p>\n<ul><li>Diagonal moves of the boulders are still not allowed, but the player character may move diagonally if there is space to do so, and may also attack, fire or cast spells diagonally.</li>\n<li>It is possible to create or destroy boulders (e.g. with a <a href=\"/wiki/Spellbook_of_force_bolt\" title=\"Spellbook of force bolt\">force bolt</a> or a <a href=\"/wiki/Wand_of_striking\" title=\"Wand of striking\">wand of striking</a>), as well as move over them in limited circumstances, but a <a href=\"/wiki/Luck\" title=\"Luck\">luck</a> penalty is applied for each offense.</li>\n<li>Other spells, wands and projectiles can be shot past boulders as normal.</li></ul>\n<p>If playing with text mode, you might want to change the <a href=\"/wiki/Options#boulder\" title=\"Options\">boulder symbol</a> to <span class=\"nhsym clr-lightgray\">0</span>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Level_descriptions\">Level descriptions</span></h3>\n<p>All walls in Sokoban are undiggable and block <a href=\"/wiki/Phasing\" title=\"Phasing\">phasing</a>; the floor is undiggable only on the first level. All levels are no-teleport, and it is impossible for the player to level-teleport between Sokoban levels. Each level is fully mapped upon arrival.\n</p><p>On each level, there is one random <a href=\"/wiki/Ring\" title=\"Ring\">ring</a>, one random <a href=\"/wiki/Wand\" title=\"Wand\">wand</a>, and four (stacks of) <a href=\"/wiki/Comestible\" title=\"Comestible\">comestibles</a> randomly placed around the map. Additionally, the final floor of the branch contains a <a href=\"/wiki/Treasure_zoo\" class=\"mw-redirect\" title=\"Treasure zoo\">treasure zoo</a> guarding a <a href=\"/wiki/Bag_of_holding\" title=\"Bag of holding\">bag of holding</a> or <a href=\"/wiki/Amulet_of_reflection\" title=\"Amulet of reflection\">amulet of reflection</a> in one of three <a href=\"/wiki/Closet\" title=\"Closet\">closets</a>, with an equal chance of each item.<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup><sup id=\"cite_ref-2\" class=\"reference\"><a href=\"#cite_note-2\">&#91;2&#93;</a></sup>) The prize sits on a burnt <a href=\"/wiki/Elbereth\" title=\"Elbereth\">Elbereth</a> and a cursed <a href=\"/wiki/Scroll_of_scare_monster\" title=\"Scroll of scare monster\">scroll of scare monster</a>, and both prize items are generated normally.\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p><p>Special levels, including Sokoban, may be flipped horizontally and/or vertically.\n</p>\nBoth prizes are no longer equally likely for each floor. Instead, floor 4a has a <sup>3</sup>&#8260;<sub>4</sub> chance (75%) of a bag of holding, and 4b has a <sup>3</sup>&#8260;<sub>4</sub> chance (75%) of an amulet of reflection.</div>\n<table class=\"prettytable\">\n<tbody><tr>\n<th>\n</th>\n<th>a\n</th>\n<th>b\n</th></tr>\n<tr>\n<th>1\n</th>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_1a\" title=\"Sokoban Level 1a\">Sokoban Level 1a</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#124;<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&lt;</span></a>&#124;<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>...&#45;&#45;&#45;....&#124;<br />&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#124;&#45;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>....<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;<br />&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#124;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;<br />&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#124;&#124;....&#124;.....&#124;<br />&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#124;&#45;&#45;&#45;&#45;&#45;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#45;&#45;&#45;&#124;<br />&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#124;&#160;&#160;&#160;&#160;&#124;......&#124;<br />&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#45;&#45;&#45;&#45;&#45;&#45;......&#124;<br />&#124;..<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;<br />&#124;<a href=\"/wiki/Scroll_of_earth\" title=\"Scroll of earth\"><span class=\"nhsym clr-white\">?</span></a><a href=\"/wiki/Scroll_of_earth\" title=\"Scroll of earth\"><span class=\"nhsym clr-white\">?</span></a>&#45;&#45;&#45;&#45;&#45;......&#124;<br />&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br /></span></div>\n</td>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_1b\" title=\"Sokoban Level 1b\">Sokoban Level 1b</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#160;<br />&#160;&#124;....&#124;&#160;&#160;&#124;...&#124;&#160;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#45;&#45;&#45;&#45;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>......<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;&#160;<br />&#160;&#124;..&#45;&#45;&#45;<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>&#45;&#45;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;<br />&#160;&#124;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;.&#45;&#45;&#45;<br />&#160;&#124;..<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&lt;</span></a>&#124;.....&#124;<br />&#160;&#124;..&#45;&#45;&#45;&#45;&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>....&#124;<br />&#160;&#45;&#45;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#124;&#160;&#160;&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;<br />&#160;&#160;&#124;<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a>&#45;&#45;&#45;&#45;&#45;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;<br />&#160;&#160;&#124;..<a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Pit\" title=\"Pit\"><span class=\"nhsym clr-darkgray\">^</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;<br />&#160;&#160;&#124;<a href=\"/wiki/Scroll_of_earth\" title=\"Scroll of earth\"><span class=\"nhsym clr-white\">?</span></a><a href=\"/wiki/Scroll_of_earth\" title=\"Scroll of earth\"><span class=\"nhsym clr-white\">?</span></a>&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#160;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br /></span></div>\n</td></tr>\n<tr>\n<th>2\n</th>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_2a\" title=\"Sokoban Level 2a\">Sokoban Level 2a</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#160;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#45;&#45;.<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;..........&#124;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#45;&#45;&#45;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;.&#124;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;..&#124;...&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;&#160;&#160;&#124;....<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&lt;</span></a>....&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>....<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#124;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;..&#124;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.&#45;&#45;&#45;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;&#45;.&#124;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;.&#45;&#45;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.&#45;&#45;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#124;<br />&#160;&#124;...&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a>.&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>......&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#45;&#45;&#45;&#45;&#45;..&#124;..&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br /></span></div>\n</td>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_2b\" title=\"Sokoban Level 2b\">Sokoban Level 2b</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#124;....&#124;....&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>&#124;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.....<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;....&#124;....&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;....<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&lt;</span></a>....&#124;<br />&#160;&#124;&#45;.&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;.....&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.....<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.........&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#124;<br />&#160;&#124;....&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a>.&#124;<br />&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br /></span></div>\n</td></tr>\n<tr>\n<th>3\n</th>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_3a\" title=\"Sokoban Level 3a\">Sokoban Level 3a</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#45;&#45;&#45;.&#124;....&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#124;...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>....&#124;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#124;.&#45;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;.&#124;.......&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;......&#124;.......&#124;<br />&#160;&#124;.&#45;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;...&#124;.......&#124;<br />&#160;&#124;....&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#124;...<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&lt;</span></a>...&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;.......&#124;<br />&#160;&#124;.&#45;&#45;...&#124;...&#124;.......&#124;<br />&#160;&#124;....&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;&#45;&#45;&#45;&#124;.......&#124;<br />&#160;&#45;&#45;&#45;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#124;<br />&#160;&#160;&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a>.&#124;<br />&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br /></span></div>\n</td>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_3b\" title=\"Sokoban Level 3b\">Sokoban Level 3b</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#124;........&#124;...&#124;.....&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;.&#45;.&#124;.....&#124;<br />&#160;&#124;..&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;.....&#124;<br />&#160;&#124;&#45;.&#124;..&#45;..&#124;.&#45;.&#124;..<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&lt;</span></a>..&#124;<br />&#160;&#124;...&#45;&#45;.......&#124;.....&#124;<br />&#160;&#124;...&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;...&#45;&#124;.....&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;...&#45;&#45;&#124;.....&#124;<br />&#160;&#124;&#45;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;..&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>....<a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a>.&#124;<br />&#160;&#124;...&#124;.<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br /></span></div>\n</td></tr>\n<tr>\n<th>4\n</th>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_4a\" title=\"Sokoban Level 4a\">Sokoban Level 4a</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#124;<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>......<a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a>.&#124;<br />&#160;&#124;.......&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;.&#124;<br />&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;.&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#160;&#124;...........&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;.&#45;&#45;&#45;&#45;&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#124;...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#124;...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>........&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#45;&#45;&#45;&#45;&#45;.&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#124;.&#124;<br />&#160;&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;&#160;&#160;&#45;&#45;&#124;.....&#124;.&#124;<br />&#160;&#160;&#124;.....<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>....&#124;&#160;&#160;&#124;.<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.....&#124;.&#124;<br />&#160;&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;&#45;&#160;&#160;&#124;&#45;&#124;.....&#124;.&#124;<br />&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;.&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#124;.<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.....<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.&#124;<br />&#160;&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.....&#124;&#160;&#160;&#160;&#160;&#160;&#124;&#45;&#124;.....&#124;&#45;&#45;<br />&#160;&#124;........&#124;&#160;&#160;&#160;&#160;&#160;&#124;.<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.....&#124;&#160;&#160;<br />&#160;&#124;...&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#124;.....&#124;&#160;&#160;<br />&#160;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;<br /></span></div>\n</td>\n<td valign=\"top\"><a href=\"/wiki/Sokoban_Level_4b\" title=\"Sokoban Level 4b\">Sokoban Level 4b</a><br />\n<div class=\"ttymap\"><span class=\"nhsym clr-lightgray\">&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br />&#160;&#160;&#160;&#124;..<a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a><a href=\"/wiki/Hole\" title=\"Hole\"><span class=\"nhsym clr-brown\">^</span></a>..&#124;<br />&#160;&#160;&#160;&#124;..&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;.&#124;<br />&#160;&#45;&#45;&#45;&#45;.&#124;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#124;..&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#45;&#160;&#160;&#45;&#45;...&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#124;.....&#124;&#45;&#45;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;..&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#45;&#45;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;...<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#124;.&#124;<br />&#160;&#160;&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#124;.&#124;<br />&#160;&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a><a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;..&#124;..<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#124;&#160;&#45;&#45;&#124;.....&#124;.&#124;<br />&#160;&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>&#45;&#45;&#45;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>.&#124;&#160;&#124;.<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.....&#124;.&#124;<br />&#160;&#160;&#124;.......&#124;..&#45;&#45;&#160;&#124;&#45;&#124;.....&#124;.&#124;<br />&#160;&#160;&#45;&#45;&#45;&#45;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>..&#124;.&#45;&#45;&#160;&#160;&#124;.<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.....<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.&#124;<br />&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;.&#45;&#45;.&#124;&#160;&#160;&#160;&#124;&#45;&#124;.....&#124;&#45;&#45;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#124;.<a href=\"/wiki/Boulder\" title=\"Boulder\"><span class=\"nhsym clr-lightgray\">0</span></a>...&#124;&#160;&#160;&#160;&#124;.<a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span></a>.....&#124;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#124;<a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span></a>.&#124;..&#124;&#160;&#160;&#160;&#45;&#45;&#124;.....&#124;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#160;&#160;<br /></span></div>\n</td></tr></tbody></table>\n<h3><span class=\"mw-headline\" id=\"Sokoban_and_luck\">Sokoban and luck</span></h3>\n<p>It is possible to solve every Sokoban level just by moving boulders around in the normal fashion - however, as mentioned above there are some actions that the original game does not allow that are legal in <i>NetHack</i>, but are considered \"cheating\" in some way and apply a -1 penalty to luck. Assuming the level is still unsolved, the following actions incur luck penalties in Sokoban:\n</p>\n<ul><li><a href=\"/wiki/Jumping\" title=\"Jumping\">Jumping</a> in any direction. (To avoid the penalty, press Escape when prompted where you want to jump.)</li>\n<li>Breaking a boulder.</li>\n<li>Squeezing past a boulder (or walking over one, when <a href=\"/wiki/Polymorph\" title=\"Polymorph\">polymorphed</a> into a monster that can <a href=\"/index.php?title=M2_ROCKTHROW&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"M2 ROCKTHROW (page does not exist)\">lift and throw boulders</a>).</li>\n<li>Casting <a href=\"/wiki/Stone_to_flesh\" class=\"mw-redirect\" title=\"Stone to flesh\">stone to flesh</a> on a boulder.</li>\n<li><a href=\"/wiki/Polymorph\" title=\"Polymorph\">Polymorphing</a> a boulder.</li>\n<li>Reading a <a href=\"/wiki/Scroll_of_earth\" title=\"Scroll of earth\">scroll of earth</a>.</li>\n<li>Being pulled by a thrown <a href=\"/wiki/Iron_ball\" class=\"mw-redirect\" title=\"Iron ball\">iron ball</a>.</li>\n<li>Hurtling through the air due to Newton's 3rd Law (i.e. throwing something while <a href=\"/wiki/Levitating\" class=\"mw-redirect\" title=\"Levitating\">levitating</a>).</li></ul>\n<p>The following actions do <i>not</i> incur a luck penalty when done in Sokoban:\n</p>\n<ul><li><a href=\"/wiki/Teleport\" class=\"mw-redirect\" title=\"Teleport\">Teleporting</a> a boulder (as this may move the boulder somewhere odd).</li>\n<li>Falling into a hole or pit.</li>\n<li>Polymorphing a <a href=\"/wiki/Statue\" title=\"Statue\">statue</a> into a boulder.</li>\n<li>Carrying a boulder into Sokoban while in the form of a monster that can do so, then dropping it.</li>\n<li>Digging your own pit or hole, or filling it with boulders.</li></ul>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nJumping, being pulled by a thrown iron ball, and hurtling no longer cause a luck penalty (since they don't actually allow you to move diagonally).</div>\n<h2><span class=\"mw-headline\" id=\"Strategy\">Strategy</span></h2>\n<p>In addition to learning how to best move boulders around and solve the puzzles with few or no errors, the climb up Sokoban is also complicated by the presence of monsters that can block the movement path of boulders or even risk breaking them.\n</p><p>For level-specific strategies, see the articles on the level maps linked above.\n</p>\n<h3><span class=\"mw-headline\" id=\"Puzzle\">Puzzle</span></h3>\n<ul><li>Think ahead. The entire level is mapped, and all the levels are solvable without \"cheating\", barring some unfortunate monster generation.</li>\n<li>Not all of the boulders have to be used - regardless, try to keep enough of them open to fill all the pits.</li>\n<li>You can use a text editor, grid paper or other resource to try to work out the solutions before actually attempting them in-game.</li>\n<li>If you want to try out something, push the boulders only in ways you can undo - never create a square of four boulders, or two neighbors against a wall.</li>\n<li>Be careful - a typo may render a boulder immobile against the wall. Try to move diagonally or with the <a href=\"/wiki/Travel\" title=\"Travel\">goto-key (underscore)</a> whenever possible, as these commands will not push a boulder.</li>\n<li>If a hole is open, falling through it to the level below lets you get back to the stairs. This can be useful in certain situations where a boulder is pushed the wrong way.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Monster-puzzle_interaction\">Monster-puzzle interaction</span></h3>\n<ul><li>Check whether there are monsters in front of the pits.</li>\n<li>Use a magic whistle for pets, or leave them behind one level, and visit their level every 74 turns or less to avoid them losing tameness points. Alternatively, known-cursed items can help keep pets out of the pit area.</li>\n<li>Be aware of mimics imitating boulders. Unlike real boulders, mimics will not appear until they are in your line of sight, but a space containing a boulder may also contain a mimic mimicking a boulder, if that makes sense. You can move diagonally between mimicked boulders.</li></ul>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/3.7.0\" class=\"mw-redirect\" title=\"3.7.0\">3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p><p>Displacement of peaceful monsters is now possible, making it much easier to move them out of the path.\n</p>\nPer <a class=\"external text\" href=\"https://github.com/NetHack/NetHack/commit/d4ac146c5f8bf28d5553300e08e5addf13a96405\">commit d4ac146c</a>, pets will attempt to avoid locations where boulders can be pushed.</div>\n<h3><span class=\"mw-headline\" id=\"Stuck_boulders\">Stuck boulders</span></h3>\n<ul><li>If you must take a luck penalty, do so as early as possible. Put away any <a href=\"/wiki/Gray_stone\" title=\"Gray stone\">gray stones</a> that might be <a href=\"/wiki/Luckstone\" title=\"Luckstone\">luckstones</a>, unless you are sure that your natural luck is positive. The sooner you take that luck penalty, the more likely it will have timed out the next time you encounter a critical luck-influenced event, such as needing to <a href=\"/wiki/Pray\" class=\"mw-redirect\" title=\"Pray\">pray</a>.</li>\n<li>If you mistakenly moved a boulder between yourself and the stairs from the previous level, dig down to create a hole and fall through (no penalty). Be sure to choose a safe place to dig. You may wish to use a spare boulder to fill the hole afterward.</li>\n<li>Destroy a boulder with a <a href=\"/wiki/Pick-axe\" title=\"Pick-axe\">pick-axe</a>, <a href=\"/wiki/Spellbook_of_force_bolt\" title=\"Spellbook of force bolt\">force bolt</a>, or <a href=\"/wiki/Wand_of_striking\" title=\"Wand of striking\">wand of striking</a> (luck penalty). Be careful not to destroy too many boulders.</li>\n<li>Drop everything in your inventory (including armor) and squeeze into the same square as a boulder. This will help you separate boulders stuck together, but not a boulder stuck against a wall. This way, you can also kill monsters trapped between boulders and holes which block the way (luck penalty).</li>\n<li><a href=\"/wiki/Polymorph\" title=\"Polymorph\">Polymorph</a> into a <a href=\"/wiki/Giant\" title=\"Giant\">giant</a> and step over boulders (luck penalty). You still cannot lift them, however; neither can monsters.</li>\n<li>Summon more boulders with a <a href=\"/wiki/Scroll_of_earth\" title=\"Scroll of earth\">scroll of earth</a> (luck penalty). Two scrolls can be found on the first Sokoban level. A non-cursed scroll will summon multiple boulders, possibly making the situation worse.</li>\n<li>Drop a wand of striking so that a monster picks it up, and position yourself between that monster and the boulder you want destroyed, in hopes that the monster will destroy the boulder for you; this incurs no luck penalty.</li>\n<li>If the boulder is stuck because of a monster behind it, shoot <a href=\"/wiki/Projectile\" title=\"Projectile\">projectiles</a> or spells past the boulder to kill the monster. Be sure the monster in question is not peaceful - note that no peaceful humans can be generated in Sokoban.\n<ul><li>An <a href=\"/wiki/Aklys\" title=\"Aklys\">aklys</a> is the ideal choice, as it returns to your hand for repeated throwing, and can easily be obtained from the <a href=\"/wiki/Gnome_(monster_class)\" title=\"Gnome (monster class)\">gnomes</a> in the <a href=\"/wiki/Gnomish_Mines\" title=\"Gnomish Mines\">Mines</a>. Note that there is a <sup>1</sup>&#8260;<sub>100</sub> chance of it failing to return, so have a spare or some other solution available.</li>\n<li>If the monster is a coaligned <a href=\"/wiki/Unicorn\" title=\"Unicorn\">unicorn</a>, you risk a large luck penalty for killing it; if you determine by whatever means that the monster is a coaligned unicorn, you can toss gems to it to compensate for the inevitable luck hit. Sokoban is no-teleport, so the unicorn cannot leave of its own accord. Also, you cannot kill unicorns with rocks, an easily accessible missile weapon.</li>\n<li>Force bolts and the wand of striking will destroy boulders, but other methods are safe. <a href=\"/wiki/Pacifist\" title=\"Pacifist\">Pacifists</a> may want to strip naked and <a href=\"/wiki/Displace\" class=\"mw-redirect\" title=\"Displace\">displace</a> their <a href=\"/wiki/Pet\" title=\"Pet\">pet</a> onto the <a href=\"/wiki/Boulder\" title=\"Boulder\">boulder</a>. If you have a <a href=\"/wiki/Magic_whistle\" title=\"Magic whistle\">magic whistle</a>, you can stand next to the boulder and apply the whistle until your pet appears on the other side of the boulder. Let your pet kill the obstructing monster and then use the whistle to get them out of the way.</li></ul></li>\n<li>Hit the boulder with a <a href=\"/wiki/Wand_of_teleport\" class=\"mw-redirect\" title=\"Wand of teleport\">wand of teleport</a> (no luck penalty) after you finish as many other boulders as possible. While the new location may not be better than the old one, it often can't be much worse.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Items\">Items</span></h3>\n<ul><li>Upon completion, check under unmoved boulders for useful items.</li>\n<li>The first level contains two guaranteed scrolls of earth; remember to #<a href=\"/wiki/Name\" title=\"Name\">name</a> them as such as soon as you find them. Some monsters will read scrolls of earth, especially <a href=\"/wiki/Nymph\" title=\"Nymph\">nymphs</a> that can pluck the scroll from your inventory; however, most monsters only have a <sup>1</sup>&#8260;<sub>10</sub> chance of doing so unless they have a hard helm on.</li>\n<li>Sokoban is an excellent place to stock up on comestibles and other loot. If you are dealing with <a href=\"/wiki/Encumbrance\" title=\"Encumbrance\">encumbrance</a> issues or otherwise trying to manage your inventory, simply leave the food items on the floor and eat them only when you need to. On the other hand, grab every scroll and wand you see; at the least, doing so means a monster will not be able to pick them up and use them to your disadvantage.\n<ul><li>Items can sometimes be generated over holes. Pushing a boulder over the hole will bury the item. If you wish to retrieve the item instead, you may:\n<ul><li>Kick the item away; it will usually fall down another hole and appear somewhere on the level below. This will destroy the item if it is fragile, and on the top level will wake the monsters in the zoo.</li>\n<li>Repeatedly step on the space containing the item; it will eventually fall down with you, although not necessarily onto your space. This will never break the item.</li>\n<li>Turn on <a href=\"/wiki/Autopickup\" title=\"Autopickup\">autopickup</a> and step on the space containing the item; you will pick it up before you fall. Beware of <a href=\"/wiki/Loadstone\" title=\"Loadstone\">loadstones</a>, both over the hole and on the levels below. You can use <a href=\"/wiki/Pickup_types\" class=\"mw-redirect\" title=\"Pickup types\">pickup_types</a> or <a href=\"/wiki/Autopickup_exception\" title=\"Autopickup exception\">autopickup exception</a> to limit yourself to only picking up the type of item you are trying to grab.</li>\n<li>Use a grappling hook.</li></ul></li>\n<li>Monsters can attack you with the guaranteed <a href=\"/wiki/Wand\" title=\"Wand\">wand</a> if applicable. If you have not already found it, be careful clearing the <a href=\"/wiki/Zoo\" title=\"Zoo\">zoo</a>, e.g. send your <a href=\"/wiki/Pet\" title=\"Pet\">pet</a> in without entering line of fire.</li></ul></li>\n<li>If you reach the end of the branch and do not see the prize, it is probable that some <span class=\"nhsym clr-white\">@</span> found the amulet of reflection and picked it up. Be sure to claim the amulet immediately after killing said monster, since you don't want your new amulet of reflection to become a snack for a <a href=\"/wiki/Rust_monster\" title=\"Rust monster\">rust monster</a> or <a href=\"/wiki/Rock_mole\" title=\"Rock mole\">rock mole</a>. Nothing will ever pick up the bag of holding, however.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Stash_location\">Stash location</span></h3>\n<p>Once completed, the first level of Sokoban is often used as a <a href=\"/wiki/Stash\" title=\"Stash\">stash</a> level, for several reasons:\n</p>\n<ul><li><a href=\"/wiki/The_Eye_of_the_Aethiopica\" title=\"The Eye of the Aethiopica\">The Eye of the Aethiopica</a> can teleport the hero there instantly.</li>\n<li>It is conveniently located one level below the Oracle's dwelling, 2-8 levels from the <a href=\"/wiki/Gnomish_Mines\" title=\"Gnomish Mines\">Gnomish Mines</a>, and located in the top half of the <a href=\"/wiki/Dungeons_of_Doom\" title=\"Dungeons of Doom\">Dungeons of Doom</a>, where shops and altars are likely.</li>\n<li>It is relatively free of monsters, and is biased toward neutral monsters, including less-dangerous baby monsters.</li>\n<li>There are spare boulders which can be used to further block off a <a href=\"/wiki/Safe_area\" title=\"Safe area\">safe area</a>.</li>\n<li>There is a long corridor which can be used for <a href=\"/wiki/Polypiling\" title=\"Polypiling\">polypiling</a>.</li>\n<li>If there is an <a href=\"/wiki/Altar\" title=\"Altar\">altar</a> nearby, Sokoban can be used to control luck and avoid <a href=\"/wiki/Crowning\" title=\"Crowning\">crowning</a> during altar farming.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Out-of-game_practice\">Out-of-game practice</span></h3>\n<p><a class=\"external text\" href=\"http://github.com/hackedhead/nhss\">nhss</a> (originally by IanK of <a class=\"external text\" href=\"http://iank.org/\">iank.org</a>) is a C/terminal tool that sets up a Nethack-like environment (basic movement and boulder pushing only) that can be used to figure a level out before actually playing it, thus reducing the chances of rendering a level unsolvable. It can also record sessions and play them back step by step.\n</p><p>Unaffiliated but related to nhss, <a class=\"external text\" href=\"http://www.electricmonk.nl/Miscellaneous/Nethack\">Nethack's Sokoban levels for various Sokoban implementations</a> (XSok, Sokoban++, YSokoban, Universal Sokoban format and Games 4 Brains Sokoban format) which you can use to practice the levels in other Sokoban games.\n</p><p>Even more unaffiliated with any of the above, <a class=\"external text\" href=\"http://joshua.tejat.net/private/public/nh-soko.zip\">Nethack's Sokoban levels</a> for <a class=\"external text\" href=\"http://www.nongnu.org/enigma/\">Enigma</a>.\n</p><p><a class=\"external text\" href=\"https://play.google.com/store/apps/details?id=com.tbd.NetHack\">The Nethack Android port by gurr</a> with using <a href=\"/wiki/Wizard_mode\" title=\"Wizard mode\">Wizard mode</a> can be done for practising on mobile. Use the <a href=\"/wiki/Wizard_mode#Commands\" title=\"Wizard mode\">level teleport option</a>, go to the entry to Sokoban, and use the recreate map option if the player needs to try again. \n</p><p>Some other online web app links are listed below:\n</p>\n<ul><li><a class=\"external text\" href=\"http://nhss.twonegatives.com/\">An unaffiliated version of nhss</a>, also called NHSS</li>\n<li><a class=\"external text\" href=\"https://nethackathon.org/annotate\">Annotate</a> - by disperse, meant as a companion web app for Nethack, allows Sokoboan practice among other things. It allows you flip the levels for practice with the level flipping introduced in <a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>, and records user solutions.</li>\n<li><a class=\"external text\" href=\"https://dispersemedia.com/sokoban/\">An alternative domain link</a> to just the standalone Sokoban app by disperse.</li>\n<li><a class=\"external text\" href=\"https://web.archive.org/web/20200131120459/http://www.erimsever.com:80/sokoban.htm\">Sokoban Erim via Wayback Archive - a comprehensive collection of Sokoban resources</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"History\">History</span></h2>\n<p>Sokoban first appears in <a href=\"/wiki/NetHack_3.3.0\" title=\"NetHack 3.3.0\">NetHack 3.3.0</a>. From this version to <a href=\"/wiki/NetHack_3.4.3\" title=\"NetHack 3.4.3\">NetHack 3.4.3</a>, including some variants based on these versions, luck penalties apply for <a href=\"#Sokoban_and_luck\">most of the aforementioned actions</a> minus jumping, even if the level is solved. In addition, the prize for the last Sokoban level does not have a cursed scroll of scare monster present, and depends on which final level map was generated: Sokoban Level 4a always has a bag of holding, and Sokoban Level 4b always has an amulet of reflection.\n</p><p>Starting in <a href=\"/wiki/NetHack_3.6.0\" title=\"NetHack 3.6.0\">NetHack 3.6.0</a>, the current rules regarding luck and boulder movement are applied, the cursed scroll of scare monster is generated on the prize square, and both final levels have a <sup>1</sup>&#8260;<sub>2</sub> chance (50%) of either prize item.\n</p>\n<h2><span class=\"mw-headline\" id=\"Origin\">Origin</span></h2>\n<div class=\"noprint sidebox\">\n<div style=\"float: left;\"><div class=\"floatnone\"><a href=\"/wiki/File:Fair-use-wikipedia-logo.png\" class=\"image\" title=\"Wikipedia\"><img alt=\"Wikipedia\" src=\"/images/thumb/f/f8/Fair-use-wikipedia-logo.png/50px-Fair-use-wikipedia-logo.png\" width=\"50\" height=\"50\" srcset=\"/images/f/f8/Fair-use-wikipedia-logo.png 1.5x\" /></a></div></div>\n<div style=\"margin-left: 60px;\"><a href=\"http://en.wikipedia.org/wiki/Main_Page\" class=\"extiw\" title=\"wikipedia:Main Page\">Wikipedia</a> has an article about:\n<div style=\"margin-left: 10px;\"><i><b><a href=\"http://en.wikipedia.org/wiki/Special:Search/Sokoban\" class=\"extiw\" title=\"wikipedia:Special:Search/Sokoban\">Sokoban </a></b></i></div>\n</div>\n</div>\n<p><i>Sokoban</i> is a video game created in 1981 by Hiroyuki Imabayashi, with the first commercial release published in December 1982 by Thinking Rabbit, a software house based in Takarazuka, Japan. Sokoban was a hit in Japan, where it sold more than 400,000 copies before being released in the United States in 1988, where it was published by Spectrum HoloByte for the Commodore 64, IBM PC compatibles, Amiga, and Apple II as Soko-Ban.\n</p><p>The presence of three doors in the treasure zoo with a prize behind one of them, is possibly a reference to the <a href=\"http://en.wikipedia.org/wiki/Monty_Hall_Problem\" class=\"extiw\" title=\"wikipedia:Monty Hall Problem\">Monty Hall Problem</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Messages\">Messages</span></h2>\n<dl><dt><span id=\"The_boulder_won.27t_move_diagonally_on_this_floor.\">The boulder won't move diagonally on this floor.</span></dt>\n<dd>You attempted to push a boulder diagonally on an unsolved floor.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"Variants\">Variants</span></h2>\n<p>Most variants of <i>NetHack</i> attempt to improve upon the Sokoban experience in some form, on top of often adding new Sokoban levels:\n</p>\n<ul><li>Some variants, such as <a href=\"/wiki/SporkHack\" title=\"SporkHack\">SporkHack</a> and <a href=\"/wiki/UnNetHack\" title=\"UnNetHack\">UnNetHack</a>, apply the <a class=\"external text\" href=\"https://bilious.alt.org/?254\">level-flipping patch</a> to Sokoban.</li>\n<li>Variants that contain <a href=\"/wiki/Magic_chest\" title=\"Magic chest\">magic chests</a> place one at the beginning or end of Sokoban to aid players who use it as a stash level.</li></ul>\n<h3><span id=\"SLASH'EM\"></span><span class=\"mw-headline\" id=\"SLASH.27EM\">SLASH'EM</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Sokoban_(SLASH%27EM)\" title=\"Sokoban (SLASH&#39;EM)\">Sokoban (SLASH'EM)</a></i></div></dd></dl>\n<p>In <a href=\"/wiki/SLASH%27EM\" title=\"SLASH&#39;EM\">SLASH'EM</a>, the rules are the same as in <a href=\"/wiki/NetHack_3.4.3\" title=\"NetHack 3.4.3\">NetHack 3.4.3</a>, with 15 new possible levels - the final level has the usual <sup>1</sup>&#8260;<sub>2</sub> chance of either a bag of holding or an amulet of reflection at the end, dependent on the level generated. Ordinary <a href=\"/wiki/Sack\" title=\"Sack\">sacks</a> and <a href=\"/wiki/Oilskin_sack\" title=\"Oilskin sack\">oilskin sacks</a> can be upgraded to a bag of holding in SLASH'EM, typically making the amulet the more desirable prize.\n</p><p>Some of the new Sokoban levels have <a href=\"/wiki/Iron_bars\" title=\"Iron bars\">iron bars</a> - a <a href=\"/wiki/Doppelganger_(starting_race)\" title=\"Doppelganger (starting race)\">doppelganger</a> character can <a href=\"/wiki/Liquid_leap\" title=\"Liquid leap\">liquid leap</a> through them, though this will incur a luck penalty, and the bars cannot be crossed by any other means (e.g., by polyself into a small or <a href=\"/wiki/Slithy\" title=\"Slithy\">slithy</a> monster such as a <a href=\"/wiki/Snake\" title=\"Snake\">snake</a>).\n</p><p>Several public server versions of SLASH'EM include a patch that adds the <a href=\"/wiki/Acid_hound\" title=\"Acid hound\">acid hound</a>, which corrodes the floor to create pits when killed; these can be very troublesome if they appear in Sokoban, as they may make solving the level impossible without using a scroll of earth.\n</p>\n<h3><span class=\"mw-headline\" id=\"NetHack_brass\">NetHack brass</span></h3>\n<p><a href=\"/wiki/NetHack_brass\" title=\"NetHack brass\">NetHack brass</a> does not change or add any layouts for Sokoban levels, but instead has a choice between the amulet of reflection, a <a href=\"/wiki/Cloak_of_magic_resistance\" title=\"Cloak of magic resistance\">cloak of magic resistance</a>, and a bag of holding as the prize item. All monsters will avoid stepping on or touching the items, preventing abuse via using pets to retrieve unchosen prizes.\n</p><p>Non-<a href=\"/wiki/Artifact\" title=\"Artifact\">artifact</a> items that provide <a href=\"/wiki/Magic_resistance\" title=\"Magic resistance\">magic resistance</a> or <a href=\"/wiki/Reflection\" title=\"Reflection\">reflection</a> can wear out and disintegrate from resisting or reflecting enough times, making it a good idea to carry a spare source. The bag remains a good choice for characters that already have \"permanent\" and/or redundant options for both properties.\n</p>\n<h3><span class=\"mw-headline\" id=\"GruntHack\">GruntHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/index.php?title=Sokoban_(GruntHack)&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Sokoban (GruntHack) (page does not exist)\">Sokoban (GruntHack)</a></i></div></dd></dl>\n<p><a href=\"/wiki/GruntHack\" title=\"GruntHack\">GruntHack</a> adds some new Sokoban levels, and offers a choice between the amulet of reflection, a cloak of magic resistance, and a bag of holding as the prize item, similar to NetHack brass. If one of the prize closet doors is opened or kicked down, the others will seal; a means of identifying the closet containing the desired item, such as a <a href=\"/wiki/Potion_of_object_detection\" title=\"Potion of object detection\">potion of object detection</a>, is recommended.\n</p><p>GruntHack also implements player displacement of peaceful monsters, making herding them out of the path of boulders considerably easier.\n</p>\n<h3><span class=\"mw-headline\" id=\"SporkHack\">SporkHack</span></h3>\n<p>In <a href=\"/wiki/SporkHack\" title=\"SporkHack\">SporkHack</a>, Sokoban rules are mostly unchanged from NetHack 3.4.3, though each final level has an equal probability of the prize being an amulet of reflection or a bag of holding. Sporkhack also has displacement for peaceful monsters.\n</p>\n<h3><span class=\"mw-headline\" id=\"UnNetHack\">UnNetHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Sokoban_(UnNetHack)\" title=\"Sokoban (UnNetHack)\">Sokoban (UnNetHack)</a></i></div></dd></dl>\n<p>UnNetHack introduces new Sokoban levels as well, and additionally shortens the branch to three levels&#8212;the vanilla maps for levels one and two may all be used to create level one.\n</p><p>From UnNetHack 4.1.1 onwards, cheating in Sokoban does not incur a luck penalty, and solving Sokoban without cheating is instead tracked as a <a href=\"/wiki/Conduct\" title=\"Conduct\">conduct</a>; as of UnNetHack 6, solving Sokoban without cheating increases luck by 1 point. To compensate, the scrolls of earth typically found on the first level are not guaranteed.\n</p><p>The final level always has a bag of holding, a cloak of magic resistance or <a href=\"/wiki/Cloak_of_displacement\" title=\"Cloak of displacement\">displacement</a>, and an amulet of reflection, <a href=\"/wiki/Amulet_of_life_saving\" title=\"Amulet of life saving\">life saving</a>&#32;or <a href=\"/wiki/Amulet_of_flying\" title=\"Amulet of flying\">flying</a> as the prize choices, all of which are placed on a burnt Elbereth. When one of these objects is picked up, the other two are destroyed. The prize items are temporarily type-identified while in direct line of sight, allowing for a more informed decision.\n</p>\n<h3><span class=\"mw-headline\" id=\"dNetHack\">dNetHack</span></h3>\n<p>In <a href=\"/wiki/DNetHack\" title=\"DNetHack\">dNetHack</a>, Sokoban rules and maps are mostly unchanged from NetHack 3.4.3, but the boulders are replaced with <a href=\"/index.php?title=Massive_stone_crate&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Massive stone crate (page does not exist)\">massive stone crates</a>, which behave similar to boulders and contain food - the food is released from the crate when pushed into the pits or holes within Sokoban, and the crates can be broken like boulders to access the food (though this carries a luck penalty due to the ruleset). dNetHack also places a <a href=\"/wiki/Magic_chest_(dNetHack)\" title=\"Magic chest (dNetHack)\">magic chest</a> in one of the closets beyond the treasure zoo at the top floor.\n</p><p>Pets that are left in Sokoban will not lose tameness.\n</p>\n<h3><span class=\"mw-headline\" id=\"DynaHack\">DynaHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/index.php?title=Sokoban_(DynaHack)&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Sokoban (DynaHack) (page does not exist)\">Sokoban (DynaHack)</a></i></div></dd></dl>\n<p>Sokoban in <a href=\"/wiki/DynaHack\" title=\"DynaHack\">DynaHack</a> has three floors and uses maps from both UnNetHack and SLASH'EM, among other variants. The random rings and wands that are normally scattered in Sokoban are instead placed within a sack on Sokoban's final level, with the standard prizes moved to <a href=\"/wiki/Mines%27_End\" title=\"Mines&#39; End\">Mines' End</a>, making the Sokoban branch more optional.\n</p><p>The prize selection is derived from earlier versions of UnNetHack: the choices are a bag of holding, a cloak of magic resistance or <a href=\"/wiki/Cloak_of_displacement\" title=\"Cloak of displacement\">displacement</a>, and an amulet of reflection, <a href=\"/wiki/Amulet_of_life_saving\" title=\"Amulet of life saving\">life saving</a>&#32;or <a href=\"/wiki/Amulet_of_ESP\" title=\"Amulet of ESP\">ESP</a>. \n</p>\n<h3><span class=\"mw-headline\" id=\"NetHack_Fourk\">NetHack Fourk</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Sokoban_(NetHack_Fourk)\" title=\"Sokoban (NetHack Fourk)\">Sokoban (NetHack Fourk)</a></i></div></dd></dl>\n<p><a href=\"/wiki/NetHack_Fourk\" title=\"NetHack Fourk\">NetHack Fourk</a> gives a name to each Sokoban level, and contains quite a few quality-of-life changes which are non-exhaustively listed below:\n</p>\n<ul><li>If a peaceful monster would spawn in Sokoban, it is generated hostile instead. Thus, it is safer to kill unknown monsters that are blocking boulder movements.</li>\n<li>Sokoban luck penalties can only lower luck to a minimum of -3, and .</li>\n<li>Luck penalties do not apply when you have a non-cursed luckstone.</li>\n<li>Luck penalties do not apply when you are hallucinating, but a boulder will hit you for 1d12 damage.</li>\n<li>There are a number of additional Sokoban levels. Player feedback suggests that these are on average easier than the vanilla levels.</li>\n<li>Two of the new final Sokoban levels have a sack which contains rings of <a href=\"/wiki/Ring_of_teleport_control\" title=\"Ring of teleport control\">teleport control</a>&#32;and <a href=\"/wiki/Ring_of_polymorph_control\" title=\"Ring of polymorph control\">polymorph control</a> and a third random ring. If you already have either of those rings, you might receive other jewellery.</li>\n<li>In the other final levels endings, if you already have reflection, the Soko prize will not be an amulet of reflection; if you already have a bag of holding, the prize is likely to be an amulet of reflection. In either case, or if you already have both items, the prize might be a simple oilskin sack.</li>\n<li>To help pacifists, completing Sokoban without cheating grants one <a href=\"/wiki/Experience_level\" title=\"Experience level\">experience level</a>.</li>\n<li>To make Sokoban more skippable, <a href=\"/wiki/Perseus\" title=\"Perseus\">Perseus</a>'s statue always contains the <a href=\"/wiki/Shield_of_reflection\" title=\"Shield of reflection\">shield of reflection</a> and the sack.</li></ul>\n<h3><span class=\"mw-headline\" id=\"FIQHack\">FIQHack</span></h3>\n<p>In <a href=\"/wiki/FIQHack\" title=\"FIQHack\">FIQHack</a>, all pits on the first level of Sokoban are converted to holes, which lead back to the main dungeon floor containing Sokoban's branch stairs - the floor also contains a <a href=\"/wiki/Magic_chest_(FIQHack)\" title=\"Magic chest (FIQHack)\">magic chest</a>.\n</p><p>The rules for Sokoban are more similar to vanilla <i>NetHack</i> than 3.4.3, and prints a message once the level is solved. Additionally, monsters that would generate as peaceful otherwise are hostile if created in Sokoban, and co-aligned unicorns are not generated - this is done in order to avoid creating scenarios where a character must risk a major luck or alignment penalty, so they can more safely kill unknown monsters that generate in the path of their boulder movements.\n</p>\n<h4><span class=\"mw-headline\" id=\"Messages_2\">Messages</span></h4>\n<dl><dt><span id=\"You_feel_some_arcane_magic_being_lifted_from_the_area.\">You feel some arcane magic being lifted from the area.</span></dt>\n<dd>A Sokoban level was solved.</dd></dl>\n<h3><span class=\"mw-headline\" id=\"xNetHack\">xNetHack</span></h3>\n<p><a href=\"/wiki/XNetHack\" title=\"XNetHack\">xNetHack</a> uses the same maps, rules and layouts for Sokoban as vanilla <i>NetHack</i>, with the removal of flipped Sokoban levels introduced in the upcoming NetHack 3.7.0 due to the change's unpopularity.\n</p>\n<h3><span class=\"mw-headline\" id=\"SpliceHack\">SpliceHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/index.php?title=Sokoban_(SpliceHack)&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Sokoban (SpliceHack) (page does not exist)\">Sokoban (SpliceHack)</a></i></div></dd></dl>\n<p><a href=\"/wiki/SpliceHack\" title=\"SpliceHack\">SpliceHack</a> adds a few new levels from other variants for Sokoban: for those that have an equal number of pits/holes and boulders, a hole or pit is removed in order to create a spare boulder and make them less difficult. SpliceHack also has different versions of levels 2a and 2b that replace the boulders with explosive monsters such as <a href=\"/wiki/Gas_spore\" title=\"Gas spore\">gas spores</a> and <a href=\"/wiki/Flaming_sphere\" title=\"Flaming sphere\">flaming spheres</a>.\n</p>\n<h3><span class=\"mw-headline\" id=\"notdNetHack\">notdNetHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/Lokoban\" title=\"Lokoban\">Lokoban</a></i></div></dd></dl>\n<p>In <a href=\"/wiki/NotdNetHack\" title=\"NotdNetHack\">notdNetHack</a> and <a href=\"/wiki/NotnotdNetHack\" title=\"NotnotdNetHack\">notnotdNetHack</a>, Sokoban is replaced with <a href=\"/wiki/Lokoban\" title=\"Lokoban\">Lokoban</a>, a single-floor branch that has a much simpler challenge but much less in the way of loot.\n</p>\n<h3><span class=\"mw-headline\" id=\"EvilHack\">EvilHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/index.php?title=Sokoban_(EvilHack)&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Sokoban (EvilHack) (page does not exist)\">Sokoban (EvilHack)</a></i></div></dd></dl>\n<p>In <a href=\"/wiki/EvilHack\" title=\"EvilHack\">EvilHack</a>, several level maps from SLASH'EM, GruntHack, UnNetHack, and other variants are added for Sokoban.\n</p><p>On the final level, all three closets in the Sokoban zoo have a prize behind each door, but you will not be able to tell exactly what that prize is until you pick it up - you can learn the object type of the prize behind each door via some form of item detection, e.g. <a href=\"/wiki/Quaff\" title=\"Quaff\">quaffing</a> a potion of object detection or reading a non-cursed <a href=\"/wiki/Scroll_of_magic_detection\" title=\"Scroll of magic detection\">scroll of magic detection</a>. Like GruntHack, the doors are made impenetrable to prevent taking more than one prize: once one door is opened, the other two doors disappear and are replaced with a sealed wall; despite this, the doors can still be broken, e.g. by a giant. When you pick up one of the prizes, the other two will magically disappear regardless of whether or not the doors were opened.\n</p><p>There are two different items of each type that can spawn behind each door, with an equal probability of each item:\n</p>\n<ul><li>Sokoban prize armor &#8211; <a href=\"/wiki/Gauntlets_of_protection\" title=\"Gauntlets of protection\">gauntlets of protection</a> or a <a href=\"/wiki/Helm_of_speed\" title=\"Helm of speed\">helm of speed</a></li>\n<li>Sokoban prize amulet &#8211; an amulet of reflection or an <a href=\"/wiki/Amulet_of_magic_resistance\" title=\"Amulet of magic resistance\">amulet of magic resistance</a></li>\n<li>Sokoban prize tool &#8211; a bag of holding or a <a href=\"/wiki/Magic_marker\" title=\"Magic marker\">magic marker</a></li></ul>\n<p>Since magic markers do not generate randomly, Sokoban is potentially one of a few locations in the game where a marker can be found.\n</p>\n<h3><span class=\"mw-headline\" id=\"GnollHack\">GnollHack</span></h3>\n<p>In <a href=\"/wiki/GnollHack\" title=\"GnollHack\">GnollHack</a>, Sokoban is largely the same as in NetHack 3.6.2 except for the top floor: there is an additional room accessible from the zoo where a mage resides. He sells items, teaches spells and provides other services (such as performing incantations) for a fee.\n</p>\n<h3><span id=\"Hack'EM\"></span><span class=\"mw-headline\" id=\"Hack.27EM\">Hack'EM</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/index.php?title=Sokoban_(Hack%27EM)&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Sokoban (Hack&#39;EM) (page does not exist)\">Sokoban (Hack'EM)</a></i></div></dd></dl>\n<p><a href=\"/wiki/Hack%27EM\" title=\"Hack&#39;EM\">Hack'EM</a> imports several maps from SLASH'EM, SlashTHEM, Fourk and other variants for Sokoban, and all levels have been given Fourk-style names to make them easier to reference. The prizes given are also the same as in EvilHack, with the same rules concerning their identities.\n</p>\n<h2><span class=\"mw-headline\" id=\"Encyclopedia_entry\">Encyclopedia entry</span></h2><div class=\"nhencyclopedia\">\n<div class=\"poem\">\n<p>Sokoban (Japanese for \"warehouse keeper\") is a transport puzzle<br />\nin which the player pushes boxes around a maze, viewed from<br />\nabove, and tries to put them in designated locations.  Only one<br />\nbox may be pushed at a time, not two, and boxes cannot be pulled.<br />\nAs the puzzle would be extremely difficult to create physically,<br />\nit is usually implemented as a video game.<br />\n<br />\nSokoban was created in 1982 by Hiroyuki Imabayashi, and was<br />\npublished by Thinking Rabbit, a software house based in<br />\nTakarazuka, Japan.  Thinking Rabbit also released three sequels:<br />\nBoxxle, Sokoban Perfect and Sokoban Revenge.<br />\n</p>\n<div style=\"text-align:right\">[ Wikipedia, the free encyclopedia ] </div>\n</div></div>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-1\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/sokoban.des#L530\">dat/sokoban.des in NetHack 3.6.7, line 530</a>\n     </span>\n</li>\n<li id=\"cite_note-2\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-2\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/dat/sokoban.des#L631\">dat/sokoban.des in NetHack 3.6.7, line 631</a>\n     </span>\n</li>\n</ol></div>\n<div style=\"display:none; right:44px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\"><img alt=\"This article has been updated to reflect NetHack 3.6.7. Click here for more information.\" src=\"/images/f/f7/Nh367-icon.png\" width=\"32\" height=\"32\" /></a></div></div>\n<div style=\"display:none; right:10px;\" class=\"metadata topicon nopopups\" id=\"featured-star\"><div style=\"margin-top: 0px\"><a href=\"/wiki/NetHackWiki:Featured_articles\" title=\"This is a featured article. Click here for more information.\"><img alt=\"This is a featured article. Click here for more information.\" src=\"/images/6/60/LinkFA-star.png\" width=\"15\" height=\"15\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240924201909\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.143 seconds\nReal time usage: 0.369 seconds\nPreprocessor visited node count: 2692/1000000\nPreprocessor generated node count: 10213/1000000\nPost‐expand include size: 22042/2097152 bytes\nTemplate argument size: 4261/2097152 bytes\nHighest expansion depth: 10/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 1/20\nUnstrip post‐expand size: 16004/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%  240.687      1 -total\n 43.19%  103.951    148 Template:Lightgray\n 12.25%   29.493      9 Template:Main\n  7.57%   18.221      3 Template:Upcoming\n  6.94%   16.706      1 Template:Level\n  6.72%   16.179      1 Template:=_of\n  5.64%   13.578      1 Template:Encyclopedia\n  4.94%   11.899      1 Template:Nethack-367\n  4.25%   10.225     19 Template:Black\n  4.21%   10.134      1 Template:Commit\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:1372-0!canonical and timestamp 20240924201908 and revision id 177196\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Sokoban&amp;oldid=177196\">https://nethackwiki.com/index.php?title=Sokoban&amp;oldid=177196</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Categories</a>: <ul><li><a href=\"/wiki/Category:Upcoming\" title=\"Category:Upcoming\">Upcoming</a></li><li><a href=\"/wiki/Category:Encyclopedia\" title=\"Category:Encyclopedia\">Encyclopedia</a></li><li><a href=\"/wiki/Category:Nethack-367_articles\" title=\"Category:Nethack-367 articles\">Nethack-367 articles</a></li><li><a href=\"/wiki/Category:Featured_articles\" title=\"Category:Featured articles\">Featured articles</a></li><li><a href=\"/wiki/Category:Sokoban\" title=\"Category:Sokoban\">Sokoban</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Sokoban\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Sokoban\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Sokoban\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Sokoban\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Sokoban\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Sokoban&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Sokoban&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Sokoban\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Sokoban\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Sokoban&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Sokoban&amp;oldid=177196\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Sokoban&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 21 September 2024, at 14:15.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.143\",\"walltime\":\"0.369\",\"ppvisitednodes\":{\"value\":2692,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":10213,\"limit\":1000000},\"postexpandincludesize\":{\"value\":22042,\"limit\":2097152},\"templateargumentsize\":{\"value\":4261,\"limit\":2097152},\"expansiondepth\":{\"value\":10,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":1,\"limit\":20},\"unstrip-size\":{\"value\":16004,\"limit\":5000000},\"timingprofile\":[\"100.00%  240.687      1 -total\",\" 43.19%  103.951    148 Template:Lightgray\",\" 12.25%   29.493      9 Template:Main\",\"  7.57%   18.221      3 Template:Upcoming\",\"  6.94%   16.706      1 Template:Level\",\"  6.72%   16.179      1 Template:=_of\",\"  5.64%   13.578      1 Template:Encyclopedia\",\"  4.94%   11.899      1 Template:Nethack-367\",\"  4.25%   10.225     19 Template:Black\",\"  4.21%   10.134      1 Template:Commit\"]},\"cachereport\":{\"timestamp\":\"20240924201909\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":52});});</script>\n\t</body>\n</html>\n","rawPage":"{{level\n |Sokoban levels\n |branch=Sokoban\n |from=2|to=9\n |teleport=no\n |bones=no\n |mapping=yes\n |digfloor=all but bottom level\n |digwalls=no\n}}\n\n'''Sokoban''' (\"warehouse keeper\" in Japanese) is a [[branch]] of the dungeon in ''[[NetHack]]'' that is modeled on and named after a game where a character is navigated through a series of levels. The object is to move objects to cover goal squares.\n\nIn the traditional ''Sokoban'' game, the character must move only in the cardinal directions (north, south, east, and west) and push the objects from behind to move them. Objects cannot be pulled, created, or destroyed, and a player must avoid failing the level by getting objects stuck or boxing themselves in. In the case of ''NetHack'', the [[hero]] must push [[boulder]]s into [[pit]]s or [[hole]]s that block the way forward.\n\n==Generation==\nThe up [[stairs]] to Sokoban is located from [[dungeon level]]s 6 to 10 inclusive in the [[Dungeons of Doom]], and is always one floor below the [[Oracle (level)|Oracle level]]. Neither the level containing the Sokoban stairs nor the actual Sokoban levels are eligible for leaving or loading [[bones]].\n\n==Description==\nThere are a total of 8 maps for Sokoban, with two for each of the four floors. The levels are ascending in dungeon depth (i.e., the 2nd level is above the 1st etc); however, monster difficulty increases as if descending to lower dungeon levels. Sokoban in ''NetHack'' is further complicated by the presence of [[monster]]s in the puzzles, so some concessions have been made:\n\n* Diagonal moves of the boulders are still not allowed, but the player character may move diagonally if there is space to do so, and may also attack, fire or cast spells diagonally.\n* It is possible to create or destroy boulders (e.g. with a {{spell of|force bolt}} or a [[wand of striking]]), as well as move over them in limited circumstances, but a [[luck]] penalty is applied for each offense.\n* Other spells, wands and projectiles can be shot past boulders as normal.\n\nIf playing with text mode, you might want to change the [[Options#boulder|boulder symbol]] to {{lightgray|0}}.\n\n===Level descriptions===\nAll walls in Sokoban are undiggable and block [[phasing]]; the floor is undiggable only on the first level. All levels are no-teleport, and it is impossible for the player to level-teleport between Sokoban levels. Each level is fully mapped upon arrival.\n\nOn each level, there is one random [[ring]], one random [[wand]], and four (stacks of) [[comestible]]s randomly placed around the map. Additionally, the final floor of the branch contains a [[treasure zoo]] guarding a [[bag of holding]] or [[amulet of reflection]] in one of three [[closet]]s, with an equal chance of each item.{{refsrc|dat/sokoban.des|530|version=NetHack 3.6.7}}{{refsrc|dat/sokoban.des|631|version=NetHack 3.6.7}}) The prize sits on a burnt [[Elbereth]] and a cursed [[scroll of scare monster]], and both prize items are generated normally.\n\n{{upcoming|NetHack 3.7.0|Special levels, including Sokoban, may be flipped horizontally and/or vertically.\n\nBoth prizes are no longer equally likely for each floor. Instead, floor 4a has a {{frac|3|4}} chance (75%) of a bag of holding, and 4b has a {{frac|3|4}} chance (75%) of an amulet of reflection.}}\n\n{|class=\"prettytable\"\n!\n!a\n!b\n|-\n!1\n|valign=top| [[Sokoban Level 1a]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[pit|{{black|^}}]]\n?=[[scroll of earth|{{white|?}}]]\n\n-------- ------\n|<|>...---....|\n|^|-.00....0..|\n|^||..00|.0.0.|\n|^||....|.....|\n|^|------0----|\n|^|    |......|\n|^------......|\n|..^^^^0000...|\n|??-----......|\n----   --------\n</replacecharsblock>}}</div>\n|valign=top| [[Sokoban Level 1b]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[pit|{{black|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n\n\n ------  ----- \n |....|  |...| \n |.0..----.0.| \n |.0......0..| \n |..--->---0.| \n |---------.---\n |..^^^<|.....|\n |..----|0....|\n --^|   |.0...|\n  |^-----.0...|\n  |..^^^^0.0..|\n  |??----------\n  ----         \n</replacecharsblock>}}</div>\n|-\n!2\n|valign=top| [[Sokoban Level 2a]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[hole|{{brown|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n\n  ----          -----------\n --.>--------   |.........|\n |..........|   |.........|\n |.0-----0-.|   |.........|\n |..|...|.0.|   |....<....|\n |.0.0....0-|   |.........|\n |.0..0..|..|   |.........|\n |.----0.--.|   |.........|\n |..0...0.|.--  |.........|\n |.---0-...0.------------+|\n |...|..0-.0.^^^^^^^^^^^^.|\n |..0......----------------\n -----..|..|               \n     -------               \n</replacecharsblock>}}</div>\n|valign=top| [[Sokoban Level 2b]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[hole|{{brown|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n\n -----------       -----------\n |....|....---     |.........|\n |..00|00...>|     |.........|\n |.....0...---     |.........|\n |....|....|       |....<....|\n |-.---------      |.........|\n |..0.|.....|      |.........|\n |.00.|0.0.0|      |.........|\n |..0.....0.|      |.........|\n |.000|0..0.----------------+|\n |....|..0.0.^^^^^^^^^^^^^^^.|\n -----------------------------\n</replacecharsblock>}}</div>\n|-\n!3\n|valign=top| [[Sokoban Level 3a]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[hole|{{brown|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n\n   --------          \n ---.|....|          \n |...0....|----------\n |.-.00-00|.|.......|\n |.00-......|.......|\n |.-..0.|...|.......|\n |....-0--0-|...<...|\n |..00..0...|.......|\n |.--...|...|.......|\n |....-0|---|.......|\n ---..0.-----------+|\n   |..0>^^^^^^^^^^^.|\n   ------------------\n</replacecharsblock>}}</div>\n|valign=top| [[Sokoban Level 3b]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[hole|{{brown|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n\n\n --------------------\n |........|...|.....|\n |.00..-00|.-.|.....|\n |..|.0.0.|00.|.....|\n |-.|..-..|.-.|..<..|\n |...--.......|.....|\n |...|.0.-...-|.....|\n |.0.|0.|...--|.....|\n |-0.|..-----------+|\n |..0....^^^^^^^^^^.|\n |...|.>-------------\n --------            \n</replacecharsblock>}}</div>\n|-\n!4\n|valign=top| [[Sokoban Level 4a]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[hole|{{brown|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n+=[[door|{{brown|+}}]]\n\n --------------------------\n |>......^^^^^^^^^^^^^^^^.|\n |.......----------------.|\n -------.------         |.|\n  |...........|         |.|\n  |.0.0.0.0.0.|         |.|\n --------.----|         |.|\n |...0.0..0.0.|         |.|\n |...0........|         |.|\n -----.--------   ------|.|\n  |..0.0.0...|  --|.....|.|\n  |.....0....|  |.+.....|.|\n  |.0.0...0.--  |-|.....|.|\n -------.----   |.+.....+.|\n |..0.....|     |-|.....|--\n |........|     |.+.....|  \n |...------     --|.....|  \n -----            -------  \n</replacecharsblock>}}</div>\n|valign=top| [[Sokoban Level 4b]]<br>\n<div class=ttymap>{{lightgray|<replacecharsblock>\n<=[[staircase|{{lightgray|<}}]]\n>=[[staircase|{{lightgray|>}}]]\nnewline=<br>\n|=&#124;\n-=&#45;\n =&nbsp;\n0=[[boulder|{{lightgray|0}}]]\n^=[[hole|{{brown|^}}]]\n@={{white|@}}\n?=[[scroll of earth|{{white|?}}]]\n+=[[door|{{brown|+}}]]\n\n   ------------------------\n   |..^^^^^^^^^^^^^^^^^^..|\n   |..-------------------.|\n ----.|    -----        |.|\n |..|0--  --...|        |.|\n |.....|--|.0..|        |.|\n |.00..|..|..0.|        |.|\n --..00|...00.--        |.|\n  |0..0...|0..|   ------|.|\n  |.00.|..|..0| --|.....|.|\n  |.0.0---|.0.| |.+.....|.|\n  |.......|..-- |-|.....|.|\n  ----.0..|.--  |.+.....+.|\n     ---.--.|   |-|.....|--\n      |.0...|   |.+.....|  \n      |>.|..|   --|.....|  \n      -------     -------  \n</replacecharsblock>}}</div>\n|}\n\n===Sokoban and luck===\nIt is possible to solve every Sokoban level just by moving boulders around in the normal fashion - however, as mentioned above there are some actions that the original game does not allow that are legal in ''NetHack'', but are considered \"cheating\" in some way and apply a -1 penalty to luck. Assuming the level is still unsolved, the following actions incur luck penalties in Sokoban:\n\n*[[Jumping]] in any direction. (To avoid the penalty, press Escape when prompted where you want to jump.)\n*Breaking a boulder.\n*Squeezing past a boulder (or walking over one, when [[polymorph]]ed into a monster that can [[M2_ROCKTHROW|lift and throw boulders]]).\n*Casting [[stone to flesh]] on a boulder.\n*[[Polymorph]]ing a boulder.\n*Reading a [[scroll of earth]].\n*Being pulled by a thrown [[iron ball]].\n*Hurtling through the air due to Newton's 3rd Law (i.e. throwing something while [[levitating]]).\n\nThe following actions do ''not'' incur a luck penalty when done in Sokoban:\n\n* [[Teleport]]ing a boulder (as this may move the boulder somewhere odd).\n* Falling into a hole or pit.\n* Polymorphing a [[statue]] into a boulder.\n* Carrying a boulder into Sokoban while in the form of a monster that can do so, then dropping it.\n* Digging your own pit or hole, or filling it with boulders.\n\n{{upcoming|NetHack 3.7.0|Jumping, being pulled by a thrown iron ball, and hurtling no longer cause a luck penalty (since they don't actually allow you to move diagonally).}}\n\n==Strategy==\nIn addition to learning how to best move boulders around and solve the puzzles with few or no errors, the climb up Sokoban is also complicated by the presence of monsters that can block the movement path of boulders or even risk breaking them.\n\nFor level-specific strategies, see the articles on the level maps linked above.\n\n===Puzzle===\n* Think ahead. The entire level is mapped, and all the levels are solvable without \"cheating\", barring some unfortunate monster generation.\n* Not all of the boulders have to be used - regardless, try to keep enough of them open to fill all the pits.\n* You can use a text editor, grid paper or other resource to try to work out the solutions before actually attempting them in-game.\n* If you want to try out something, push the boulders only in ways you can undo - never create a square of four boulders, or two neighbors against a wall.\n* Be careful - a typo may render a boulder immobile against the wall. Try to move diagonally or with the [[Travel|goto-key (underscore)]] whenever possible, as these commands will not push a boulder.\n* If a hole is open, falling through it to the level below lets you get back to the stairs. This can be useful in certain situations where a boulder is pushed the wrong way.\n\n===Monster-puzzle interaction===\n* Check whether there are monsters in front of the pits.\n* Use a magic whistle for pets, or leave them behind one level, and visit their level every 74 turns or less to avoid them losing tameness points. Alternatively, known-cursed items can help keep pets out of the pit area.\n* Be aware of mimics imitating boulders. Unlike real boulders, mimics will not appear until they are in your line of sight, but a space containing a boulder may also contain a mimic mimicking a boulder, if that makes sense. You can move diagonally between mimicked boulders.\n\n{{upcoming|3.7.0|Displacement of peaceful monsters is now possible, making it much easier to move them out of the path.\n\nPer {{commit|d4ac146c5f8bf28d5553300e08e5addf13a96405}}, pets will attempt to avoid locations where boulders can be pushed.}}\n\n===Stuck boulders===\n* If you must take a luck penalty, do so as early as possible. Put away any [[gray stone]]s that might be [[luckstone]]s, unless you are sure that your natural luck is positive. The sooner you take that luck penalty, the more likely it will have timed out the next time you encounter a critical luck-influenced event, such as needing to [[pray]].\n* If you mistakenly moved a boulder between yourself and the stairs from the previous level, dig down to create a hole and fall through (no penalty). Be sure to choose a safe place to dig. You may wish to use a spare boulder to fill the hole afterward.\n* Destroy a boulder with a [[pick-axe]], {{spell of|force bolt}}, or [[wand of striking]] (luck penalty). Be careful not to destroy too many boulders.\n* Drop everything in your inventory (including armor) and squeeze into the same square as a boulder. This will help you separate boulders stuck together, but not a boulder stuck against a wall. This way, you can also kill monsters trapped between boulders and holes which block the way (luck penalty).\n* [[Polymorph]] into a [[giant]] and step over boulders (luck penalty). You still cannot lift them, however; neither can monsters.\n* Summon more boulders with a [[scroll of earth]] (luck penalty). Two scrolls can be found on the first Sokoban level. A non-cursed scroll will summon multiple boulders, possibly making the situation worse.\n* Drop a wand of striking so that a monster picks it up, and position yourself between that monster and the boulder you want destroyed, in hopes that the monster will destroy the boulder for you; this incurs no luck penalty.\n* If the boulder is stuck because of a monster behind it, shoot [[projectile]]s or spells past the boulder to kill the monster. Be sure the monster in question is not peaceful - note that no peaceful humans can be generated in Sokoban.\n** An [[aklys]] is the ideal choice, as it returns to your hand for repeated throwing, and can easily be obtained from the [[Gnome (monster class)|gnomes]] in the [[Gnomish Mines|Mines]]. Note that there is a {{frac|100}} chance of it failing to return, so have a spare or some other solution available.\n** If the monster is a coaligned [[unicorn]], you risk a large luck penalty for killing it; if you determine by whatever means that the monster is a coaligned unicorn, you can toss gems to it to compensate for the inevitable luck hit. Sokoban is no-teleport, so the unicorn cannot leave of its own accord. Also, you cannot kill unicorns with rocks, an easily accessible missile weapon.\n** Force bolts and the wand of striking will destroy boulders, but other methods are safe. [[Pacifist]]s may want to strip naked and [[displace]] their [[pet]] onto the [[boulder]]. If you have a [[magic whistle]], you can stand next to the boulder and apply the whistle until your pet appears on the other side of the boulder. Let your pet kill the obstructing monster and then use the whistle to get them out of the way.\n* Hit the boulder with a [[wand of teleport]] (no luck penalty) after you finish as many other boulders as possible. While the new location may not be better than the old one, it often can't be much worse.\n\n===Items===\n* Upon completion, check under unmoved boulders for useful items.\n* The first level contains two guaranteed scrolls of earth; remember to #[[name]] them as such as soon as you find them. Some monsters will read scrolls of earth, especially [[nymph]]s that can pluck the scroll from your inventory; however, most monsters only have a {{frac|10}} chance of doing so unless they have a hard helm on.\n* Sokoban is an excellent place to stock up on comestibles and other loot. If you are dealing with [[encumbrance]] issues or otherwise trying to manage your inventory, simply leave the food items on the floor and eat them only when you need to. On the other hand, grab every scroll and wand you see; at the least, doing so means a monster will not be able to pick them up and use them to your disadvantage.\n** Items can sometimes be generated over holes. Pushing a boulder over the hole will bury the item. If you wish to retrieve the item instead, you may:\n*** Kick the item away; it will usually fall down another hole and appear somewhere on the level below. This will destroy the item if it is fragile, and on the top level will wake the monsters in the zoo.\n*** Repeatedly step on the space containing the item; it will eventually fall down with you, although not necessarily onto your space. This will never break the item.\n*** Turn on [[autopickup]] and step on the space containing the item; you will pick it up before you fall. Beware of [[loadstone]]s, both over the hole and on the levels below. You can use [[pickup_types]] or [[autopickup exception]] to limit yourself to only picking up the type of item you are trying to grab.\n*** Use a grappling hook.\n** Monsters can attack you with the guaranteed [[wand]] if applicable. If you have not already found it, be careful clearing the [[zoo]], e.g. send your [[pet]] in without entering line of fire.\n* If you reach the end of the branch and do not see the prize, it is probable that some {{white|@}} found the amulet of reflection and picked it up. Be sure to claim the amulet immediately after killing said monster, since you don't want your new amulet of reflection to become a snack for a [[rust monster]] or [[rock mole]]. Nothing will ever pick up the bag of holding, however.\n\n===Stash location===\nOnce completed, the first level of Sokoban is often used as a [[stash]] level, for several reasons:\n\n* [[The Eye of the Aethiopica]] can teleport the hero there instantly.\n* It is conveniently located one level below the Oracle's dwelling, 2-8 levels from the [[Gnomish Mines]], and located in the top half of the [[Dungeons of Doom]], where shops and altars are likely.\n* It is relatively free of monsters, and is biased toward neutral monsters, including less-dangerous baby monsters.\n* There are spare boulders which can be used to further block off a [[safe area]].\n* There is a long corridor which can be used for [[polypiling]].\n* If there is an [[altar]] nearby, Sokoban can be used to control luck and avoid [[crowning]] during altar farming.\n\n===Out-of-game practice===\n[http://github.com/hackedhead/nhss nhss] (originally by IanK of [http://iank.org/ iank.org]) is a C/terminal tool that sets up a Nethack-like environment (basic movement and boulder pushing only) that can be used to figure a level out before actually playing it, thus reducing the chances of rendering a level unsolvable. It can also record sessions and play them back step by step.\n\nUnaffiliated but related to nhss, [http://www.electricmonk.nl/Miscellaneous/Nethack Nethack's Sokoban levels for various Sokoban implementations] (XSok, Sokoban++, YSokoban, Universal Sokoban format and Games 4 Brains Sokoban format) which you can use to practice the levels in other Sokoban games.\n\nEven more unaffiliated with any of the above, [http://joshua.tejat.net/private/public/nh-soko.zip Nethack's Sokoban levels] for [http://www.nongnu.org/enigma/ Enigma].\n\n[https://play.google.com/store/apps/details?id=com.tbd.NetHack The Nethack Android port by gurr] with using [[Wizard mode]] can be done for practising on mobile. Use the [[Wizard_mode#Commands|level teleport option]], go to the entry to Sokoban, and use the recreate map option if the player needs to try again. \n\nSome other online web app links are listed below:\n\n* [http://nhss.twonegatives.com/ An unaffiliated version of nhss], also called NHSS\n* [https://nethackathon.org/annotate Annotate] - by disperse, meant as a companion web app for Nethack, allows Sokoboan practice among other things. It allows you flip the levels for practice with the level flipping introduced in [[NetHack 3.7.0]], and records user solutions.\n* [https://dispersemedia.com/sokoban/ An alternative domain link] to just the standalone Sokoban app by disperse.\n* [https://web.archive.org/web/20200131120459/http://www.erimsever.com:80/sokoban.htm Sokoban Erim via Wayback Archive - a comprehensive collection of Sokoban resources]\n\n==History==\nSokoban first appears in [[NetHack 3.3.0]]. From this version to [[NetHack 3.4.3]], including some variants based on these versions, luck penalties apply for [[#Sokoban and luck|most of the aforementioned actions]] minus jumping, even if the level is solved. In addition, the prize for the last Sokoban level does not have a cursed scroll of scare monster present, and depends on which final level map was generated: Sokoban Level 4a always has a bag of holding, and Sokoban Level 4b always has an amulet of reflection.\n\nStarting in [[NetHack 3.6.0]], the current rules regarding luck and boulder movement are applied, the cursed scroll of scare monster is generated on the prize square, and both final levels have a {{frac|2}} chance (50%) of either prize item.\n\n==Origin==\n{{wikipedia}}\n''Sokoban'' is a video game created in 1981 by Hiroyuki Imabayashi, with the first commercial release published in December 1982 by Thinking Rabbit, a software house based in Takarazuka, Japan. Sokoban was a hit in Japan, where it sold more than 400,000 copies before being released in the United States in 1988, where it was published by Spectrum HoloByte for the Commodore 64, IBM PC compatibles, Amiga, and Apple II as Soko-Ban.\n\nThe presence of three doors in the treasure zoo with a prize behind one of them, is possibly a reference to the [[wikipedia:Monty Hall Problem|Monty Hall Problem]].\n\n==Messages==\n{{message|The boulder won't move diagonally on this floor.|You attempted to push a boulder diagonally on an unsolved floor.}}\n\n==Variants==\nMost variants of ''NetHack'' attempt to improve upon the Sokoban experience in some form, on top of often adding new Sokoban levels:\n\n* Some variants, such as [[SporkHack]] and [[UnNetHack]], apply the [https://bilious.alt.org/?254 level-flipping patch] to Sokoban.\n* Variants that contain [[magic chest]]s place one at the beginning or end of Sokoban to aid players who use it as a stash level.\n\n===SLASH'EM===\n{{main|Sokoban (SLASH'EM)}}\nIn [[SLASH'EM]], the rules are the same as in [[NetHack 3.4.3]], with 15 new possible levels - the final level has the usual {{frac|2}} chance of either a bag of holding or an amulet of reflection at the end, dependent on the level generated. Ordinary [[sack]]s and [[oilskin sack]]s can be upgraded to a bag of holding in SLASH'EM, typically making the amulet the more desirable prize.\n\nSome of the new Sokoban levels have [[iron bars]] - a [[Doppelganger (starting race)|doppelganger]] character can [[liquid leap]] through them, though this will incur a luck penalty, and the bars cannot be crossed by any other means (e.g., by polyself into a small or [[slithy]] monster such as a [[snake]]).\n\nSeveral public server versions of SLASH'EM include a patch that adds the [[acid hound]], which corrodes the floor to create pits when killed; these can be very troublesome if they appear in Sokoban, as they may make solving the level impossible without using a scroll of earth.\n\n===NetHack brass===\n[[NetHack brass]] does not change or add any layouts for Sokoban levels, but instead has a choice between the amulet of reflection, a [[cloak of magic resistance]], and a bag of holding as the prize item. All monsters will avoid stepping on or touching the items, preventing abuse via using pets to retrieve unchosen prizes.\n\nNon-[[artifact]] items that provide [[magic resistance]] or [[reflection]] can wear out and disintegrate from resisting or reflecting enough times, making it a good idea to carry a spare source. The bag remains a good choice for characters that already have \"permanent\" and/or redundant options for both properties.\n\n===GruntHack===\n{{main|Sokoban (GruntHack)}}\n[[GruntHack]] adds some new Sokoban levels, and offers a choice between the amulet of reflection, a cloak of magic resistance, and a bag of holding as the prize item, similar to NetHack brass. If one of the prize closet doors is opened or kicked down, the others will seal; a means of identifying the closet containing the desired item, such as a [[potion of object detection]], is recommended.<!--Requesting wiztest to see if force bolts/digging destroys them.-->\n\nGruntHack also implements player displacement of peaceful monsters, making herding them out of the path of boulders considerably easier.\n\n===SporkHack===\nIn [[SporkHack]], Sokoban rules are mostly unchanged from NetHack 3.4.3, though each final level has an equal probability of the prize being an amulet of reflection or a bag of holding. Sporkhack also has displacement for peaceful monsters.\n\n===UnNetHack===\n{{main|Sokoban (UnNetHack)}}\nUnNetHack introduces new Sokoban levels as well, and additionally shortens the branch to three levels&mdash;the vanilla maps for levels one and two may all be used to create level one.\n\nFrom UnNetHack 4.1.1 onwards, cheating in Sokoban does not incur a luck penalty, and solving Sokoban without cheating is instead tracked as a [[conduct]]; as of UnNetHack 6, solving Sokoban without cheating increases luck by 1 point. To compensate, the scrolls of earth typically found on the first level are not guaranteed.\n\nThe final level always has a bag of holding, a cloak of magic resistance or [[Cloak of displacement|displacement]], and an amulet of reflection, {{of|amulet|life saving|or=1|flying}} as the prize choices, all of which are placed on a burnt Elbereth. When one of these objects is picked up, the other two are destroyed. The prize items are temporarily type-identified while in direct line of sight, allowing for a more informed decision.\n\n===dNetHack===\nIn [[dNetHack]], Sokoban rules and maps are mostly unchanged from NetHack 3.4.3, but the boulders are replaced with [[massive stone crate]]s, which behave similar to boulders and contain food - the food is released from the crate when pushed into the pits or holes within Sokoban, and the crates can be broken like boulders to access the food (though this carries a luck penalty due to the ruleset). dNetHack also places a [[Magic chest (dNetHack)|magic chest]] in one of the closets beyond the treasure zoo at the top floor.\n\nPets that are left in Sokoban will not lose tameness.\n\n===DynaHack===\n{{main|Sokoban (DynaHack)}}\nSokoban in [[DynaHack]] has three floors and uses maps from both UnNetHack and SLASH'EM, among other variants. The random rings and wands that are normally scattered in Sokoban are instead placed within a sack on Sokoban's final level, with the standard prizes moved to [[Mines' End]], making the Sokoban branch more optional.\n\nThe prize selection is derived from earlier versions of UnNetHack: the choices are a bag of holding, a cloak of magic resistance or [[Cloak of displacement|displacement]], and an amulet of reflection, {{of|amulet|life saving|or=1|ESP}}. \n\n===NetHack Fourk===\n{{main|Sokoban (NetHack Fourk)}}\n[[NetHack Fourk]] gives a name to each Sokoban level, and contains quite a few quality-of-life changes which are non-exhaustively listed below:\n\n* If a peaceful monster would spawn in Sokoban, it is generated hostile instead. Thus, it is safer to kill unknown monsters that are blocking boulder movements.\n* Sokoban luck penalties can only lower luck to a minimum of -3, and .\n* Luck penalties do not apply when you have a non-cursed luckstone.\n* Luck penalties do not apply when you are hallucinating, but a boulder will hit you for 1d12 damage.\n* There are a number of additional Sokoban levels. Player feedback suggests that these are on average easier than the vanilla levels.\n* Two of the new final Sokoban levels have a sack which contains rings of {{= of|teleport control|and=1|polymorph control}} and a third random ring. If you already have either of those rings, you might receive other jewellery.\n* In the other final levels endings, if you already have reflection, the Soko prize will not be an amulet of reflection; if you already have a bag of holding, the prize is likely to be an amulet of reflection. In either case, or if you already have both items, the prize might be a simple oilskin sack.\n* To help pacifists, completing Sokoban without cheating grants one [[experience level]].\n* To make Sokoban more skippable, [[Perseus]]'s statue always contains the [[shield of reflection]] and the sack.\n\n===FIQHack===\nIn [[FIQHack]], all pits on the first level of Sokoban are converted to holes, which lead back to the main dungeon floor containing Sokoban's branch stairs - the floor also contains a [[Magic chest (FIQHack)|magic chest]].\n\nThe rules for Sokoban are more similar to vanilla ''NetHack'' than 3.4.3, and prints a message once the level is solved. Additionally, monsters that would generate as peaceful otherwise are hostile if created in Sokoban, and co-aligned unicorns are not generated - this is done in order to avoid creating scenarios where a character must risk a major luck or alignment penalty, so they can more safely kill unknown monsters that generate in the path of their boulder movements.\n\n====Messages====\n{{message|You feel some arcane magic being lifted from the area.|A Sokoban level was solved.}}\n\n===xNetHack===\n[[xNetHack]] uses the same maps, rules and layouts for Sokoban as vanilla ''NetHack'', with the removal of flipped Sokoban levels introduced in the upcoming NetHack 3.7.0 due to the change's unpopularity.\n\n===SpliceHack===\n{{main|Sokoban (SpliceHack)}}\n[[SpliceHack]] adds a few new levels from other variants for Sokoban: for those that have an equal number of pits/holes and boulders, a hole or pit is removed in order to create a spare boulder and make them less difficult. SpliceHack also has different versions of levels 2a and 2b that replace the boulders with explosive monsters such as [[gas spore]]s and [[flaming sphere]]s.\n\n===notdNetHack===\n{{main|Lokoban}}\nIn [[notdNetHack]] and [[notnotdNetHack]], Sokoban is replaced with [[Lokoban]], a single-floor branch that has a much simpler challenge but much less in the way of loot.\n\n===EvilHack===\n{{main|Sokoban (EvilHack)}}\nIn [[EvilHack]], several level maps from SLASH'EM, GruntHack, UnNetHack, and other variants are added for Sokoban.\n\nOn the final level, all three closets in the Sokoban zoo have a prize behind each door, but you will not be able to tell exactly what that prize is until you pick it up - you can learn the object type of the prize behind each door via some form of item detection, e.g. [[quaff]]ing a potion of object detection or reading a non-cursed [[scroll of magic detection]]. Like GruntHack, the doors are made impenetrable to prevent taking more than one prize: once one door is opened, the other two doors disappear and are replaced with a sealed wall; despite this, the doors can still be broken, e.g. by a giant. When you pick up one of the prizes, the other two will magically disappear regardless of whether or not the doors were opened.\n\nThere are two different items of each type that can spawn behind each door, with an equal probability of each item:\n\n* Sokoban prize armor &ndash; [[gauntlets of protection]] or a [[helm of speed]]\n* Sokoban prize amulet &ndash; an amulet of reflection or an [[amulet of magic resistance]]\n* Sokoban prize tool &ndash; a bag of holding or a [[magic marker]]\n\nSince magic markers do not generate randomly, Sokoban is potentially one of a few locations in the game where a marker can be found.\n\n===GnollHack===\nIn [[GnollHack]], Sokoban is largely the same as in NetHack 3.6.2 except for the top floor: there is an additional room accessible from the zoo where a mage resides. He sells items, teaches spells and provides other services (such as performing incantations) for a fee.\n\n===Hack'EM===\n{{main|Sokoban (Hack'EM)}}\n[[Hack'EM]] imports several maps from SLASH'EM, SlashTHEM, Fourk and other variants for Sokoban, and all levels have been given Fourk-style names to make them easier to reference. The prizes given are also the same as in EvilHack, with the same rules concerning their identities.\n\n==Encyclopedia entry==\n{{encyclopedia|\nSokoban (Japanese for \"warehouse keeper\") is a transport puzzle\nin which the player pushes boxes around a maze, viewed from\nabove, and tries to put them in designated locations.  Only one\nbox may be pushed at a time, not two, and boxes cannot be pulled.\nAs the puzzle would be extremely difficult to create physically,\nit is usually implemented as a video game.\n\nSokoban was created in 1982 by Hiroyuki Imabayashi, and was\npublished by Thinking Rabbit, a software house based in\nTakarazuka, Japan.  Thinking Rabbit also released three sequels:\nBoxxle, Sokoban Perfect and Sokoban Revenge.\n|[ Wikipedia, the free encyclopedia ]\n}}\n\n==References==\n<references/>\n{{nethack-367|offset=1}}\n{{featured}}\n[[Category:Sokoban| ]]"}