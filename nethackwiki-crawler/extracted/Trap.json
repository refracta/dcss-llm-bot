{"title":"Trap","url":"https://nethackwiki.com/wiki/Trap","type":"markdown","data":"| [Dungeon features](/wiki/Dungeon_feature \"Dungeon feature\")      |                                             |\n| ---------------------------------------------------------------- | ------------------------------------------- |\n| [  Air](/wiki/Air \"Air\")                                         | [\\_ Altar](/wiki/Altar \"Altar\")             |\n| [# Corridor](/wiki/Corridor \"Corridor\")                          | [# Cloud](/wiki/Cloud \"Cloud\")              |\n| [#. Drawbridge](/wiki/Drawbridge \"Drawbridge\")                   | [+-\\| Door](/wiki/Door \"Door\")              |\n| [. Doorway](/wiki/Doorway \"Doorway\")                             | [{ Fountain](/wiki/Fountain \"Fountain\")     |\n| [\\| Headstone](/wiki/Headstone \"Headstone\")                      | [.  Floor](/wiki/Floor \"Floor\")             |\n| [>< Ladder](/wiki/Ladder \"Ladder\")                               | [. Ice](/wiki/Ice \"Ice\")                    |\n| [# Iron bars](/wiki/Iron_bars \"Iron bars\")                       | [} Lava](/wiki/Lava \"Lava\")                 |\n| [} Moat](/wiki/Moat \"Moat\")                                      | [# Sink](/wiki/Sink \"Sink\")                 |\n| [  Solid rock](/wiki/Solid_rock \"Solid rock\")                    | [>< Staircase](/wiki/Staircase \"Staircase\") |\n| [\\ Throne](/wiki/Throne \"Throne\")                                | [^\" Trap]()                                 |\n| [# Tree](/wiki/Tree \"Tree\")                                      | [- \\| Wall](/wiki/Wall \"Wall\")              |\n| [\\~ Vibrating square](/wiki/Vibrating_square \"Vibrating square\") |                                             |\n\nIn *[NetHack](/wiki/NetHack \"NetHack\")*, **traps** are mechanisms on a space which may activate when you or a [monster](/wiki/Monster \"Monster\") steps on them. Traps can be detected through various methods, and certain types of traps can be disarmed with the #[untrap](/wiki/Untrap \"Untrap\") command.\n\n[ ]\n\n## Contents\n\n- [1 List of traps](#List_of_traps)\n\n- [2 Generation](#Generation)\n  - [2.1 Fake bones](#Fake_bones)\n\n- [3 Detection](#Detection)\n\n- [4 Removal](#Removal)\n\n- [5 History](#History)\n\n- [6 Variants](#Variants)\n\n  - [6.1 UnNetHack](#UnNetHack)\n  - [6.2 FIQHack](#FIQHack)\n  - [6.3 xNetHack](#xNetHack)\n\n- [7 References](#References)\n\n## List of traps\n\nThe following traps are activated by stepping on their [square](/wiki/Square \"Square\"):\n\n- [anti-magic field](/wiki/Anti-magic_field \"Anti-magic field\")\n- [arrow trap](/wiki/Arrow_trap \"Arrow trap\")\n- [bear trap](/wiki/Bear_trap \"Bear trap\")\n- [dart trap](/wiki/Dart_trap \"Dart trap\")\n- [fire trap](/wiki/Fire_trap \"Fire trap\")\n- [hole](/wiki/Hole \"Hole\")\n- [falling rock trap](/wiki/Falling_rock_trap \"Falling rock trap\")\n- [land mine](/wiki/Land_mine \"Land mine\")\n- [level teleporter](/wiki/Level_teleporter \"Level teleporter\")\n- [magic portal](/wiki/Magic_portal \"Magic portal\")†\n- [magic trap](/wiki/Magic_trap \"Magic trap\")\n- [pit](/wiki/Pit \"Pit\")\n- [polymorph trap](/wiki/Polymorph_trap \"Polymorph trap\")\n- [rolling boulder trap](/wiki/Rolling_boulder_trap \"Rolling boulder trap\")\n- [rust trap](/wiki/Rust_trap \"Rust trap\")\n- [sleeping gas trap](/wiki/Sleeping_gas_trap \"Sleeping gas trap\")\n- [spiked pit](/wiki/Spiked_pit \"Spiked pit\")\n- [squeaky board](/wiki/Squeaky_board \"Squeaky board\")\n- [statue trap](/wiki/Statue_trap \"Statue trap\")\n- [teleportation trap](/wiki/Teleportation_trap \"Teleportation trap\")\n- [trap door](/wiki/Trap_door \"Trap door\")\n- [vibrating square](/wiki/Vibrating_square \"Vibrating square\")†\n- [web](/wiki/Web \"Web\")\n\n†: The vibrating square and magic portal are internally represented as traps, even though they are meant to aid the player instead of causing peril.\n\nThe following traps are activated by interacting with certain items or doors:\n\n- [container trap](/wiki/Container_trap \"Container trap\")\n- [exploding tin](/wiki/Tin#Explosion \"Tin\")\n- [door trap](/wiki/Door#Door_traps \"Door\")\n\n## Generation\n\nIn both filler levels and most special levels, a \"random\" trap is selected uniformly from the whole set of eligible traps, subject to level difficulty checks and some exclusions.[\\[1\\]](#cite_note-1) Oddly, special levels that contain maze filler (the Castle, Asmodeus, Baalzebub, Orcus, and all real and fake Wizard's Tower levels, but *not* the Big Room or the Catacombs) use a completely separate formula that ignores level difficulty for selecting traps in the mazes.[\\[2\\]](#cite_note-2) It nonetheless ends up working much the same way overall, but actually makes fire traps *less* common than they would otherwise be in Gehennom on those levels.\n\n*The following information pertains to an upcoming version ([NetHack 3.7.0](/wiki/NetHack_3.7.0 \"NetHack 3.7.0\")). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.*\n\nWhile [hallucinating](/wiki/Hallucinating \"Hallucinating\"), traps may appear on the map and in messages as random or nonexistent trap types, though any messages resulting from triggering the trap are unchanged.\n\n### Fake bones\n\nCertain types of traps up to dungeon level 4 may have a pre-aged [corpse](/wiki/Corpse \"Corpse\") generated on top, along with random cursed weapons, tools, food or gems. These are often referred to as **fake bones**, based on their similarity to [bones files](/wiki/Bones_file \"Bones file\").\n\nArrow traps, dart traps, falling rock traps, and rolling boulder traps have a 1 − Dlvl − 14 chance of a corpse and items being placed on its square, i.e. this will always be the case with such traps on the first floor.[\\[3\\]](#cite_note-3) There will always be at least one possession, and there is a 1⁄5 chance of placing an additional possession after each one.[\\[4\\]](#cite_note-4)\n\nSqueaky boards and rust traps never have a corpse because they are non-lethal. Pits and holes also never generate a corpse - any corpses found in pits are usually from generated monsters that fell in, especially if their associated items are present (e.g. finding an [orcish helm](/wiki/Orcish_helm \"Orcish helm\") with a [goblin](/wiki/Goblin \"Goblin\") corpse). Magic traps do not have corpses either as a result of not being specified in the relevant code.\n\n## Detection\n\nA user has suggested this page be **merged** with *\"[Portal detection methods](/wiki/Portal_detection_methods \"Portal detection methods\")\"*\n\nAvoiding traps in the dungeon takes patience and care. Therefore, the more time-consuming of these methods are only worthwhile when you are especially vulnerable. You can minimize your chances of stepping on a trap by paying close attention to monsters, pets, [noises](/wiki/You_hear \"You hear\"), and terrain. Be wary of the telltale signs of traps such as conspicuous boulders, suspicious corpses, and piles of rocks, darts, or arrows. Traps that you've already discovered will also not be visible under items like these, so it's a good idea to use the [trap id](/wiki/Trap_id \"Trap id\") command if you need to step onto that square that looks suspicious, even though you may have already been in that area and discovered all traps. By walking only where you have seen pets or monsters safely walk, you can avoid most traps. Remember where you have safely stepped before. [Elbereth](/wiki/Elbereth \"Elbereth\") can cause monsters to [flee](/wiki/Flee \"Flee\"), possibly uncovering traps as they do. A [leashed](/wiki/Leash \"Leash\") pet will whine if it is near a trap. [Magic resistance](/wiki/Magic_resistance \"Magic resistance\") and [fire resistance](/wiki/Fire_resistance \"Fire resistance\") can help nullify some of the more dangerous effects of traps.\n\nThe [search](/wiki/Search \"Search\") command is a great way to uncover traps without setting them off. #Untrap can be used on doors and containers. You can improve your chances of finding traps if you:\n\n- have high Luck;\n\n- put on or [eat](/wiki/Eating_jewelry \"Eating jewelry\") a [ring of searching](/wiki/Ring_of_searching \"Ring of searching\");\n\n- put on a [pair of lenses](/wiki/Pair_of_lenses \"Pair of lenses\");\n\n- wield [Excalibur](/wiki/Excalibur \"Excalibur\");\n\n- wield the blessed [Master Key of Thievery](/wiki/Master_Key_of_Thievery \"Master Key of Thievery\") (or uncursed, if you are a [Rogue](/wiki/Rogue \"Rogue\")) without gloves;\n\n- play a role that gets intrinsic searching\n\n  - [Ranger](/wiki/Ranger \"Ranger\"): Level 1\n  - [Monk](/wiki/Monk \"Monk\"): Level 9\n  - [Rogue](/wiki/Rogue \"Rogue\"): Level 10\n  - [Archeologist](/wiki/Archeologist \"Archeologist\"): Level 10\n  - [Tourist](/wiki/Tourist \"Tourist\"): Level 10\n\nSome items can be useful in detecting traps, although they may have better uses elsewhere:\n\n- [scroll of gold detection](/wiki/Scroll_of_gold_detection \"Scroll of gold detection\") (read while cursed or [confused](/wiki/Confused \"Confused\"))\n- [crystal ball](/wiki/Crystal_ball \"Crystal ball\") (scry for **^** with high [intelligence](/wiki/Intelligence \"Intelligence\"))\n- [wand of secret door detection](/wiki/Wand_of_secret_door_detection \"Wand of secret door detection\")\n- [spellbook of detect unseen](/wiki/Spellbook_of_detect_unseen \"Spellbook of detect unseen\")\n- The [Bell of Opening](/wiki/Bell_of_Opening \"Bell of Opening\")\n\n## Removal\n\nBecause of technical limitations in the level format, only one trap can exist on any given square. If you aren't able to #[untrap](/wiki/Untrap \"Untrap\") a physical trap, or if the trap is non-physical, you can usually remove most traps by entering the square and digging a [pit](/wiki/Pit \"Pit\"). This will overwrite the existing trap in the level data, replacing it with a pit trap. You can then leave the pit and avoid it, or fill it by pushing a [boulder](/wiki/Boulder \"Boulder\") in. The downside to this strategy is that you must expose yourself to the trap by entering its space.\n\n## History\n\nThe \"fake bones\" found on early traps are introduced in [NetHack 3.6.1](/wiki/NetHack_3.6.1 \"NetHack 3.6.1\").\n\n## Variants\n\n### UnNetHack\n\n[UnNetHack](/wiki/UnNetHack \"UnNetHack\") adds [ice traps](/wiki/Ice_trap \"Ice trap\").\n\n### FIQHack\n\n[Lenses](/wiki/Lenses \"Lenses\") in FIQHack provide [automatic searching](/wiki/Automatic_searching \"Automatic searching\"), making them useful for detecting traps.\n\n### xNetHack\n\n- *Main article: [xNetHack § Trap changes](/wiki/XNetHack#Trap_changes \"XNetHack\")*\n\nIn [xNetHack](/wiki/XNetHack \"XNetHack\"), you are asked for confirmation when stepping onto a square with a trap you have already found (and are not clearly immune to). This eliminates the problem of accidentally walking onto traps that you can't see, without needing to use the [trap id](/wiki/Trap_id \"Trap id\") command at every step. xNetHack also changes the effects of many traps.\n\n## References\n\n1. [↑](#cite_ref-1) [src/mklev.c in NetHack 3.6.6, line 1271](https://github.com/NetHack/NetHack/blob/NetHack-3.6.6_Released/src/mklev.c#L1271)\n2. [↑](#cite_ref-2) [src/sp\\_lev.c in NetHack 3.6.6, line 829](https://github.com/NetHack/NetHack/blob/NetHack-3.6.6_Released/src/sp_lev.c#L829)\n3. [↑](#cite_ref-3) [src/mklev.c in NetHack 3.6.7, line 1415](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L1415)\n4. [↑](#cite_ref-4) [src/mklev.c in NetHack 3.6.7, line 1487](https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L1487)\n\n[![This article has been updated to reflect NetHack 3.6.6. Click here for more information.](/images/5/57/Nh366-icon.png)](/wiki/NetHackWiki:Next_version \"This article has been updated to reflect NetHack 3.6.6. Click here for more information.\")\n","html":"<!DOCTYPE html>\n<html class=\"client-nojs\" lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\"/>\n<title>Trap - NetHack Wiki</title>\n<script>document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \"$1client-js$2\" );</script>\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgCanonicalNamespace\":\"\",\"wgCanonicalSpecialPageName\":false,\"wgNamespaceNumber\":0,\"wgPageName\":\"Trap\",\"wgTitle\":\"Trap\",\"wgCurRevisionId\":160685,\"wgRevisionId\":160685,\"wgArticleId\":1378,\"wgIsArticle\":true,\"wgIsRedirect\":false,\"wgAction\":\"view\",\"wgUserName\":null,\"wgUserGroups\":[\"*\"],\"wgCategories\":[\"Upcoming\",\"Pages to be merged\",\"Nethack-366 articles\",\"Dungeon features\",\"Traps\"],\"wgBreakFrames\":false,\"wgPageContentLanguage\":\"en\",\"wgPageContentModel\":\"wikitext\",\"wgSeparatorTransformTable\":[\"\",\"\"],\"wgDigitTransformTable\":[\"\",\"\"],\"wgDefaultDateFormat\":\"dmy\",\"wgMonthNames\":[\"\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"wgMonthNamesShort\":[\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"wgRelevantPageName\":\"Trap\",\"wgRelevantArticleId\":1378,\"wgRequestId\":\"6e676897e08d82a4d67581e2\",\"wgCSPNonce\":false,\"wgIsProbablyEditable\":false,\"wgRelevantPageIsProbablyEditable\":false,\"wgRestrictionEdit\":[],\"wgRestrictionMove\":[],\"wgWikiEditorEnabledModules\":[],\"wgCategoryTreePageCategoryOptions\":\"{\\\"mode\\\":0,\\\"hideprefix\\\":20,\\\"showcount\\\":true,\\\"namespaces\\\":false}\"});mw.loader.state({\"site.styles\":\"ready\",\"noscript\":\"ready\",\"user.styles\":\"ready\",\"user\":\"ready\",\"user.options\":\"ready\",\"user.tokens\":\"loading\",\"ext.cite.styles\":\"ready\",\"mediawiki.legacy.shared\":\"ready\",\"mediawiki.legacy.commonPrint\":\"ready\",\"mediawiki.toc.styles\":\"ready\",\"mediawiki.skinning.interface\":\"ready\",\"skins.vector.styles\":\"ready\"});mw.loader.implement(\"user.tokens@0tffind\",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({\"editToken\":\"+\\\\\",\"patrolToken\":\"+\\\\\",\"watchToken\":\"+\\\\\",\"csrfToken\":\"+\\\\\"});\n});RLPAGEMODULES=[\"ext.cite.a11y\",\"site\",\"mediawiki.page.startup\",\"mediawiki.user\",\"mediawiki.page.ready\",\"mediawiki.toc\",\"mediawiki.searchSuggest\",\"skins.vector.js\"];mw.loader.load(RLPAGEMODULES);});</script>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;skin=vector\"/>\n<script async=\"\" src=\"/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector\"></script>\n<meta name=\"ResourceLoaderDynamicStyles\" content=\"\"/>\n<link rel=\"stylesheet\" href=\"/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector\"/>\n<meta name=\"generator\" content=\"MediaWiki 1.32.5\"/>\n<meta name=\"description\" content=\"In NetHack, traps are mechanisms on a space which may activate when you or a monster steps on them. Traps can be detected through various methods, and certain types of traps can be disarmed with the #untrap command.\"/>\n<link rel=\"image_src\" href=\"/images/6/65/Nethackwiki-logo.png\"/>\n<link rel=\"shortcut icon\" href=\"/images/6/64/Favicon.ico\"/>\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch_desc.php\" title=\"NetHackWiki\"/>\n<link rel=\"EditURI\" type=\"application/rsd+xml\" href=\"https://nethackwiki.com/api.php?action=rsd\"/>\n<link rel=\"canonical\" href=\"/wiki/Trap\"/>\n<!--[if lt IE 9]><script src=\"/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1\"></script><![endif]-->\n</head>\n<body class=\"mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Trap rootpage-Trap skin-vector action-view\">\t\t<div id=\"mw-page-base\" class=\"noprint\"></div>\n\t\t<div id=\"mw-head-base\" class=\"noprint\"></div>\n\t\t<div id=\"content\" class=\"mw-body\" role=\"main\">\n\t\t\t<a id=\"top\"></a>\n\t\t\t<div class=\"mw-indicators mw-body-content\">\n</div>\n<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\">Trap</h1>\t\t\t<div id=\"bodyContent\" class=\"mw-body-content\">\n\t\t\t\t<div id=\"siteSub\" class=\"noprint\">From NetHackWiki</div>\t\t\t\t<div id=\"contentSub\"></div>\n\t\t\t\t<div id=\"jump-to-nav\"></div>\t\t\t\t<a class=\"mw-jump-link\" href=\"#mw-head\">Jump to navigation</a>\n\t\t\t\t<a class=\"mw-jump-link\" href=\"#p-search\">Jump to search</a>\n\t\t\t\t<div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\"><div class=\"mw-parser-output\"><div class=\"dungeonfeatures thumb tright\">\n<table class=\"prettytable\">\n<tbody><tr>\n<th colspan=\"2\"><a href=\"/wiki/Dungeon_feature\" title=\"Dungeon feature\">Dungeon features</a>\n</th></tr>\n<tr>\n<td style=\"width: 50%;\"><a href=\"/wiki/Air\" title=\"Air\"><span class=\"nhsym clr-darkgray\">&#160;</span>&#160;Air</a>\n</td>\n<td style=\"width: 50%;\"><a href=\"/wiki/Altar\" title=\"Altar\"><span class=\"nhsym clr-lightgray\">_</span>&#160;Altar</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Corridor\" title=\"Corridor\"><span class=\"nhsym clr-lightgray\">#</span>&#160;Corridor</a>\n</td>\n<td><a href=\"/wiki/Cloud\" title=\"Cloud\"><span class=\"nhsym clr-lightgray\">#</span>&#160;Cloud</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Drawbridge\" title=\"Drawbridge\"><span class=\"nhsym clr-brown\">#</span><span class=\"nhsym clr-brown\">.</span>&#160;Drawbridge</a>\n</td>\n<td><a href=\"/wiki/Door\" title=\"Door\"><span class=\"nhsym clr-brown\">+</span><span class=\"nhsym clr-brown\">-</span><span class=\"nhsym clr-brown\">&#124;</span>&#160;Door</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Doorway\" class=\"mw-redirect\" title=\"Doorway\"><span class=\"nhsym clr-lightgray\">.</span>&#160;Doorway</a>\n</td>\n<td><a href=\"/wiki/Fountain\" title=\"Fountain\"><span class=\"nhsym clr-blue\">{</span>&#160;Fountain</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Headstone\" title=\"Headstone\"><span class=\"nhsym clr-lightgray\">&#124;</span>&#160;Headstone</a>\n</td>\n<td><a href=\"/wiki/Floor\" title=\"Floor\"><span class=\"nhsym clr-lightgray\">.</span><span class=\"nhsym clr-darkgray\">&#160;</span>&#160;Floor</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Ladder\" title=\"Ladder\"><span class=\"nhsym clr-brown\">&gt;</span><span class=\"nhsym clr-brown\">&lt;</span>&#160;Ladder</a>\n</td>\n<td><a href=\"/wiki/Ice\" title=\"Ice\"><span class=\"nhsym clr-cyan\">.</span>&#160;Ice</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Iron_bars\" title=\"Iron bars\"><span class=\"nhsym clr-cyan\">#</span>&#160;Iron&#160;bars</a>\n</td>\n<td><a href=\"/wiki/Lava\" title=\"Lava\"><span class=\"nhsym clr-red\">&#125;</span>&#160;Lava</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Moat\" title=\"Moat\"><span class=\"nhsym clr-blue\">&#125;</span>&#160;Moat</a>\n</td>\n<td><a href=\"/wiki/Sink\" title=\"Sink\"><span class=\"nhsym clr-lightgray\">#</span>&#160;Sink</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Solid_rock\" title=\"Solid rock\"><span class=\"nhsym clr-darkgray\">&#160;</span>&#160;Solid&#160;rock</a>\n</td>\n<td><a href=\"/wiki/Staircase\" title=\"Staircase\"><span class=\"nhsym clr-lightgray\">&gt;</span><span class=\"nhsym clr-lightgray\">&lt;</span>&#160;Staircase</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Throne\" title=\"Throne\"><span class=\"nhsym clr-yellow\">\\</span>&#160;Throne</a>\n</td>\n<td><a class=\"mw-selflink selflink\"><span class=\"nhsym clr-lightgray\">^</span><span class=\"nhsym clr-lightgray\">&#34;</span>&#160;Trap</a>\n</td></tr>\n<tr>\n<td><a href=\"/wiki/Tree\" title=\"Tree\"><span class=\"nhsym clr-green\">#</span>&#160;Tree</a>\n</td>\n<td><a href=\"/wiki/Wall\" title=\"Wall\"><span class=\"nhsym clr-lightgray\">-</span>&#160;<span class=\"nhsym clr-lightgray\">&#124;</span>&#160;Wall</a>\n</td></tr>\n<tr>\n<td colspan=\"2\"><a href=\"/wiki/Vibrating_square\" title=\"Vibrating square\"><span class=\"nhsym clr-brightmagenta\">~</span>&#160;Vibrating square</a>\n</td></tr></tbody></table>\n</div>\n<p>In <i><a href=\"/wiki/NetHack\" title=\"NetHack\">NetHack</a></i>, <b>traps</b> are mechanisms on a space which may activate when you or a <a href=\"/wiki/Monster\" title=\"Monster\">monster</a> steps on them. Traps can be detected through various methods, and certain types of traps can be disarmed with the #<a href=\"/wiki/Untrap\" title=\"Untrap\">untrap</a> command.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#List_of_traps\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">List of traps</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Generation\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Generation</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Fake_bones\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Fake bones</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Detection\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Detection</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Removal\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Removal</span></a></li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#History\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">History</span></a></li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#Variants\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">Variants</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#UnNetHack\"><span class=\"tocnumber\">6.1</span> <span class=\"toctext\">UnNetHack</span></a></li>\n<li class=\"toclevel-2 tocsection-9\"><a href=\"#FIQHack\"><span class=\"tocnumber\">6.2</span> <span class=\"toctext\">FIQHack</span></a></li>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#xNetHack\"><span class=\"tocnumber\">6.3</span> <span class=\"toctext\">xNetHack</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-11\"><a href=\"#References\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"List_of_traps\">List of traps</span></h2>\n<p>The following traps are activated by stepping on their <a href=\"/wiki/Square\" title=\"Square\">square</a>:\n</p>\n<ul><li><a href=\"/wiki/Anti-magic_field\" title=\"Anti-magic field\">anti-magic field</a></li>\n<li><a href=\"/wiki/Arrow_trap\" class=\"mw-redirect\" title=\"Arrow trap\">arrow trap</a></li>\n<li><a href=\"/wiki/Bear_trap\" class=\"mw-redirect\" title=\"Bear trap\">bear trap</a></li>\n<li><a href=\"/wiki/Dart_trap\" class=\"mw-redirect\" title=\"Dart trap\">dart trap</a></li>\n<li><a href=\"/wiki/Fire_trap\" title=\"Fire trap\">fire trap</a></li>\n<li><a href=\"/wiki/Hole\" title=\"Hole\">hole</a></li>\n<li><a href=\"/wiki/Falling_rock_trap\" title=\"Falling rock trap\">falling rock trap</a></li>\n<li><a href=\"/wiki/Land_mine\" title=\"Land mine\">land mine</a></li>\n<li><a href=\"/wiki/Level_teleporter\" title=\"Level teleporter\">level teleporter</a></li>\n<li><a href=\"/wiki/Magic_portal\" title=\"Magic portal\">magic portal</a><sup>†</sup></li>\n<li><a href=\"/wiki/Magic_trap\" title=\"Magic trap\">magic trap</a></li>\n<li><a href=\"/wiki/Pit\" title=\"Pit\">pit</a></li>\n<li><a href=\"/wiki/Polymorph_trap\" title=\"Polymorph trap\">polymorph trap</a></li>\n<li><a href=\"/wiki/Rolling_boulder_trap\" title=\"Rolling boulder trap\">rolling boulder trap</a></li>\n<li><a href=\"/wiki/Rust_trap\" title=\"Rust trap\">rust trap</a></li>\n<li><a href=\"/wiki/Sleeping_gas_trap\" title=\"Sleeping gas trap\">sleeping gas trap</a></li>\n<li><a href=\"/wiki/Spiked_pit\" title=\"Spiked pit\">spiked pit</a></li>\n<li><a href=\"/wiki/Squeaky_board\" title=\"Squeaky board\">squeaky board</a></li>\n<li><a href=\"/wiki/Statue_trap\" title=\"Statue trap\">statue trap</a></li>\n<li><a href=\"/wiki/Teleportation_trap\" title=\"Teleportation trap\">teleportation trap</a></li>\n<li><a href=\"/wiki/Trap_door\" title=\"Trap door\">trap door</a></li>\n<li><a href=\"/wiki/Vibrating_square\" title=\"Vibrating square\">vibrating square</a><sup>†</sup></li>\n<li><a href=\"/wiki/Web\" title=\"Web\">web</a></li></ul>\n<p><sup>†</sup>: The vibrating square and magic portal are internally represented as traps, even though they are meant to aid the player instead of causing peril.\n</p><p>The following traps are activated by interacting with certain items or doors:\n</p>\n<ul><li><a href=\"/wiki/Container_trap\" title=\"Container trap\">container trap</a></li>\n<li><a href=\"/wiki/Tin#Explosion\" title=\"Tin\">exploding tin</a></li>\n<li><a href=\"/wiki/Door#Door_traps\" title=\"Door\">door trap</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"Generation\">Generation</span></h2>\n<p>In both filler levels and most special levels, a \"random\" trap is selected uniformly from the whole set of eligible traps, subject to level difficulty checks and some exclusions.<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup> Oddly, special levels that contain maze filler (the Castle, Asmodeus, Baalzebub, Orcus, and all real and fake Wizard's Tower levels, but <i>not</i> the Big Room or the Catacombs) use a completely separate formula that ignores level difficulty for selecting traps in the mazes.<sup id=\"cite_ref-2\" class=\"reference\"><a href=\"#cite_note-2\">&#91;2&#93;</a></sup> It nonetheless ends up working much the same way overall, but actually makes fire traps <i>less</i> common than they would otherwise be in Gehennom on those levels.\n</p>\n<div class=\"upcoming\">\n<p><i>The following information pertains to an upcoming version (<a href=\"/wiki/NetHack_3.7.0\" title=\"NetHack 3.7.0\">NetHack 3.7.0</a>). If this version is now released, please verify that it is still accurate, then update the page to incorporate this information.</i>\n</p>\nWhile <a href=\"/wiki/Hallucinating\" class=\"mw-redirect\" title=\"Hallucinating\">hallucinating</a>, traps may appear on the map and in messages as random or nonexistent trap types, though any messages resulting from triggering the trap are unchanged.</div>\n<h3><span class=\"mw-headline\" id=\"Fake_bones\">Fake bones</span></h3>\n<p>Certain types of traps up to dungeon level 4 may have a pre-aged <a href=\"/wiki/Corpse\" title=\"Corpse\">corpse</a> generated on top, along with random cursed weapons, tools, food or gems. These are often referred to as <b>fake bones</b>, based on their similarity to <a href=\"/wiki/Bones_file\" class=\"mw-redirect\" title=\"Bones file\">bones files</a>.\n</p><p>Arrow traps, dart traps, falling rock traps, and rolling boulder traps have a 1 &#8722; <span class=\"sfrac nowrap\"><span style=\"display:inline-block; vertical-align:-0.5em; font-size:85%; text-align:center;\"><span style=\"display:block; line-height:1em; margin:0 0.1em;\">Dlvl &#8722; 1</span><span style=\"display:block; line-height:1em; margin:0 0.1em; border-top:1px solid;\">4</span></span></span> chance of a corpse and items being placed on its square, i.e. this will always be the case with such traps on the first floor.<sup id=\"cite_ref-3\" class=\"reference\"><a href=\"#cite_note-3\">&#91;3&#93;</a></sup> There will always be at least one possession, and there is a <sup>1</sup>&#8260;<sub>5</sub> chance of placing an additional possession after each one.<sup id=\"cite_ref-4\" class=\"reference\"><a href=\"#cite_note-4\">&#91;4&#93;</a></sup>\n</p><p>Squeaky boards and rust traps never have a corpse because they are non-lethal. Pits and holes also never generate a corpse - any corpses found in pits are usually from generated monsters that fell in, especially if their associated items are present (e.g. finding an <a href=\"/wiki/Orcish_helm\" title=\"Orcish helm\">orcish helm</a> with a <a href=\"/wiki/Goblin\" title=\"Goblin\">goblin</a> corpse). Magic traps do not have corpses either as a result of not being specified in the relevant code.\n</p>\n<h2><span class=\"mw-headline\" id=\"Detection\">Detection</span></h2>\n<div class=\"merge\">\n<p>A user has suggested this page be <b>merged</b> with <i>\"<a href=\"/wiki/Portal_detection_methods\" title=\"Portal detection methods\">Portal detection methods</a>\"</i>\n</p>\n</div>\n<p>Avoiding traps in the dungeon takes patience and care. Therefore, the more time-consuming of these methods are only worthwhile when you are especially vulnerable. You can minimize your chances of stepping on a trap by paying close attention to monsters, pets, <a href=\"/wiki/You_hear\" title=\"You hear\">noises</a>, and terrain. Be wary of the telltale signs of traps such as conspicuous boulders, suspicious corpses, and piles of rocks, darts, or arrows. Traps that you've already discovered will also not be visible under items like these, so it's a good idea to use the <a href=\"/wiki/Trap_id\" title=\"Trap id\">trap id</a> command if you need to step onto that square that looks suspicious, even though you may have already been in that area and discovered all traps. By walking only where you have seen pets or monsters safely walk, you can avoid most traps. Remember where you have safely stepped before. <a href=\"/wiki/Elbereth\" title=\"Elbereth\">Elbereth</a> can cause monsters to <a href=\"/wiki/Flee\" class=\"mw-redirect\" title=\"Flee\">flee</a>, possibly uncovering traps as they do. A <a href=\"/wiki/Leash\" title=\"Leash\">leashed</a> pet will whine if it is near a trap. <a href=\"/wiki/Magic_resistance\" title=\"Magic resistance\">Magic resistance</a> and <a href=\"/wiki/Fire_resistance\" title=\"Fire resistance\">fire resistance</a> can help nullify some of the more dangerous effects of traps.\n</p><p>The <a href=\"/wiki/Search\" title=\"Search\">search</a> command is a great way to uncover traps without setting them off. #Untrap can be used on doors and containers. You can improve your chances of finding traps if you:\n</p>\n<ul><li>have high Luck;</li>\n<li>put on or <a href=\"/wiki/Eating_jewelry\" title=\"Eating jewelry\">eat</a> a <a href=\"/wiki/Ring_of_searching\" title=\"Ring of searching\">ring of searching</a>;</li>\n<li>put on a <a href=\"/wiki/Pair_of_lenses\" title=\"Pair of lenses\">pair of lenses</a>;</li>\n<li>wield <a href=\"/wiki/Excalibur\" title=\"Excalibur\">Excalibur</a>;</li>\n<li>wield the blessed <a href=\"/wiki/Master_Key_of_Thievery\" class=\"mw-redirect\" title=\"Master Key of Thievery\">Master Key of Thievery</a> (or uncursed, if you are a <a href=\"/wiki/Rogue\" title=\"Rogue\">Rogue</a>) without gloves;</li>\n<li>play a role that gets intrinsic searching\n<ul><li><a href=\"/wiki/Ranger\" title=\"Ranger\">Ranger</a>: Level 1</li>\n<li><a href=\"/wiki/Monk\" title=\"Monk\">Monk</a>: Level 9</li>\n<li><a href=\"/wiki/Rogue\" title=\"Rogue\">Rogue</a>: Level 10</li>\n<li><a href=\"/wiki/Archeologist\" title=\"Archeologist\">Archeologist</a>: Level 10</li>\n<li><a href=\"/wiki/Tourist\" title=\"Tourist\">Tourist</a>: Level 10</li></ul></li></ul>\n<p>Some items can be useful in detecting traps, although they may have better uses elsewhere:\n</p>\n<ul><li><a href=\"/wiki/Scroll_of_gold_detection\" title=\"Scroll of gold detection\">scroll of gold detection</a> (read while cursed or <a href=\"/wiki/Confused\" class=\"mw-redirect\" title=\"Confused\">confused</a>)</li>\n<li><a href=\"/wiki/Crystal_ball\" title=\"Crystal ball\">crystal ball</a> (scry for <b>^</b> with high <a href=\"/wiki/Intelligence\" class=\"mw-redirect\" title=\"Intelligence\">intelligence</a>)</li>\n<li><a href=\"/wiki/Wand_of_secret_door_detection\" title=\"Wand of secret door detection\">wand of secret door detection</a></li>\n<li><a href=\"/wiki/Spellbook_of_detect_unseen\" title=\"Spellbook of detect unseen\">spellbook of detect unseen</a></li>\n<li>The <a href=\"/wiki/Bell_of_Opening\" title=\"Bell of Opening\">Bell of Opening</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"Removal\">Removal</span></h2>\n<p>Because of technical limitations in the level format, only one trap can exist on any given square. If you aren't able to #<a href=\"/wiki/Untrap\" title=\"Untrap\">untrap</a> a physical trap, or if the trap is non-physical, you can usually remove most traps by entering the square and digging a <a href=\"/wiki/Pit\" title=\"Pit\">pit</a>. This will overwrite the existing trap in the level data, replacing it with a pit trap. You can then leave the pit and avoid it, or fill it by pushing a <a href=\"/wiki/Boulder\" title=\"Boulder\">boulder</a> in. The downside to this strategy is that you must expose yourself to the trap by entering its space.\n</p>\n<h2><span class=\"mw-headline\" id=\"History\">History</span></h2>\n<p>The \"fake bones\" found on early traps are introduced in <a href=\"/wiki/NetHack_3.6.1\" title=\"NetHack 3.6.1\">NetHack 3.6.1</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Variants\">Variants</span></h2>\n<h3><span class=\"mw-headline\" id=\"UnNetHack\">UnNetHack</span></h3>\n<p><a href=\"/wiki/UnNetHack\" title=\"UnNetHack\">UnNetHack</a> adds <a href=\"/wiki/Ice_trap\" title=\"Ice trap\">ice traps</a>.\n</p>\n<h3><span class=\"mw-headline\" id=\"FIQHack\">FIQHack</span></h3>\n<p><a href=\"/wiki/Lenses\" class=\"mw-redirect\" title=\"Lenses\">Lenses</a> in FIQHack provide <a href=\"/wiki/Automatic_searching\" title=\"Automatic searching\">automatic searching</a>, making them useful for detecting traps.\n</p>\n<h3><span class=\"mw-headline\" id=\"xNetHack\">xNetHack</span></h3>\n<dl><dd><div class=\"noprint relarticle mainarticle\"><i>Main article: <a href=\"/wiki/XNetHack#Trap_changes\" title=\"XNetHack\">xNetHack §&#160;Trap changes</a></i></div></dd></dl>\n<p>In <a href=\"/wiki/XNetHack\" title=\"XNetHack\">xNetHack</a>, you are asked for confirmation when stepping onto a square with a trap you have already found (and are not clearly immune to). This eliminates the problem of accidentally walking onto traps that you can't see, without needing to use the <a href=\"/wiki/Trap_id\" title=\"Trap id\">trap id</a> command at every step. xNetHack also changes the effects of many traps.\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-1\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.6_Released/src/mklev.c#L1271\">src/mklev.c in NetHack 3.6.6, line 1271</a>\n     </span>\n</li>\n<li id=\"cite_note-2\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-2\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.6_Released/src/sp_lev.c#L829\">src/sp_lev.c in NetHack 3.6.6, line 829</a>\n     </span>\n</li>\n<li id=\"cite_note-3\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-3\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L1415\">src/mklev.c in NetHack 3.6.7, line 1415</a>\n     </span>\n</li>\n<li id=\"cite_note-4\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-4\">↑</a></span> <span class=\"reference-text\"><a class=\"external text\" href=\"https://github.com/NetHack/NetHack/blob/NetHack-3.6.7_Released/src/mklev.c#L1487\">src/mklev.c in NetHack 3.6.7, line 1487</a>\n     </span>\n</li>\n</ol></div>\n<div style=\"display:none; right:10px; padding-bottom: 17px\" class=\"metadata topicon nopopups\"><div style=\"margin-top: -10px\"><a href=\"/wiki/NetHackWiki:Next_version\" title=\"This article has been updated to reflect NetHack 3.6.6. Click here for more information.\"><img alt=\"This article has been updated to reflect NetHack 3.6.6. Click here for more information.\" src=\"/images/5/57/Nh366-icon.png\" width=\"32\" height=\"32\" /></a></div></div>\n\n<!-- \nNewPP limit report\nCached time: 20240926163454\nCache expiry: 604800\nDynamic content: false\nCPU time usage: 0.050 seconds\nReal time usage: 0.132 seconds\nPreprocessor visited node count: 675/1000000\nPreprocessor generated node count: 2903/1000000\nPost‐expand include size: 7971/2097152 bytes\nTemplate argument size: 1061/2097152 bytes\nHighest expansion depth: 9/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 1575/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%   84.682      1 -total\n 55.83%   47.281      1 Template:Features\n 11.21%    9.492     13 Template:Lightgray\n 11.13%    9.429      4 Template:Refsrc\n 10.63%    9.003      3 Template:Black\n  9.52%    8.066      1 Template:Nethack-366\n  7.64%    6.473      3 Template:Darkgray\n  5.68%    4.809      1 Template:Version_icon\n  5.06%    4.283      1 Template:Upcoming\n  4.97%    4.205      1 Template:Purple\n-->\n\n<!-- Saved in parser cache with key wikihackdb:pcache:idhash:1378-0!canonical and timestamp 20240926163454 and revision id 160685\n -->\n</div></div>\t\t\t\t\t<div class=\"printfooter\">\n\t\t\t\t\t\tRetrieved from \"<a dir=\"ltr\" href=\"https://nethackwiki.com/index.php?title=Trap&amp;oldid=160685\">https://nethackwiki.com/index.php?title=Trap&amp;oldid=160685</a>\"\t\t\t\t\t</div>\n\t\t\t\t<div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\"><div id=\"mw-normal-catlinks\" class=\"mw-normal-catlinks\"><a href=\"/wiki/Special:Categories\" title=\"Special:Categories\">Categories</a>: <ul><li><a href=\"/wiki/Category:Upcoming\" title=\"Category:Upcoming\">Upcoming</a></li><li><a href=\"/wiki/Category:Pages_to_be_merged\" title=\"Category:Pages to be merged\">Pages to be merged</a></li><li><a href=\"/wiki/Category:Nethack-366_articles\" title=\"Category:Nethack-366 articles\">Nethack-366 articles</a></li><li><a href=\"/wiki/Category:Dungeon_features\" title=\"Category:Dungeon features\">Dungeon features</a></li><li><a href=\"/wiki/Category:Traps\" title=\"Category:Traps\">Traps</a></li></ul></div></div>\t\t\t\t<div class=\"visualClear\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"mw-navigation\">\n\t\t\t<h2>Navigation menu</h2>\n\t\t\t<div id=\"mw-head\">\n\t\t\t\t\t\t\t\t\t<div id=\"p-personal\" role=\"navigation\" class=\"\" aria-labelledby=\"p-personal-label\">\n\t\t\t\t\t\t<h3 id=\"p-personal-label\">Personal tools</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"pt-createaccount\"><a href=\"/index.php?title=Special:CreateAccount&amp;returnto=Trap\" title=\"You are encouraged to create an account and log in; however, it is not mandatory\">Create account</a></li><li id=\"pt-login\"><a href=\"/index.php?title=Special:UserLogin&amp;returnto=Trap\" title=\"You are encouraged to log in; however, it is not mandatory [o]\" accesskey=\"o\">Log in</a></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"left-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-namespaces\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-namespaces-label\">\n\t\t\t\t\t\t<h3 id=\"p-namespaces-label\">Namespaces</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-nstab-main\" class=\"selected\"><span><a href=\"/wiki/Trap\" title=\"View the content page [c]\" accesskey=\"c\">Page</a></span></li><li id=\"ca-talk\"><span><a href=\"/wiki/Talk:Trap\" rel=\"discussion\" title=\"Discussion about the content page [t]\" accesskey=\"t\">Discussion</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-variants\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-variants-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-variants-label\" />\n\t\t\t\t\t\t<h3 id=\"p-variants-label\">\n\t\t\t\t\t\t\t<span>Variants</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div id=\"right-navigation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-views\" role=\"navigation\" class=\"vectorTabs\" aria-labelledby=\"p-views-label\">\n\t\t\t\t\t\t<h3 id=\"p-views-label\">Views</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li id=\"ca-view\" class=\"collapsible selected\"><span><a href=\"/wiki/Trap\">Read</a></span></li><li id=\"ca-viewsource\" class=\"collapsible\"><span><a href=\"/index.php?title=Trap&amp;action=edit\" title=\"This page is protected.&#10;You can view its source [e]\" accesskey=\"e\">View source</a></span></li><li id=\"ca-history\" class=\"collapsible\"><span><a href=\"/index.php?title=Trap&amp;action=history\" title=\"Past revisions of this page [h]\" accesskey=\"h\">View history</a></span></li>\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-cactions\" role=\"navigation\" class=\"vectorMenu emptyPortlet\" aria-labelledby=\"p-cactions-label\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"vectorMenuCheckbox\" aria-labelledby=\"p-cactions-label\" />\n\t\t\t\t\t\t<h3 id=\"p-cactions-label\"><span>More</span></h3>\n\t\t\t\t\t\t<div class=\"menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"p-search\" role=\"search\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<label for=\"searchInput\">Search</label>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<form action=\"/index.php\" id=\"searchform\">\n\t\t\t\t\t\t\t<div id=\"simpleSearch\">\n\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search NetHackWiki\" title=\"Search NetHackWiki [f]\" accesskey=\"f\" id=\"searchInput\"/><input type=\"hidden\" value=\"Special:Search\" name=\"title\"/><input type=\"submit\" name=\"fulltext\" value=\"Search\" title=\"Search the pages for this text\" id=\"mw-searchButton\" class=\"searchButton mw-fallbackSearchButton\"/><input type=\"submit\" name=\"go\" value=\"Go\" title=\"Go to a page with this exact name if it exists\" id=\"searchButton\" class=\"searchButton\"/>\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"mw-panel\">\n\t\t\t\t<div id=\"p-logo\" role=\"banner\"><a class=\"mw-wiki-logo\" href=\"/wiki/Main_Page\"  title=\"Visit the main page\"></a></div>\n\t\t\t\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-navigation\" aria-labelledby=\"p-navigation-label\">\n\t\t\t<h3 id=\"p-navigation-label\">Navigation</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-NetHack-Wiki\"><a href=\"/wiki/Main_Page\">NetHack Wiki</a></li><li id=\"n-Forum\"><a href=\"/wiki/Forum:Watercooler\">Forum</a></li><li id=\"n-portal\"><a href=\"/wiki/NetHackWiki:Community_Portal\" title=\"About the project, what you can do, where to find things\">Community portal</a></li><li id=\"n-recentchanges\"><a href=\"/wiki/Special:RecentChanges\" title=\"A list of recent changes in the wiki [r]\" accesskey=\"r\">Recent changes</a></li><li id=\"n-randompage\"><a href=\"/wiki/Special:Random\" title=\"Load a random page [x]\" accesskey=\"x\">Random page</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-Popular_pages\" aria-labelledby=\"p-Popular_pages-label\">\n\t\t\t<h3 id=\"p-Popular_pages-label\">Popular pages</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Dungeon-features\"><a href=\"/wiki/Dungeon_feature\">Dungeon features</a></li><li id=\"n-Monsters\"><a href=\"/wiki/Monster#Canonical_list_of_monsters\">Monsters</a></li><li id=\"n-In.2FExtrinsics\"><a href=\"/wiki/Property#Intrinsic_properties\">In/Extrinsics</a></li><li id=\"n-Items\"><a href=\"/wiki/Item\">Items</a></li><li id=\"n-Spells\"><a href=\"/wiki/Spellbook#List_of_spellbooks\">Spells</a></li><li id=\"n-Game-options\"><a href=\"/wiki/Options\">Game options</a></li><li id=\"n-Websites\"><a href=\"/wiki/Websites\">Websites</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-contributing\" aria-labelledby=\"p-contributing-label\">\n\t\t\t<h3 id=\"p-contributing-label\">Contributing</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"n-Style-guide\"><a href=\"/wiki/NetHackWiki:Style_guide\">Style guide</a></li><li id=\"n-help\"><a href=\"/wiki/NetHackWiki:How_to_help\" title=\"The place to find out\">How to help</a></li><li id=\"n-Current-projects\"><a href=\"/wiki/NetHackWiki:Current_projects\">Current projects</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t<div class=\"portal\" role=\"navigation\" id=\"p-tb\" aria-labelledby=\"p-tb-label\">\n\t\t\t<h3 id=\"p-tb-label\">Tools</h3>\n\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t<li id=\"t-whatlinkshere\"><a href=\"/wiki/Special:WhatLinksHere/Trap\" title=\"A list of all wiki pages that link here [j]\" accesskey=\"j\">What links here</a></li><li id=\"t-recentchangeslinked\"><a href=\"/wiki/Special:RecentChangesLinked/Trap\" rel=\"nofollow\" title=\"Recent changes in pages linked from this page [k]\" accesskey=\"k\">Related changes</a></li><li id=\"t-specialpages\"><a href=\"/wiki/Special:SpecialPages\" title=\"A list of all special pages [q]\" accesskey=\"q\">Special pages</a></li><li id=\"t-print\"><a href=\"/index.php?title=Trap&amp;printable=yes\" rel=\"alternate\" title=\"Printable version of this page [p]\" accesskey=\"p\">Printable version</a></li><li id=\"t-permalink\"><a href=\"/index.php?title=Trap&amp;oldid=160685\" title=\"Permanent link to this revision of the page\">Permanent link</a></li><li id=\"t-info\"><a href=\"/index.php?title=Trap&amp;action=info\" title=\"More information about this page\">Page information</a></li>\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div id=\"footer\" role=\"contentinfo\">\n\t\t\t\t\t\t<ul id=\"footer-info\">\n\t\t\t\t\t\t\t\t<li id=\"footer-info-lastmod\"> This page was last edited on 20 January 2024, at 19:18.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id=\"footer-places\">\n\t\t\t\t\t\t\t\t<li id=\"footer-places-about\"><a href=\"/wiki/NetHackWiki:About\" title=\"NetHackWiki:About\">About NetHackWiki</a></li>\n\t\t\t\t\t\t\t\t<li id=\"footer-places-disclaimer\"><a href=\"/wiki/NetHackWiki:General_disclaimer\" title=\"NetHackWiki:General disclaimer\">Disclaimers</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<ul id=\"footer-icons\" class=\"noprint\">\n\t\t\t\t\t\t\t\t\t\t<li id=\"footer-poweredbyico\">\n\t\t\t\t\t\t<a href=\"//www.mediawiki.org/\"><img src=\"/resources/assets/poweredby_mediawiki_88x31.png\" alt=\"Powered by MediaWiki\" srcset=\"/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x\" width=\"88\" height=\"31\"/></a>\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t\n<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\"wgPageParseReport\":{\"limitreport\":{\"cputime\":\"0.050\",\"walltime\":\"0.132\",\"ppvisitednodes\":{\"value\":675,\"limit\":1000000},\"ppgeneratednodes\":{\"value\":2903,\"limit\":1000000},\"postexpandincludesize\":{\"value\":7971,\"limit\":2097152},\"templateargumentsize\":{\"value\":1061,\"limit\":2097152},\"expansiondepth\":{\"value\":9,\"limit\":40},\"expensivefunctioncount\":{\"value\":0,\"limit\":100},\"unstrip-depth\":{\"value\":0,\"limit\":20},\"unstrip-size\":{\"value\":1575,\"limit\":5000000},\"timingprofile\":[\"100.00%   84.682      1 -total\",\" 55.83%   47.281      1 Template:Features\",\" 11.21%    9.492     13 Template:Lightgray\",\" 11.13%    9.429      4 Template:Refsrc\",\" 10.63%    9.003      3 Template:Black\",\"  9.52%    8.066      1 Template:Nethack-366\",\"  7.64%    6.473      3 Template:Darkgray\",\"  5.68%    4.809      1 Template:Version_icon\",\"  5.06%    4.283      1 Template:Upcoming\",\"  4.97%    4.205      1 Template:Purple\"]},\"cachereport\":{\"timestamp\":\"20240926163454\",\"ttl\":604800,\"transientcontent\":false}}});mw.config.set({\"wgBackendResponseTime\":32});});</script>\n\t</body>\n</html>\n","rawPage":"{{features}}\nIn ''[[NetHack]]'', '''traps''' are mechanisms on a space which may activate when you or a [[monster]] steps on them. Traps can be detected through various methods, and certain types of traps can be disarmed with the #[[untrap]] command.\n\n==List of traps==\nThe following traps are activated by stepping on their [[square]]:\n\n* [[anti-magic field]]\n* [[arrow trap]]\n* [[bear trap]]\n* [[dart trap]]\n* [[fire trap]]\n* [[hole]]\n* [[falling rock trap]]\n* [[land mine]]\n* [[level teleporter]]\n* [[magic portal]]<sup>†</sup>\n* [[magic trap]]\n* [[pit]]\n* [[polymorph trap]]\n* [[rolling boulder trap]]\n* [[rust trap]]\n* [[sleeping gas trap]]\n* [[spiked pit]]\n* [[squeaky board]]\n* [[statue trap]]\n* [[teleportation trap]]\n* [[trap door]]\n* [[vibrating square]]<sup>†</sup>\n* [[web]]\n\n<sup>†</sup>: The vibrating square and magic portal are internally represented as traps, even though they are meant to aid the player instead of causing peril.\n\nThe following traps are activated by interacting with certain items or doors:\n\n* [[container trap]]\n* [[tin#Explosion|exploding tin]]\n* [[door#Door traps|door trap]]\n\n==Generation==\nIn both filler levels and most special levels, a \"random\" trap is selected uniformly from the whole set of eligible traps, subject to level difficulty checks and some exclusions.{{refsrc|src/mklev.c|1271|version=NetHack 3.6.6}} Oddly, special levels that contain maze filler (the Castle, Asmodeus, Baalzebub, Orcus, and all real and fake Wizard's Tower levels, but ''not'' the Big Room or the Catacombs) use a completely separate formula that ignores level difficulty for selecting traps in the mazes.{{refsrc|src/sp_lev.c|829|version=NetHack 3.6.6}} It nonetheless ends up working much the same way overall, but actually makes fire traps ''less'' common than they would otherwise be in Gehennom on those levels.\n\n{{upcoming|NetHack 3.7.0|While [[hallucinating]], traps may appear on the map and in messages as random or nonexistent trap types, though any messages resulting from triggering the trap are unchanged.}}\n\n===Fake bones===\nCertain types of traps up to dungeon level 4 may have a pre-aged [[corpse]] generated on top, along with random cursed weapons, tools, food or gems. These are often referred to as '''fake bones''', based on their similarity to [[bones file]]s.\n\nArrow traps, dart traps, falling rock traps, and rolling boulder traps have a 1 &minus; {{sfrac|Dlvl &minus; 1|4}} chance of a corpse and items being placed on its square, i.e. this will always be the case with such traps on the first floor.{{refsrc|src/mklev.c|1415|version=NetHack 3.6.7}} There will always be at least one possession, and there is a {{frac|5}} chance of placing an additional possession after each one.{{refsrc|src/mklev.c|1487|version=NetHack 3.6.7}}\n\nSqueaky boards and rust traps never have a corpse because they are non-lethal. Pits and holes also never generate a corpse - any corpses found in pits are usually from generated monsters that fell in, especially if their associated items are present (e.g. finding an [[orcish helm]] with a [[goblin]] corpse). Magic traps do not have corpses either as a result of not being specified in the relevant code.\n\n==Detection==\n{{merge|[[Portal detection methods]]}}\nAvoiding traps in the dungeon takes patience and care. Therefore, the more time-consuming of these methods are only worthwhile when you are especially vulnerable. You can minimize your chances of stepping on a trap by paying close attention to monsters, pets, [[you hear|noises]], and terrain. Be wary of the telltale signs of traps such as conspicuous boulders, suspicious corpses, and piles of rocks, darts, or arrows. Traps that you've already discovered will also not be visible under items like these, so it's a good idea to use the [[trap id]] command if you need to step onto that square that looks suspicious, even though you may have already been in that area and discovered all traps. By walking only where you have seen pets or monsters safely walk, you can avoid most traps. Remember where you have safely stepped before. [[Elbereth]] can cause monsters to [[flee]], possibly uncovering traps as they do. A [[leash]]ed pet will whine if it is near a trap. [[Magic resistance]] and [[fire resistance]] can help nullify some of the more dangerous effects of traps.\n\nThe [[search]] command is a great way to uncover traps without setting them off. #Untrap can be used on doors and containers. You can improve your chances of finding traps if you:\n* have high Luck;\n* put on or [[Eating jewelry|eat]] a [[ring of searching]];\n* put on a [[pair of lenses]];\n* wield [[Excalibur]];\n* wield the blessed [[Master Key of Thievery]] (or uncursed, if you are a [[Rogue]]) without gloves;\n* play a role that gets intrinsic searching\n** [[Ranger]]: Level 1\n** [[Monk]]: Level 9\n** [[Rogue]]: Level 10\n** [[Archeologist]]: Level 10\n** [[Tourist]]: Level 10\n\nSome items can be useful in detecting traps, although they may have better uses elsewhere:\n* [[scroll of gold detection]] (read while cursed or [[confused]])\n* [[crystal ball]] (scry for '''^''' with high [[intelligence]])\n* [[wand of secret door detection]]\n* [[spellbook of detect unseen]]\n* The [[Bell of Opening]]\n\n==Removal==\nBecause of technical limitations in the level format, only one trap can exist on any given square. If you aren't able to #[[untrap]] a physical trap, or if the trap is non-physical, you can usually remove most traps by entering the square and digging a [[pit]]. This will overwrite the existing trap in the level data, replacing it with a pit trap. You can then leave the pit and avoid it, or fill it by pushing a [[boulder]] in. The downside to this strategy is that you must expose yourself to the trap by entering its space.\n\n==History==\nThe \"fake bones\" found on early traps are introduced in [[NetHack 3.6.1]].\n\n==Variants==\n===UnNetHack===\n[[UnNetHack]] adds [[ice trap]]s.\n\n=== FIQHack ===\n[[Lenses]] in FIQHack provide [[automatic searching]], making them useful for detecting traps.\n\n=== xNetHack ===\n{{main|xNetHack#Trap changes|l1=xNetHack §&nbsp;Trap changes}}\nIn [[xNetHack]], you are asked for confirmation when stepping onto a square with a trap you have already found (and are not clearly immune to). This eliminates the problem of accidentally walking onto traps that you can't see, without needing to use the [[trap id]] command at every step. xNetHack also changes the effects of many traps.\n\n==References==\n<references/>\n{{nethack-366}}\n[[Category:Dungeon features]]\n[[Category:Traps]]"}