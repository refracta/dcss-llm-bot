{"title":"Extension","url":"http://crawl.chaosforge.org/Extension","type":"raw","data":"{{obsolete}}\n{{NISpell\n|name=Extension\n|level=5\n|school1={{Enchantments}}\n|school2=\n|school3=\n|sources=<div>\n*[[Book of Enchantments]]\n</div>\n}}\n{{flavour|This spell extends the duration of most beneficial enchantments affecting the caster.}}\n\n'''Extension''' is a level 5 [[Enchantments]] spell which extends the duration of certain enchantments affecting the caster.\n\n==Useful Info==\nExtension prolongs the effects of enchantment spells, as if you had just recast the enchantment with the [[spell power]] of Extension (exceptions: [[Ring of Flames]] and [[Condensation Shield]]). Only enchantments with a corresponding spell can be extended, and you must have that spell memorized to extend it. Chance of extension is <code>50% + spell_success_rate</code>, so you can fail to extend spells with a \"Poor\" success rate or lower.\n\nFor each cast of Extension, you have a 50% chance of gaining 1000 points of [[magic contamination]]. You'll always get another 1000 points of contam when extending [[Haste]] or [[Invisibility]] (stacking).\n\nThe duration of extension depends on the spell in question:\n\n'''100 turns max:'''\n<div style=\"column-count:2; width:500px\">\n*[[Bat Form]] if not a vampire (min 0)\n*[[Blade Hands]] (min 0)\n*[[Deflect Missiles]] (min 15)\n*[[Dragon Form]] (min 0)\n*[[Flight (spell)|Flight]] (min 25, 2x dur)\n*[[Ice Form]] (min 0)\n*[[Insulation]] (min 10)\n*[[Invisibility]] (min 0)\n*[[Levitation]] (min 25)\n*[[Necromutation]] (min 0)\n*[[Regeneration]] (min 5, 2/3 dur)\n*[[Repel Missiles]] (min 8, 2x dur)\n*[[Resist Poison]] (min 10)\n*[[See Invisible]] (min 10, 1/2 dur)\n*[[Slow]]\n*[[Spider Form]] (min 0)\n*[[Statue Form]] (min 0)\n*[[Stonemail]] (min 20, x2 dur)\n*[[Swiftness]] (min 20)</div>\n\n'''80 turns max:'''\n*[[Haste]] (min 40, 100 turns maximum if wearing an amulet of resist slowing)\n\n'''50 turns maximum:'''\n*[[Control Teleport]] (min 10)\n*[[Ozocubu's Armour]] (min 20, double extension)\n*[[Stoneskin]] (min 10, double extension)\n\n'''30 turns max:'''\n*[[Phase Shift]] (min 5)\n\n'''Extended only by a few turns:'''\n*[[Condensation Shield]] (max 30)\n*[[Ring of Flames]], extended only a few turns, randomly up to power/20, thus usually around 5 and at most 20 (max 50)\n*Any temporary [[brand|weapon brand]] spell currently in force\n\nExtension can allow you to maintain any of [[Xom]]'s enchantments as well, including the unique [[Stonemail]] spell.\n\n==Strategy==\nA \"convenience\" spell. Makes it easier to play optimally, i.e., to continuously renew buffs during exploration. If you want to keep multiple enchantments active, then Extension saves both time and MP.\n\nAs an example, the following set could be sustained indefinitely, if you had the individual spells memorised:\n<div style=\"column-count:2; width:500px\">\n*[[Stoneskin]]\n*[[Ozocubu's Armour]]\n*[[Insulation]]\n*[[Resist Poison]]\n*[[Control Teleport]]\n*[[Deflect Missiles]]\n*[[Regeneration]]\n*[[Flight (spell)|Flight]]\n*[[Swiftness]]</div>\n\nAdding Necromutation obviates the need for Resist Poison and disables both Stoneskin and Regeneration:\n<div style=\"column-count:2; width:500px\">\n*[[Necromutation]]\n*[[Insulation]]\n*[[Ozocubu's Armour]]\n*[[Control Teleport]]\n*[[Deflect Missiles]]\n*[[Flight (spell)|Flight]]\n*[[Swiftness]]</div>\n\nExtending [[Phase Shift]] is usually problematic. It has a cap of 30, and a warning of about 5-6 turns before expiration. Extension causes an average of 500 contam, which is lost every 20 turns. At power 100, Extension sets the Phase Shift turns to about 25 on average. Thus, you have to wait a few turns after the warning to use Extension, and even then, it can often lead to mutagenic glow.\n\n===Changing init.txt===\nTo get the most out of Extension, you should change your game configuration to inform you when you need to recast the spell.\n\nAdd the following lines to your init.txt. They will cause the game to stop when your spell effects are about to expire.\n<pre>\ntravel_stop_message = duration:\nforce_more_message = duration:\n\ntravel_stop_message = You are starting to lose your buoyancy\nforce_more_message = You are starting to lose your buoyancy\n\ntravel_stop_message = You have a feeling this form\nforce_more_message = You have a feeling this form\nmessage_colour = lightred:You have a feeling this form\n\ntravel_stop_message = Your transformation\nforce_more_message = Your transformation\nmessage_colour = lightred:Your transformation\n\ntravel_stop_message = You feel uncertain\nforce_more_message = You feel uncertain\n\ntravel_stop_message = Your deflect missiles\nforce_more_message = Your deflect missiles\n</pre>\n\nThen, adjust the extension spell to a letter you like (for instance 'z' so you tap 'zz') and/or add a macro for it.\n\nAfter that, whenever you get a duration message, dismiss the --More-- prompt and cast Extension. \n\nOccasionally a spell will only be extended for a few turns or even one turn, so if you get any kind of expiration message immediately after casting Extension, cast it again.\n\nIt is a good idea to wield a staff of enchantments when you are traveling or doing non-combat activities, so that your extensions will last longer.\n\n===Extending Haste===\nIt is possible to use Haste while also using Extension, although you do not want to cast Extension while you are hasted, as this will soon lead to mutagenic levels of magical contamination.\n\nOne way to safely combine the two spells is to cast Extension with a staff of enchantments wielded, ideally multiple times (so that your enchantments last more than 80 turns, the maximum of Haste). Then, cast then Haste itself (which will be in force for 40-80 turns). You may also want to wield a lantern of shadows, to increase the chances of Haste taking less than 50 turns, so that it expires before Ozocubu's Armour and Control Teleport.\n\nA simpler method is to re-cast any individual spells that expire before Haste does; once Haste itself expires, you can safely cast Extension again if you are not already substantially contaminated.\n\nShould you find yourself glowing as a result of accidentally extending Haste, make certain to not extend it again. An [[amulet of resist mutation]] will ward off mutation 90% of the time; if playing as an undead (or if necromutated), you will rot instead of mutating, which can be cured via the means outlined on the [[rot]] page.\n\nIf you want to turn invisible, use a ring of invisibility or cloak of darkness to turn visible when no longer needed.\n\n==History==\n*Extension was removed in [[0.8]].\n\n[[Category:Obsolete spells]]"}