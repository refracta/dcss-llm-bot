{"title":"Shields","url":"http://crawl.chaosforge.org/Shields","type":"raw","data":"{{version031}}\n''For the skill, see [[Shields (skill)]]. For the item formerly known as just a shield, see [[kite shield]].''\n{{flavour|“Let who will boast their courage in the field,<br>\nI find but little safety from my shield.<br>\nNature's, not honour's, law we must obey:<br>\nThis made me cast my useless shield away,<br>\nAnd by a prudent flight and cunning save<br>\nA life, which valour could not, from the grave.<br>\nA better buckler I can soon regain;<br>\nBut who can get another life again?”<br>\n-Archilochos. 7th cent. B.C. trans. William H. Goodwin, 1878.}}\n\n[[Shields]] are a kind of armour worn on one hand, preventing the use of two-handed weapons; they make use of the [[Shields skill]]. Unlike other armour, shields increase a character's [[SH]] defense, giving you a chance at blocking physical (and some magical) attacks entirely. There are three types of shield, from smallest to largest:\n\n*[[Buckler]]\n*[[Kite shield]]\n*[[Tower shield]]\n\n[[Orb]]s also occupy your off-hand slot, but provide no shielding, instead granting assorted magical effects from their special egos.\n\nSome magical effects can also increase your SH score.\n\n==Shield Penalties==\nWearing a shield imposes penalties to attack speed, EV, and spellcasting. While the penalty for wearing a buckler is almost negligible, a tower shield can seriously slow your attacks and make spellcasting unreliable. \n\n===EV Penalty===\nYour shield EV penalty is equal to:<ref>{{source ref|0.30.0|player.cc|5739}}</ref>\n\n[[File:Shield encumbrance ev.png|500px|alt=<code>2/5 * encumbrance^2 / (5 + str) * (27 - shield_skill) / 27</code>]]\n\n[[Strength|Stronger]] characters are less encumbered by shields, and anyone can eliminate shield penalty by maxing out the Shields skill.\n\n{| class=\"prettytable\" cellpadding=\"10\" border=\"9\"\n|- align=\"center\"\n! Shield type !! Encumbrance\n|-\n|Buckler || 5\n|-\n|Kite shield || 10\n|-\n|Tower shield || 15\n|}\n\nThe EV penalty is subtracted directly from your evasion. Your unrounded EV penalty is also used to calculate the other penalties.\n\n===Attack Penalty===\nThis penalty applies to melee attacks (including unarmed attacks), ranged weapons, and throwing weapons.\n\nThe shield penalty, in units of EV, is converted into attack delay, in units of [[aut]]. When you attack with a shield, it'll take from <code>EV_penalty</code> to <code>EV_penalty + 0.05</code> aut longer.<ref>{{source ref|0.30.0|player-act.cc|348}}<br>Note that the function random_var is rolling a number from (20 * EV_penalty) to (20 * EV_penalty + 1), which is then divided by 20, and rounded in a weighed fashion. (See {{source ref|0.30.1|random-var.cc|11}})</ref> If the penalty is not an integer, it is rounded in a weighted manner.\n\nNote that it is in units of aut, not [[decaAut]] or \"[[turn]]s\". For reference, having 1 EV penalty slows you down by 1 aut = 0.1 turn.\n\n===Spell Penalty===\nThe spellcasting penalty is significantly more complicated. Shields add to \"SpellFailure\", not to be confused with your actual % chance of failure:\n\n<code>spell failure = 19 * ev_penalty </code>\n\nFor reference, 12 SpellFailure = 1 level in every spell school (excluding [[Spellcasting]]). 15 SpellFailure = 1 level in every school, including [[Spellcasting]].\n\nThis number is then modified by various functions described in the [[spell success]] page.\n\n==[[Ego]]s==\n[[Buckler]]s, [[kite shield]]s, and [[tower shield]]s can spawn with the following egos<ref>{{source ref|0.29.1|makeitem.cc|741}}</ref>:\n*~3%, [[Resistance_(ego)|resistance]]\n*10%, [[fire resistance]]\n*10%, [[cold resistance]]\n*10%, [[poison resistance]]\n*10%, [[positive energy]]\n*19%, [[reflection]]\n*39%, [[protection]]\n\nShields of [[cold resistance|cold]] and [[fire resistance]] can also occasionally be found in [[ice cave]]s and [[volcano]]es, respectively.\n\nEvery [[orb]] has its own ego; see the [[orb]] page for more details.\n\n==Blocking==\nAs long as your [[SH]] is above 0, you can block melee and ranged \"projectile\" attacks.\n\nAll melee attacks can be blocked (except for successful [[stab]]s), but many types of ranged attacks are unblockable:\n*[[Penetration|Penetrating]] attacks: [[Javelin]]s, [[Bolt spell]]s, [[Starburst]]...\n*Almost everything with perfect [[accuracy]]: [[Magic Dart]], [[Smiting]], [[Chain Lightning]], Explosions ([[Fireball]], [[Damnation]]), [[Shatter]]... \n:[[Orb of Destruction]] is the only spell that ignores EV, but can be blocked.\n*Enchantments: [[Agony]], [[Pain]], [[Confuse]], everything that checks [[willpower]]\n\nSome examples of ranged attacks that can be blocked:\n*[[Ranged Weapons]], like [[shortbow]]s and [[sling]]s\n*Spells that fire single-target projectiles, like [[Iron Shot]], [[Poison Arrow]], [[Orb of Destruction]], [[Sandblast]]\n\nIf the attacker's pierce value is less than the defender's blocking value (see below for details), the attack does no damage. However, there is a hard limit on the amount of attacks you can block per player turn. Shield blocking is done before rolling your [[evasion]] or your [[AC]]. Blocking doesn't benefit from [[repulsion]] or [[EV]].\n\nYour ability to block missiles doesn't benefit from [[repulsion]] or [[EV]].\n\n===Max Blocks===\nEach type of shield (or lack thereof) can only block a certain number of attacks per player turn:\n{| class=\"prettytable\" cellpadding=\"10\" border=\"9\"\n|- align=\"center\"\n! Shield type !! Max Blocks\n|-\n|None || 1\n|-\n|Buckler || 2\n|-\n|Kite shield || 3\n|-\n|Tower shield || 4\n|}\n\n===SH calculation===\nIf you are wielding a physical shield, its SH is determined as follows:<ref>{{source ref|0.31-b1|player.cc|2200}}<br>These values are divided by 200 by later functions.</ref>\n\n*Your '''Base SH''' is determined by type of shield. 3 for [[buckler]]s, 8 for [[kite shield]]s, 13 for [[tower shield]]s.\n*Add '''[[Shields (skill)|Skill Bonus]]''' of <code>(base_SH/40 + 0.19) * skill</code>.\n*Add '''[[Dexterity|Stat Bonus]]''' of <code>DEX * 38 * (base_SH + 13) / 5200</code>.\n*Add '''[[Enchant]]ment''' value. +1 enchantment = +1 SH.\n*Add 0.82 SH.<ref>{{source ref|0.31-b1|player.cc|2254}}<br>Divided by 2 by a later function.</ref>\n\nAll other sources of SH ([[Qazlal]] shield, [[amulet of reflection]]...) are flat bonuses, and are added on top of the physical shield bonus. The final value is rounded to the nearest integer and displayed as the player's SH value.\n\nIf you are [[paralysed]], [[petrified]], or if [[dexterity]] is 0, then SH is set to 0 regardless of any other factors.\n\n===Chance to block===\nThe game compares the attacker's \"pierce value\" to the defender's \"block value\".\n\nThe attacker's pierce value is dependent on their [[to-hit]] (accuracy) and the type of attack:\n* '''Melee attack:''' <code>1d(15 + to_hit/2)</code>\n* '''Ranged attack:'''  <code>1d(1.3×to hit)</code>\n\nThe defender's blocking value is equal to:<ref>{{source ref|0.30.1|player.cc|5656}}<br>Note that \"player_shield_class\" is half of your displayed SH.</ref>\n* '''All attacks:''' <code>2d(4×SH)/6 - 1</code>\n* Divide by 3 against melee attacks from [[invisible]] opponents.\n\nIf the blocking value is greater or equal than the attacker's pierce value, the attack is blocked.\n\n==History==\n*Prior to [[0.31]], shields did not have a hard limit on the number of attacks you could block. However, for each attack you blocked, future blocks attempts were less likely (attackers' pierce value was <code>1d(15 + to_hit/2 +5 × past_blocks^2)</code> for melee, similar for ranged). Also, instead of gaining 0.82 SH by default, the first three levels gave an extra +0.19 SH/level, and you only got 0.25 SH by default.\n*Prior to [[0.30]], species [[size]] impacted shield encumbrance and SH score. Larger species were less encumbered by shields, but received slightly less SH from kite shields. Smaller species were the opposite, more SH from bucklers/kite shields, but more encumbered by them. Strength had no effect on shield penalties.\n*In [[0.28]], magical [[orb]]s were added as a new category of off-hand equipment.\n*Prior to [[0.28]], shields had a different EV penalty formula, <code>EV_penalty - skill / (5 + [[Evasion#Base EV|size_factor]])</code> (buckler = 0.8 EV, kite shield = 3, tower shield = 5). Using shields at 0 skill was more encumbering, but certain skill thresholds (regular [[size]] species: 4 skill for buckler, 15 for kite shield, 25 for tower shield) negated penalties entirely. They also had a [[to-hit]] penalty. In addition, the two larger shields used [[strength]] (along with [[dexterity]]) to determine bonus SH. \n*Prior to [[0.27]], shields had a smaller and randomized penalty to [[attack delay]] (previously: <code>smaller of {1d(20 * EV)/20, 1d(20 * EV)/20}</code> rounded down).\n*Prior to [[0.25]], [[kite shield]]s were known as just \"shields\" and [[tower shield]]s were called \"large shields\".\n*Prior to [[0.17]], [[unarmed]] attacks had a speed penalty when attacking with a shield equipped.\n*Prior to [[0.16]], the amount of skill required to negate penalties for wearing a shield was more complex.\n\n==References==\n<references/>\n\n{{armours}}\n\n[[Category:Items]]\n[[Category:Shields]]"}