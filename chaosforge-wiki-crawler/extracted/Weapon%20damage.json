{"title":"Weapon damage","url":"http://crawl.chaosforge.org/Weapon_damage","type":"raw","data":"{{version031}}\n\nWeapon damage is your base weapon damage, multiplied by strength modifier, multiplied by weapon skill and fighting skill modifiers.  Slaying bonuses and weapon enchantment are added afterwards.  Actual damage components are randomly rolled in four places: 1d(Base * Strength modifier), Slaying bonus, Weapon skill modifier and Fighting modifier.\n\n==Damage formula==\n<code> Damage = [uniform(Base damage * Stat modifier) * Skill modifier * Fighting modifier + Misc modifiers + uniform(Slaying bonuses)] * final multipliers + Stabbing bonus - AC damage reduction</code><ref>{{source ref|0.31.0|attack.cc|1202}}</ref>\n*''While final multipliers are applied after stabbing bonus, the stabbing bonus doesn't benefit from these multipliers.''\n\nAs a shorthand <code>uniform(x) = 1d(x+1)-1</code> or a roll from 0 to x inclusive.\n\n*'''Base damage''':\n**Unarmed combat: 3 + UC skill (can be changed by some spells and the claws mutation, see [[Unarmed combat]])\n**Using a weapon: Base damage of the [[weapon]]\n**Using a thrown weapon:<ref>No damage for darts, nets, or thrown melee weapons</ref> Base thrown missile damage + [[Throwing]] skill\n***Throwing [[stone]]s: Base damage + ([[Throwing]] skill/2)\n**The [[heavy]] brand multiplies a weapon's base damage.\n*'''Stat modifier''':<ref>{{source ref|0.31.0|fight.cc|1332}}</ref>\n**<code>0.75 + (0.025 * [[Stats|Stat]])</code>, or a 2.5% boost per stat.\n**[[Short Blades]], [[Long Blades]], and [[Ranged Weapons]] use [[dexterity]]. Other weapons and Unarmed Combat use [[strength]]. \n**There is a minimum modifier of 0.01 (1%), at -30 stat.\n*'''Skill modifier''': \n**<code>1 + uniform(Weapon [[skill]])/25</code> (not applied to unarmed or throwing)\n**The other main advantage to raising a weapon/unarmed skill is decreasing your [[attack delay]].\n*'''Fighting modifier''':\n**<code>1 + uniform([[Fighting]] skill)/30</code>\n*'''Misc modifiers''':<ref>{{source ref|0.31.0|melee-attack.cc|1732}}</ref>\n**[[Status_effects#Might|Might]] or [[Status_effects#Berserk|Berserk]]: +1d10\n*'''Slaying bonuses''':\n**Weapon [[scroll of enchant weapon|enchantment bonus]]\n**Added or subtracted from [[Slaying#Sources|sources of slaying]].\n*'''Final multipliers''':<ref>{{source ref|0.31.0|melee-attack.cc|1735}}</ref>\n**If it is an additional [[cleaving]] attack: Multiply by 0.7<ref>{{source ref|0.31.0|melee-attack.cc|3782}}</ref>\n**[[Statue Form]]: Multiply by 1.5\n**[[Shadow Form]]: Multiply by 0.5\n**The [[Weak]] [[status effect]]: Multiply by 0.75\n**Bonuses for [[Wu Jian]] martial attacks and [[Vhi's Electric Charge]]\n**[[Confusing Touch]]: Set to 0\n*'''Stabbing bonus''': See [[stabbing]].\n*'''AC damage reduction''': See [[AC]].\n\n==Notes==\n*The main contributions to weapon damage are: base damage, weapon skill (avg. +54% at level 27) and fighting skill (avg. +45% at level 27).\n\n*At low skill values, 1 base damage roughly equals +1 slay. As you gain skill, only base damage is multiplied, resulting in a greater effect. 1 base damage = <code>1 + (average of Stat mod * Skill mod * Fight mod)</code> slaying.\n\n*When weapon damage is viewed in the ''''i''''nventory or with the '''@''' command, the \"Skill\" bonus is <code>Skill mod * Fighting mod</code>, using the average of both rolls.\n\n*Weapon [[brand]]s (except [[heavy]]) are applied at the end of the formula, after AC reduction. The added damage then ignores AC. \n:In other words, the [[flaming]] or [[freezing]] brands aren't any better on an [[executioner's axe]] than on a [[quickblade]]. For example, if a +0 axe and +9 quickblade dealt the same damage per turn, a +0 axe of flaming and +9 quickblade of flaming would also deal the same damage per turn.\n\n===Rounding===\nEach term in the formula is calculated in sequence and is rounded down to an integer. This rounding is worse with a weapon with low base damage. For example, take a player with Dex = 16 and Short Blades skill = 12: \n\n*With no slaying bonuses, a +0 dagger with a base damage of 4 cannot do more than 5 damage. \n*The same player wielding a +0 rapier with a base damage of 7 can do up to 11 damage. \n\nSo, the stat and skill bonuses increase the dagger's damage by 25% and the rapier's damage by 57%. The dagger would deal up to 10 damage per 10 [[aut]], while the rapier would deal up to 18. For this player, a +3 dagger would be inferior to a +0 rapier (if not used for [[stab]]bing).\n\n==History==\n*Prior to [[0.29]], all weapon damage scaled with [[strength]].\n*Prior to [[0.27]], the strength modifier was random.\n*Prior to [[0.18]], weapons used a mix of strength and dexterity, depending on the weapon itself.\n*Prior to [[0.13]], stats had half the effect on melee.\n*Between [[0.8]] and [[0.13]], melee weapons of [[speed (brand)|speed]] suffered a -10% penalty to damage.\n\n==References==\n<references/>\n\n[[Category:Game mechanics]]\n[[Category:Combat]]"}