{"title":"Attack speed","url":"http://crawl.chaosforge.org/Attack_speed","type":"raw","data":"{{version031}}\n''See [[Weapon Speed]] for tables summarising this information.''\n \n'''Attack speed''' is how fast a player can attack with [[melee weapon]]s, [[ranged weapon]]s, or [[Unarmed Combat]]. \n\nYour attack speed is usually measured in the form of \"'''attack delay'''\". A normal action takes 1.0 [[decaAut]], or 10 [[aut]], of time. The more aut you take, the slower you act. So if you have a smaller attack delay, you will attack faster.\n\n==Weapon Attack Delay==\nThe following conditions are applied in order:\n===Base delay===\nAll weapons, including [[ranged weapons]] and [[Throwing]] implements, have a base attack delay. When looking at the weapon in the ''''i''''nventory, you'll get the base attack delay (in decaAut). For example, a [[dagger]] has a base delay of 1.0 decaAut (10 aut).\n\nThe [[Weapon Speed]] page has a complete table of every weapon, in aut.\n\n===Skill===\nFor every 2 levels in the corresponding weapon [[skill]], your attack delay is reduced by 0.1 decaAut. There is a limit - every weapon has a '''minimum delay''', where skill cannot reduce attack speed any further.\n\nA weapon's mindelay is usually the ''smaller'' of <code>base delay / 2</code> or 0.7 decaAut. For example, a [[dagger]] has a base delay of 1.0, so it has a mindelay of 0.5. A [[large rock]] has a base delay of 2.0, but its mindelay is still 0.7 decaAut. There are a few exceptions to this rule, such as [[rapier]]s and [[triple crossbow]]s.\n\nUnarmed Combat works differently. For every 5.4 [[Unarmed Combat]] skill, attack delay is reduced by 0.1 decaAut.<ref>{{source ref|0.28.0|player-act.cc|272}}</ref> It otherwise works similarly to weapons.\n\n===Brands===\nWeapon [[brand]]s can modify speed, applied after accounting for skills.\n* The [[speed brand]] reduces your weapon delay by x66%.\n* The [[heavy]] brand increases your weapon's delay by +50%.\n\n===Body Armour===\nIf you are using a \"[[Ranged Weapons|Ranged Weapon]]\" (which does ''not'' include [[Throwing]] weapons), then [[body armour]] will slow down your attack speed (after brand). Body armour slows down attacks based on its [[encumbrance rating]].\n\nThe formula is <code>(encumbrance^2 / 2250) * (90 - 2 * [[Armour (skill)|armor_skill]]) / (3 + str)</code> decaAut.\n\nValues for armour encumbrance can be found on the [[Armour]] page. Unlike shields, the penalty cannot be fully eliminated with skill.\n\n===Shields===\n[[Shield]]s encumber their wielder, slowing down weapon speed (after brands are applied).\n\nFor EV penalty = <code>0.4 * encumbrance^2 / (5 + [[str]]) * (27 - [[Shields (skill)|sh_skill]]) / 27</code>, shields slow down attacks by <code>1d(EV Penalty) / 10</code> decaAut.<ref>{{source ref|0.30.0|player.cc|5739}}</ref><ref>{{source ref|0.30.0|player-act.cc|306}}</ref> If EV Penalty is not an integer, it is rounded in a weighted fashion before the dice function is rolled.\n\nThe values for shield encumbrance can be found on the [[Shields]] page. The shield penalty can be reduced to zero with a maxed out shield skill of 27.\n\n===Statuses===\n* [[Haste]] (including from [[berserk]]) reduces all action delays by a factor of 2/3\n* [[Okawaru]]'s Finesse ability reduces weapon delay by half. This does ''not'' stack with haste.\n* [[Statue Form]], [[Petrify]]ing, and [[Slow]]ness increase all delays by a factor of 3/2. These conditions do stack with haste and with each other.\n\nFinally, there is a hard limit of 0.1 decaAut, which no action can go under.\n\n==Spells==\nSpells can be used for attacking, and are thus included on this page. The vast majority of spells have a base delay of 1.0 decaAut. It can be modified by statuses (Haste, Statue Form, Slow...).\n\nA few spells attack with your weapon:\n* [[Manifold Assault]] uses your attack delay exactly (following the above formulae).\n* [[Vhi's Electric Charge]] uses the larger of your attack delay and your [[movement speed|movement delay]].\n\nAlso, [[Sandblast]] is cast at 1.5 delay, instead of 1.0.\n\n==Movement Based Attacks==\nSome attacks are combined with movement. Even if the actual attack delay is not changed, they are mentioned here for completeness.\n\n===Martial Arts Attacks===\nThe [[Wu Jian Council]] allows the player to make attacks based on movement.\n\nUnder normal circumstances, movement takes the usual amount of time, and make attacks based on that time. For example, lets say you move at 1.0 decaAut. If you have a weapon delay of 0.7, you'll always perform 1 attack on a move (taking 0.7 / 1.0 of the time), and have a 3/7 (0.3 / 0.7) chance for a 2nd attack. As an extreme example, a [[Naga]] (1.4 move delay) with a [[quick blade]] (0.3 attack delay) would attack 4 times per move, with a 50% chance of a 5th attack.\n\nSerpent's Lash treats your movement delay as 1.0 decaAut, regardless of your actual movement delay. Wall Jump counts as 2 actions, so doubles your movement delay.\n\n===Rampaging===\nThe [[rampaging]] ego lets you take a free step before attacking. If you are 1 space from an enemy, you'll move instantly and then attack at your normal attack delay.\n\n==Detailed Calculations==\nThe formulas above give you a very close approximation to the average attack delay. However, each individual attack can be subject to multiple sources of randomness:\n\n* If your weapon delay (post-skill, post-brand) is in fractional [[aut]], then it is rounded in a weighted fashion. For example, if you \"average\" attack is at 5.1 aut (0.51 decaAut), then you have a 10% chance to attack at 6 aut, and 90% chance to attack at 5 aut.\n\n* If you wear a [[shield]], the shield's penalty is also rounded in a weighted fashion. The EV penalty (<code>2/5 * encumbrance^2 / (5 + [[str]]) * (27 - [[Shields (skill)|sh_skill]]) / 27</code>) is calculated, then roudnd.\n\n* If you are using a [[ranged weapon]], then the penalty from [[body armour]] is also rounded in a weighted fashion, then added to delay.\n\nThis can result in a wider range of attack delays than the averaging of fractional delays would imply.\n\n===Example===\nTake a human wielding a short sword and buckler. The human has a [[short blade|short blade skill]] of 7.5, shield skill of 4, and strength of 15. The [[buckler]]'s encumbrance is 5.\n\n* The short sword has a base delay of 11 aut, which is reduced to 7.25 aut from skill. -> (75% for 7 aut, 25% for 8 aut)\n* The shield gives a penalty of 1d(0.40) -> (40% chance of +1, 60% for +0).\n\n{| class=\"wikitable\"\n|- align=\"center\"\n!\n!colspan=\"3\"|Delays\n|-\n! Source !! 7 !! 8 !! 9\n|-\n|Post-skill delay\n| 75% || 25% ||\n|-\n|Shield penalty\n| (75% * 60%) || (75% * 40%)<br>(25% * 60%) || (25% * 40%)\n|-\n|Final\n| 45% || 45% || 10%\n|}\n \nAverage delay = 7.6 aut. Looking at the average alone, you may think that you can only swing at 7 (40%) or 8 (60%) aut. However, there are 3 possible delays - 7, 8, and 9 aut - as shown above.\n\n==History==\n*Prior to [[0.31]], there was a hard minimum attack delay of 0.2 decaAut.\n*Prior to [[0.29]], body armour did not penalize [[Ranged Weapons]].\n*Prior to [[0.28]], the [[shield]] penalty formula was different. Certain skill thresholds (4 skill for buckler, 15 for kite shield, 25 for tower shield) negated it.\n*Prior to [[0.27]], the shield attack penalty was smaller (equal to the smaller of {1d(EV_penalty), 1d(EV_penalty)}).\n*Prior to [[0.16]], the amount of skill required to negate penalties for wearing a shield was more complex.\n\n==References==\n<references/>\n\n[[Category:Game mechanics]]"}