{"title":"Djinni","url":"http://crawl.chaosforge.org/Djinni","type":"raw","data":"{{version031}}\n{{flavour|Djinn are beings of smokeless fire. They enter the world spontaneously and without explanation, born with a tireless hunger for knowledge and adventure. Djinn have a unique relationship with magic: rather than learning spells from books, their spells come from within, welling up from their fiery core as they gain experience. They draw from that same fiery core to cast spells - for Djinn, magical power and health are one and the same.\n\nAs elemental beings, Djinn are immune to poison and highly resistant to fire, though cold damage is deeply inimical to them. Since they float through the air without need for legs or feet, they cannot wear boots.\n\nDjinn are middlingly competent at most forms of physical combat, but have a particular aptitude for spellcasting. Their aptitudes for all forms of magic are phenomenal, though their unique relationship with magic means that they cannot choose to train magic skills independently.}}\n\n==Innate Abilities==\n*Djinn are made of fire, not flesh:\n**'''[[Fire|Fire Resistance 2]]''': Djinn are highly resistant to fire.\n**'''[[Poison|Poison Immunity]]:''' Djinn are immune to poison.\n**'''[[Miasma|Miasma Immunity]]''': Djinn are immune to miasma and sickness.\n**'''[[Cold|Cold Vulnerability]]''': Djinn take extra damage from cold.\n** Djinn cannot be put to [[sleep]] and do not have [[blood]].\n*'''[[Floating]]''': Djinn's gaseous lower bodies allow them to [[fly]] permanently, but they are unable to wear [[boots]].\n*'''[[Extra Vitality]] 1''': Djinn have +4 maximum [[HP]].\n*'''[[HP Casting]]''': Djinn spend [[HP]] instead of [[MP]] for all purposes.\n**Djinn have zero MP. This makes MP restoration and [[spirit shield]] useless. It also renders immunity to MP drain (e.g. from [[ghost moth]]s) and the [[antimagic]] wielding penalty. Only MP \"costs\", from spells, abilities, and ability-like passives like [[infusion]] consume HP.\n*'''[[Innate Casting]]''': Djinn are unable to learn spells from [[spellbook]]s. Instead, they learn spells as they grow. Djinn still get all the starting spells from their [[background]].\n**Due to their unconventional approach to magic (and the [[Spell memorisation#Restrictions|21-spell limit]]), Djinn are unable to worship [[Sif Muna]], [[Vehumet]], or [[Kikubaaqudgha]].\n**Djinn are forced to train all spell schools, including [[Spellcasting]], at once. You can either train all the spell schools together, or none of them.\n\nDjinn have a base Strength of 7, Intelligence of 9, and Dexterity of 8 (before Background modifiers).\n\n==Preferred Backgrounds==\n*'''Warriors:''' [[Gladiator]]\n*'''Adventurers:''' [[Shapeshifter]]\n*'''Mages:''' [[Hedge Wizard]], [[Fire Elementalist]], [[Ice Elementalist]]\n\n==Level Bonuses==\n*+1 Intelligence or Dexterity every 4th level.\n*10% less [[HP]] than average.\n*+4 [[willpower]] per level.\n*Djinn receive random [[spells]] at every odd level, starting at [[XL]] 3. Spell specifics are listed below.\n\n==Spells==\n{| class=\"wikitable\"\n! XL !! 3 !! 5 !! 7 !! 9 !! 11 !! 13 !! 15 !! 17 !! 19 !! 21 !! 23 !! 25 !! 27\n|-\n! [[List of spells by level|Spell levels]]\n| 1\n| 2\n| 2-3\n| 3-4\n| 4-5\n| 5\n| 6\n| 6-7\n| 6-7\n| 7-8\n| 7-8\n| 8-9\n| 9\n|}\n\nDjinn can acquire any player spell, but there are several restrictions:<ref>{{source ref|0.31.0|ng-setup.cc|391}}</ref>\n*Spells must be new, which excludes the spells your [[Background]] starts with and spells you have already received.\n*Spells must be castable, which excludes [[Sublimation of Blood]].\n**Djinn can still receive spells forbidden by their [[god]], however (such as [[Necromancy]] spells when following a [[good god]], or any spell at all when following [[Trog]]).\n**Djinn who follow [[Ru]] can still receive spells from schools they have sacrificed.\n**Djinn can only receive [[Spellforged Servitor]] or [[Iskenderun's Battlesphere]] if they already have a spell that can be used by the servitor or trigger the battlesphere, respectively.\n\nAll eligible spells have the same chance to be gifted at a level up.\n\n==Starting Skills and Equipment==\nDjinn receive the skills, equipment, and spells listed for their background, save for the following restriction:\n*For magic skills, Djinn get a special modifier. Djinn takes the backgrounds highest ''base'' skill, as if they had Human aptitudes, then apply it to all spell schools equally. For example, an [[Ice Elementalist]]'s highest skill is 4 Ice Magic, so a Djinn Ice Elementalist gets 4 Spellcasting, 4 Fire Magic, 4 Ice Magic, etc.\n*Djinn do not get [[potions of magic]].\n\n==Difficulty of Play==\n{{Moderate}}\n\nDjinn, in many ways, are simpler spellcasters. Players don't have to worry about running out of MP, decide which spell schools to train, or even choose which spells to learn! However, magic-using Djinn have to be careful about their HP reserves, especially in dangerous situations where a few extra HP could make the difference between life and death. Also, they must adapt to whatever random spells they get, which may not synergize well with their current abilities or the player's preferred playstyle.\n\nDjinn have +11 aptitudes in magic, but are forced to train all skills equally. At the start of the game, this equates to training a single school at a -2.8 aptitude. But by the time a caster reaches mid-game, their effective aptitude is much higher than this in practice.<ref>\nDjinn split XP between 11 skills at a +11 aptitude. As XP cost = <code>2^(-apt/4)</code>, each skill level costs <code>2^(-11/4) * 11</code> = 1.63x the XP of a single skill. This equates to training a single \"skill\" at <code>-4 * log2(1.63)</code> = -2.84 aptitude. However, this \"skill\" includes both [every Spell School] and Spellcasting. Once you take that into account, Djinn are better than a -2.84 aptitude suggests. Say you want to cast a [[Conjurations]] spell:\n*If you were playing a [[Kobold]] (with flat 0 magic aptitudes) and ''only'' cared about [[spell power]], you would train to {5 Spellcasting, 15 Conjurations}. This would cost 7275 skill points.\n*A Djinn would reach the same amount of power at {13 Spellcasting, 13 Conjurations}. Each of the 11 skills costs 713 skill points, or 7843 skill points in total. This is only +7.8% more XP than the Kobold, or a '''-0.43''' aptitude. This happens because going from 12 -> 13 in a skill is cheaper than going from 14 -> 15 in a skill.\n*In practice, spell power isn't everything. The Kobold may want to train more Spellcasting, for either MP or spell level purposes. Said Kobold at {10 Spellcasting, 13.5 Conjurations} would reach the same power, but at a cost of 7913 skill points (more than the Djinn!). In other words, because Djinn don't need to spend XP for MP or spell levels, they can invest more into spell power.\n:\nFor dual-school spells, Djinn only become better. Using the same analysis for [[Fireball]], a Kobold would be efficient at {8 Spellcasting, 15 Fire, 15 Conj}, costing 15300 skill points. A Djinni equals that at {13.6 Spellcasting, 13.6 Fire, 13.6 Conj}, or 8657 skill points, which is 56.6% the XP. That's an effective aptitude of '''+3.29''' - substantially better than [[Deep Elves]]!\n:\nThe exact efficiency depends on the level of skill. At low skill levels, Djinn are truly around a -3 aptitude for single-school spells. At XL 27, Djinn can be cheaper than Kobolds, even for single-school spells.\n</ref> And, since every school is trained at once, dual- and triple-school spells are very easy to train. Overall, a dedicated mage will not have trouble casting spells.\n\nOther than that, poison immunity is helpful to survive the earlier portions of the game, and Djinn are passable in \"pure\" melee combat.\n{{species_aptitudes|Djinni}}\n\n==Strategy==\n*Djinn that want to cast any significant amount of spells will want to invest not only in [[Spellcasting]], but also [[Fighting]], to give themselves plenty of fuel for their spells. A source of [[regeneration rate|increased regeneration]] is also useful to have.\n\n===God Choice===\nTraditional, spell granting \"magic\" gods are unavailable for Djinn, but most other religions are reasonable to choose from:\n\n*[[Ashenzari]] is a generally strong god who offers skill boosts. Since Djinn can't worship Vehumet, Ash is the only god that can lower your spell failure rates directly.\n*[[Makhleb]] recovers HP on kill, which lets you cast spells more freely; a moderately strong god choice for spellcasting Djinn. \n*[[Elyvilon]] can be a good choice for the HP restoration, while [[The Shining One]] acts like Makhleb against undead and demonic creatures. Mind that you can still get [[evil]] spells when worshipping a good god, which the god will prevent you from casting.\n\n==History==\n*Prior to [[0.31]], Djinn had a -3 Spellcasting aptitude, and could not learn any other spell school. However, a level of Spellcasting counted as a level in every spell school (in addition to the bonus from Spellcasting itself).\n**Djinn skill training was slightly slower (roughly -0.16 aptitude), and their starting skills were particularly worse (due to having a \"-3\" aptitude).\n**Djinn could not benefit from the [[magical staff]] melee bonus, the [[pain brand]], or [[manual]]s of unlearnable spell schools. However, [[Ashenzari]] curses were particularly strong: Djinn were more likely to get useful curses, and \"Introspection\" curses benefited Fighting ''and'' the equivalent of every spell school.\n*The modern incarnation of Djinn, inspired by the Djinn of old and the [[Oni]] variant found in some forks of ''Dungeon Crawl'', was added in [[0.27]].\n*Djinn were considered for inclusion in both [[0.13]] and [[0.14]], but were ultimately cut before being included in any stable release. The old version had a more conventional approach to learning magic, but used 2 of their EP (HP and MP combined) for each MP spent. They were also subject to several special cases (complete immunity to all forms of [[fire]] including [[hellfire]], [[spell hunger]] caused [[magical contamination]], only certain methods of [[channeling]] worked).\n\n==References==\n<references />\n\n{{Species}}"}