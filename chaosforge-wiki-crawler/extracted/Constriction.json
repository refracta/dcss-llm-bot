{"title":"Constriction","url":"http://crawl.chaosforge.org/Constriction","type":"raw","data":"{{version031}}\n'''Constriction''' is the act of grabbing a target, preventing it from moving away, and crushing it to death over several turns. This lowers the [[ev]]asion of the target, and prevents them from moving or [[blink]]ing away.\n\n==List of constrictors==\n===Monsters===\n*{{Green|N}} [[File:Naga (monster).png]] '''[[Naga (monster)|Naga]]'''\n*{{monsterlink|Naga mage}}\n*{{monsterlink|Naga sharpshooter}}\n*{{monsterlink|Naga ritualist}}\n*{{monsterlink|Naga warrior}}\n*{{monsterlink|Nagaraja}}\n*{{monsterlink|Snaplasher vine}}\n*{{monsterlink|Ball python}}\n*{{monsterlink|Anaconda}}\n*{{monsterlink|Tentacled monstrosity}}\n*{{monsterlink|Starspawn tentacle}}\n*{{LightCyan|x}} [[File:Octopode (monster).png]] '''[[Octopode (monster)|Octopode]]'''\n*{{monsterlink|Vashnia}}\n*'''[[Grasping Roots]]'''\n**{{monsterlink|Jorgrun}}\n**{{monsterlink|Shambling mangrove}}\n\n===Playable species===\n*'''[[Octopode]]''' \n*'''[[Naga]]''' - gains the ability at [[experience level]] 13.\n\n===Forms===\n*'''[[Serpent talisman]]'''\n\n===Other Constriction Effects===\n*[[Borgnjor's Vile Clutch]]\n*[[Wand of roots]]\n\n==Initiating Constriction==\n\n===Melee Constriction===\nConstriction can occur whenever a constriction-capable character or monster makes a melee attack (not necessarily [[Unarmed Combat]]). All the following conditions apply:<ref>{{source ref|0.30.0|actor.cc|687}}</ref>\n*The attacker is not constricting another creature, unless the attacker is an Octopode. Octopodes are capable of maintaining up to eight at once (it doesn't matter if you wield weapons or shields).\n*The defender is not constricted or engulfed by another creature.\n*The attacker must be able to see the victim.\n*The attacker is not confused.\n*The size of the attacker is greater than or equal to the size of the defender.\n*The defender is not immune to constriction attacks (see below).\n*The defender must be next to the attacker (weapons of reaching don't allow you to constrict non-adjacent targets).\n\nIf all the previous requisites are met, the game rolls the to_hit of the attacker and the evasion/SH of the defender. For the player this is the standard [[auxiliary attack]] to_hit. Its calculated as follows:\n to_hit = 13 + DEX*0.75 + Fighting*0.3 + Slaying bonus + Other bonuses<ref>{{source ref|0.30.0|fight.cc|71}}</ref>\n\nFor the monsters, it is basically:\n to_hit = 18 + HD*1.5 + Other bonuses (replace 1.5 with 2.5 if the monster is a [[:Category:Fighter|fighter]] i.e. naga warriors)\nIf the attack hits, the constriction starts.\n\n===Spell Constriction===\nFor [[Borgnjor's Vile Clutch]], [[wand of roots]], or [[Grasping Roots]], the following apply:\n*The defender is not constricted or engulfed by another creature.\n*The attacker must be able to see the victim.\n*The defender is not immune to constriction attacks.\n*The defender is not over [[deep water]] or [[lava]].\n\nThese forms of constriction always hit.\n\n===Constriction Immunity===\nThe following monsters are immune:<ref>{{source ref|0.30.0|monster.cc|3834}}</ref>\n*[[list of jellies|jellies]],\n*[[:Category:Spiny|spiny]] monsters,\n*[[:Category:insubstantial monsters|insubstantial]] monsters.\n\nPlayer sources:<ref>{{source ref|0.30.0|player.cc|6438}}</ref>\n*[[insubstantial]] forms, like the [[Storm Form]] or [[wisp form]],\n*the [[Spiny (mutation)|Spiny]] mutation, which is available only to [[demonspawn]],\n*[[slick slippers]] unrand.\n\n==Maintaining Constriction==\nWhile the target is constricted, it will take an increasing amount of damage each turn, will be unable to move in any direction, and will suffer an [[ev]]asion penalty (-3 EV for the player; for monsters EV is divided by <code>2 + body [[size]]</code>). Attempting to move away will constitute an escape attempt, using all of the above variables along with the number of escape attempts thus far (successive attempts have better success rates) to determine whether or not the escape succeeds.\n\n===Damage Calculations===\nThe amount of damage inflicted every 10 [[aut]]s is:\n  (Base damage) * (1 + log2(1 + Duration/5)) * (0.33 + 0.67 * (XL/27))\n\n*'''Base damage''': For players constricting in melee, this is equal to <code>2d([[Strength]]/5)</code>. A character with 20 strength does twice the damage as a character with 10. When using [[Borgnjor's Vile Clutch]] or a [[wand of roots]], it depends of the [[spellpower|power]] of the cast. For monsters, it is the base damage of that particular attack.\n*'''Duration modifier''': The second factor means that the more time you have been constricting a monster the more damage you do. The damage is increased by approximately 20% each turn, so after 5 turns you will do twice as much damage as you did in the first turn. After the fifth turn the rate is a bit lower than 20%. Due to a bug, this modifier is not applied to players.\n*'''Experience level modifier''': The third factor means that your damage increases linearly with your [[experience level]]. A level 27 character will do thrice as much damage as one at level 1.\n\nThis damage is then modified as follows:\n\n*'''AC reduction''': Unlike most melee attacks, constriction is not reduced by a random number between 0 and [[AC]]; the damage reduction is a random number between 0 and <code>1 + AC/2</code>. This means that constriction bypasses half of the AC.\n*'''Time scale''': The previous formula calculates how much damage you do every 10 [[aut]]s. That amount needs to be scaled depending on how many auts you have spent in this turn. For example: if you are attacking with a [[dagger]] at minimum delay (5 aut), the previous amount will be multiplied by <code>5/10</code> (after AC reduction).\n\n==Escaping Constriction==\nAlong with simply succeeding at an escape attempt, there are a number of other methods for breaking free:\n*Killing the constrictor\n*If the constrictor moves from its current tile, constriction ends (even if the destination is still adjacent to the constricted target)\n**The [[dispersal (brand)|dispersal]] and [[distortion]] brands can force the constrictor to blink away (or be banished to [[the Abyss]])\n**Casting [[Teleport Other]], [[Dispersal]] or [[Disjunction]] has a similar effect\n**Forcing the constrictor back with [[Iskenderun's Mystic Blast]] may also work but may not be as effective against larger monsters\n**Casting [[Polar Vortex]] will force the enemy away from you much more aggressively\n*Disabling the constrictor with [[confusion]], [[Paralyze|paralysis]], [[Petrify|petrification]], [[fear]], or [[Sleep|unconsciousness]] immediately breaks constriction\n**[[wand of charming|Charming]] or [[polymorph]]ing the constrictor also breaks constriction (and likely prevents them from making future attempts)\n**[[Elyvilon]]'s healing abilities may allow you to pacify the constrictor\n*Becoming immune to constriction will immediately end the status.\n**[[Storm Form]] is immune to constriction.\n**[[Dragon Form]] is giant size, so it can only be constricted by tentacled monstrosities.\n*Any source of [[blink]]ing can get you free. It has improved odds as if you had already made an extra attempt.\n**[[Barachi]]m can hop away, while [[Dithmenos]] gives Shadow Step. Both also have improved escape odds, like with blink.\n*[[Teleportation]] will always let you escape constriction\n*[[Formicid]]'s shaft ability will always escape constriction\n*[[Zin]]'s Sanctuary ability breaks constriction\n*[[Ru]]'s Draw Out Power and Power Leap will always escape construction\n\n==History==\n{{CBA|0.32|constriction will be reworked:}}\n**The duration modifier to damage will be removed.\n**Escape chance will be simplified for players. The odds will be 40/75/100% for 1/2/3 attempts. Blinking and related effects will always escape constriction.\n**Escape chance for monsters will be modified to include HD in the formula. The new formula is intended to make the [[wand of roots]] stronger in the early game while requiring more investment in [[Evocations]] in the late game.\n**Constriction will apply -10 EV to both players and monsters. This replaces the previous EV penalty.\n**Constriction damage and duration will be rebalanced for most sources:\n***Monster melee constriction will be randomized and higher, while having only a 66% chance to apply.\n***Grasping Roots will have a higher minimum and lower maximum duration. Its damage will also be reduced.\n***Player melee constriction will no longer care about [[Strength|Str]].\n***All player sources will deal more damage.\n*Since [[0.18]], to-hit only depends on [[Dexterity]].\n*Prior to [[0.12]], the duration modifier to damage was applied to players.\n\n==References==\n<references/>\n[[Category:Status effects]]"}